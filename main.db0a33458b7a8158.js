(self.webpackChunkNightCrusadeTitans=self.webpackChunkNightCrusadeTitans||[]).push([[179],{242:(we,Ee,I)=>{"use strict";let x=null,V=1;function M(e){const t=x;return x=e,t}function C(e){if((!Z(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==V)){if(!e.producerMustRecompute(e)&&!S(e))return e.dirty=!1,void(e.lastCleanEpoch=V);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=V}}function S(e){he(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(C(n),r!==n.version))return!0}return!1}function G(e,t){if(function se(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),he(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)G(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];he(i),i.producerIndexOfThis[r]=t}}function Z(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function he(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let de=null;function et(e){return"function"==typeof e}function cn(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Qr=cn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function _r(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Gt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(et(r))try{r()}catch(o){t=o instanceof Qr?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Br(o)}catch(a){t=t??[],a instanceof Qr?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Qr(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Br(t);else{if(t instanceof Gt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&_r(n,t)}remove(t){const{_finalizers:n}=this;n&&_r(n,t),t instanceof Gt&&t._removeParent(this)}}Gt.EMPTY=(()=>{const e=new Gt;return e.closed=!0,e})();const _i=Gt.EMPTY;function Xi(e){return e instanceof Gt||e&&"closed"in e&&et(e.remove)&&et(e.add)&&et(e.unsubscribe)}function Br(e){et(e)?e():e.unsubscribe()}const Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},un={setTimeout(e,t,...n){const{delegate:r}=un;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=un;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function vr(e){un.setTimeout(()=>{const{onUnhandledError:t}=Jt;if(!t)throw e;t(e)})}function vi(){}const Do=ys("C",void 0,void 0);function ys(e,t,n){return{kind:e,value:t,error:n}}let yr=null;function xi(e){if(Jt.useDeprecatedSynchronousErrorHandling){const t=!yr;if(t&&(yr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=yr;if(yr=null,n)throw r}}else e()}class Vr extends Gt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Xi(t)&&t.add(this)):this.destination=Cs}static create(t,n,r){return new xr(t,n,r)}next(t){this.isStopped?So(function yi(e){return ys("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?So(function Xr(e){return ys("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?So(Do,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xs=Function.prototype.bind;function Ji(e,t){return xs.call(e,t)}class Oa{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){bo(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){bo(r)}else bo(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){bo(n)}}}class xr extends Vr{constructor(t,n,r){let i;if(super(),et(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Jt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Ji(t.next,o),error:t.error&&Ji(t.error,o),complete:t.complete&&Ji(t.complete,o)}):i=t}this.destination=new Oa(i)}}function bo(e){Jt.useDeprecatedSynchronousErrorHandling?function Ci(e){Jt.useDeprecatedSynchronousErrorHandling&&yr&&(yr.errorThrown=!0,yr.error=e)}(e):vr(e)}function So(e,t){const{onStoppedNotification:n}=Jt;n&&un.setTimeout(()=>n(e,t))}const Cs={closed:!0,next:vi,error:function Fa(e){throw e},complete:vi},Io="function"==typeof Symbol&&Symbol.observable||"@@observable";function Cr(e){return e}function ka(e){return 0===e.length?Cr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Mt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Es(e){return e&&e instanceof Vr||function Zc(e){return e&&et(e.next)&&et(e.error)&&et(e.complete)}(e)&&Xi(e)}(n)?n:new xr(n,r,i);return xi(()=>{const{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ws(r))((i,o)=>{const a=new xr({next:l=>{try{n(l)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Io](){return this}pipe(...n){return ka(n)(this)}toPromise(n){return new(n=ws(n))((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return e.create=t=>new e(t),e})();function ws(e){var t;return null!==(t=e??Jt.Promise)&&void 0!==t?t:Promise}const La=cn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Nn=(()=>{class e extends Mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ds(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new La}next(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?_i:(this.currentObservers=null,o.push(n),new Gt(()=>{this.currentObservers=null,_r(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Mt;return n.source=this,n}}return e.create=(t,n)=>new Ds(t,n),e})();class Ds extends Nn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:_i}}function bn(e){return et(e?.lift)}function tt(e){return t=>{if(bn(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(e,t,n,r,i){return new Ba(e,t,n,r,i)}class Ba extends Vr{constructor(t,n,r,i,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(l){try{n(l)}catch(u){t.error(u)}}:super._next,this._error=i?function(l){try{i(l)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function lt(e,t){return tt((n,r)=>{let i=0;n.subscribe(Ce(r,o=>{r.next(e.call(t,o,i++))}))})}function Jr(e){return this instanceof Jr?(this.v=e,this):new Jr(e)}function ct(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Kc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(l,u){!function i(o,a,l,u){Promise.resolve(u).then(function(h){o({value:h,done:l})},a)}(l,u,(a=e[o](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const As=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function wi(e){return et(e?.then)}function qt(e){return et(e[Io])}function Ei(e){return Symbol.asyncIterator&&et(e?.[Symbol.asyncIterator])}function No(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const za=function Ts(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Po(e){return et(e?.[za])}function $a(e){return function Qc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(_){r[_]&&(i[_]=function(y){return new Promise(function(D,O){o.push([_,y,D,O])>1||l(_,y)})})}function l(_,y){try{!function u(_){_.value instanceof Jr?Promise.resolve(_.value.v).then(h,p):g(o[0][2],_)}(r[_](y))}catch(D){g(o[0][3],D)}}function h(_){l("next",_)}function p(_){l("throw",_)}function g(_,y){_(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Jr(n.read());if(i)return yield Jr(void 0);yield yield Jr(r)}}finally{n.releaseLock()}})}function Wa(e){return et(e?.getReader)}function Pn(e){if(e instanceof Mt)return e;if(null!=e){if(qt(e))return function eu(e){return new Mt(t=>{const n=e[Io]();if(et(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(As(e))return function tu(e){return new Mt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(wi(e))return function Ga(e){return new Mt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,vr)})}(e);if(Ei(e))return Za(e);if(Po(e))return function Lh(e){return new Mt(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Wa(e))return function N0(e){return Za($a(e))}(e)}throw No(e)}function Za(e){return new Mt(t=>{(function Ge(e,t){var n,r,i,o;return function Fh(e,t,n,r){return new(n||(n=Promise))(function(o,a){function l(p){try{h(r.next(p))}catch(g){a(g)}}function u(p){try{h(r.throw(p))}catch(g){a(g)}}function h(p){p.done?o(p.value):function i(o){return o instanceof n?o:new n(function(a){a(o)})}(p.value).then(l,u)}h((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ct(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function dn(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function _n(e,t,n=1/0){return et(t)?_n((r,i)=>lt((o,a)=>t(r,o,i,a))(Pn(e(r,i))),n):("number"==typeof t&&(n=t),tt((r,i)=>function wt(e,t,n,r,i,o,a,l){const u=[];let h=0,p=0,g=!1;const _=()=>{g&&!u.length&&!h&&t.complete()},y=O=>h<r?D(O):u.push(O),D=O=>{o&&t.next(O),h++;let z=!1;Pn(n(O,p++)).subscribe(Ce(t,te=>{i?.(te),o?y(te):t.next(te)},()=>{z=!0},void 0,()=>{if(z)try{for(h--;u.length&&h<r;){const te=u.shift();a?dn(t,a,()=>D(te)):D(te)}_()}catch(te){t.error(te)}}))};return e.subscribe(Ce(t,y,()=>{g=!0,_()})),()=>{l?.()}}(r,i,e,n)))}function Di(e=1/0){return _n(Cr,e)}const sr=new Mt(e=>e.complete());function to(e){return e[e.length-1]}function hn(e){return et(to(e))?e.pop():void 0}function wr(e){return function nu(e){return e&&et(e.schedule)}(to(e))?e.pop():void 0}function ru(e,t=0){return tt((n,r)=>{n.subscribe(Ce(r,i=>dn(r,e,()=>r.next(i),t),()=>dn(r,e,()=>r.complete(),t),i=>dn(r,e,()=>r.error(i),t)))})}function Hh(e,t=0){return tt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function at(e,t){if(!e)throw new Error("Iterable cannot be null");return new Mt(n=>{dn(n,t,()=>{const r=e[Symbol.asyncIterator]();dn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Nt(e,t){return t?function Er(e,t){if(null!=e){if(qt(e))return function jh(e,t){return Pn(e).pipe(Hh(t),ru(t))}(e,t);if(As(e))return function P0(e,t){return new Mt(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(wi(e))return function iu(e,t){return Pn(e).pipe(Hh(t),ru(t))}(e,t);if(Ei(e))return at(e,t);if(Po(e))return function Uh(e,t){return new Mt(n=>{let r;return dn(n,t,()=>{r=e[za](),dn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){return void n.error(a)}o?n.complete():n.next(i)},0,!0)}),()=>et(r?.return)&&r.return()})}(e,t);if(Wa(e))return function R0(e,t){return at($a(e),t)}(e,t)}throw No(e)}(e,t):Pn(e)}class Wn extends Nn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Oe(...e){return Nt(e,wr(e))}function $h(e={}){const{connector:t=(()=>new Nn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let a,l,u,h=0,p=!1,g=!1;const _=()=>{l?.unsubscribe(),l=void 0},y=()=>{_(),a=u=void 0,p=g=!1},D=()=>{const O=a;y(),O?.unsubscribe()};return tt((O,z)=>{h++,!g&&!p&&_();const te=u=u??t();z.add(()=>{h--,0===h&&!g&&!p&&(l=qa(D,i))}),te.subscribe(z),!a&&h>0&&(a=new xr({next:K=>te.next(K),error:K=>{g=!0,_(),l=qa(y,n,K),te.error(K)},complete:()=>{p=!0,_(),l=qa(y,r),te.complete()}}),Pn(O).subscribe(a))})(o)}}function qa(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new xr({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function ar(e,t){return tt((n,r)=>{let i=null,o=0,a=!1;const l=()=>a&&!i&&r.complete();n.subscribe(Ce(r,u=>{i?.unsubscribe();let h=0;const p=o++;Pn(e(u,p)).subscribe(i=Ce(r,g=>r.next(t?t(u,g,p,h++):g),()=>{i=null,l()}))},()=>{a=!0,l()}))})}function ou(e,t){return e===t}function ft(e){for(let t in e)if(e[t]===ft)return t;throw Error("Could not find renamed property on target object.")}function Gn(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function en(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(en).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ka(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Wh=ft({__forward_ref__:ft});function xt(e){return e.__forward_ref__=xt,e.toString=function(){return en(this())},e}function ke(e){return Ya(e)?e():e}function Ya(e){return"function"==typeof e&&e.hasOwnProperty(Wh)&&e.__forward_ref__===xt}function Qa(e){return e&&!!e.\u0275providers}const Gh="https://g.co/ng/security#xss";class ae extends Error{constructor(t,n){super(function bi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}const Ms=ft({\u0275cmp:ft}),Xa=ft({\u0275dir:ft}),Ja=ft({\u0275pipe:ft}),Ns=ft({\u0275mod:ft}),Rn=ft({\u0275fac:ft}),Ps=ft({__NG_ELEMENT_ID__:ft}),Ro=ft({__NG_ENV_ID__:ft});function Re(e){return"string"==typeof e?e:null==e?"":String(e)}function au(e,t){throw new ae(-201,!1)}function Kt(e,t){null==e&&function Fe(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ie(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Zn(e){return{providers:e.providers||[],imports:e.imports||[]}}function lr(e){return lu(e,Oo)||lu(e,io)}function lu(e,t){return e.hasOwnProperty(t)?e[t]:null}function ro(e){return e&&(e.hasOwnProperty(Fo)||e.hasOwnProperty(nl))?e[Fo]:null}const Oo=ft({\u0275prov:ft}),Fo=ft({\u0275inj:ft}),io=ft({ngInjectableDef:ft}),nl=ft({ngInjectorDef:ft});var Qe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Qe||{});let rl;function Kh(){return rl}function vn(e){const t=rl;return rl=e,t}function Yh(e,t,n){const r=lr(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Qe.Optional?null:void 0!==t?t:void au(en(e))}const Et=globalThis;class _e{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vs={},br="__NG_DI_FLAG__",Hs="ngTempTokenPath",js=/\n/gm,Us="__source";let Hr;function ei(e){const t=Hr;return Hr=e,t}function W0(e,t=Qe.Default){if(void 0===Hr)throw new ae(-203,!1);return null===Hr?Yh(e,void 0,t):Hr.get(e,t&Qe.Optional?null:void 0,t)}function Me(e,t=Qe.Default){return(Kh()||W0)(ke(e),t)}function pe(e,t=Qe.Default){return Me(e,zs(t))}function zs(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ol(e){const t=[];for(let n=0;n<e.length;n++){const r=ke(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ae(900,!1);let i,o=Qe.Default;for(let a=0;a<r.length;a++){const l=r[a],u=ef(l);"number"==typeof u?-1===u?i=l.token:o|=u:i=l}t.push(Me(i,o))}else t.push(Me(r))}return t}function $s(e,t){return e[br]=t,e.prototype[br]=t,e}function ef(e){return e[br]}function s(e){return{toString:e}.toString()}var c=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(c||{}),d=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(d||{});const f={},m=[];function v(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function T(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],a=n[r++],l=n[r++];e.setAttribute(t,a,l,o)}else{const o=i,a=n[++r];W(o)?e.setProperty(t,o,a):e.setAttribute(t,o,a),r++}}return r}function B(e){return 3===e||4===e||6===e}function W(e){return 64===e.charCodeAt(0)}function ie(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||De(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function De(e,t,n,r,i){let o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){const l=e[o++];if("number"==typeof l){if(l===t){a=-1;break}if(l>t){a=o-1;break}}}for(;o<e.length;){const l=e[o];if("number"==typeof l)break;if(l===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const Be="ng-template";function Je(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const a=e[r++];if(n&&"class"===o&&-1!==v(a.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function Sn(e){return 4===e.type&&e.value!==Be}function fn(e,t,n){return t===(4!==e.type||n?e.value:Be)}function cr(e,t,n){let r=4;const i=e.attrs||[],o=function q0(e){for(let t=0;t<e.length;t++)if(B(e[t]))return t;return e.length}(i);let a=!1;for(let l=0;l<t.length;l++){const u=t[l];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!fn(e,u,n)||""===u&&1===t.length){if(Pt(r))return!1;a=!0}}else{const h=8&r?u:t[++l];if(8&r&&null!==e.attrs){if(!Je(e.attrs,h,n)){if(Pt(r))return!1;a=!0}continue}const g=Lo(8&r?"class":u,i,Sn(e),n);if(-1===g){if(Pt(r))return!1;a=!0;continue}if(""!==h){let _;_=g>o?"":i[g+1].toLowerCase();const y=8&r?_:null;if(y&&-1!==v(y,h,0)||2&r&&h!==_){if(Pt(r))return!1;a=!0}}}}else{if(!a&&!Pt(r)&&!Pt(u))return!1;if(a&&Pt(u))continue;a=!1,r=u|1&r}}return Pt(r)||a}function Pt(e){return 0==(1&e)}function Lo(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){let l=t[++i];for(;"string"==typeof l;)l=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function rf(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function nf(e,t,n=!1){for(let r=0;r<t.length;r++)if(cr(e,t[r],n))return!0;return!1}function pu(e,t){return e?":not("+t.trim()+")":t}function tn(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let a=e[n];if("string"==typeof a)if(2&r){const l=e[++n];i+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!Pt(a)&&(t+=pu(o,i),i=""),r=a,o=o||!Pt(r);n++}return""!==i&&(t+=pu(o,i)),t}function ti(e){return s(()=>{const t=mw(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===c.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||d.Emulated,styles:e.styles||m,_:null,schemas:e.schemas||null,tView:null,id:""};_w(n);const r=e.dependencies;return n.directiveDefs=af(r,!1),n.pipeDefs=af(r,!0),n.id=function r2(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Q0(e){return nt(e)||yn(e)}function gu(e){return null!==e}function qn(e){return s(()=>({type:e.type,bootstrap:e.bootstrap||m,declarations:e.declarations||m,imports:e.imports||m,exports:e.exports||m,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function sf(e,t){if(null==e)return f;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function Ue(e){return s(()=>{const t=mw(e);return _w(t),t})}function Kn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function nt(e){return e[Ms]||null}function yn(e){return e[Xa]||null}function On(e){return e[Ja]||null}function Bn(e,t){const n=e[Ns]||null;if(!n&&!0===t)throw new Error(`Type ${en(e)} does not have '\u0275mod' property.`);return n}function mw(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||f,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||m,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sf(e.inputs,t),outputs:sf(e.outputs),debugInfo:null}}function _w(e){e.features?.forEach(t=>t(e))}function af(e,t){if(!e)return null;const n=t?On:Q0;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(gu)}const nn=0,ge=1,Ve=2,zt=3,ni=4,Vn=5,Ti=6,al=7,St=8,Yn=9,ll=10,ze=11,mu=12,vw=13,cl=14,Yt=15,_u=16,ul=17,Mi=18,vu=19,yw=20,Vo=21,lf=22,Ws=23,$e=25,X0=1,Ni=7,dl=9,on=10;var hl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(hl||{});function Fn(e){return Array.isArray(e)&&"object"==typeof e[X0]}function In(e){return Array.isArray(e)&&!0===e[X0]}function J0(e){return 0!=(4&e.flags)}function Gs(e){return e.componentOffset>-1}function uf(e){return 1==(1&e.flags)}function ri(e){return!!e.template}function em(e){return 0!=(512&e[Ve])}function Zs(e,t){return e.hasOwnProperty(Rn)?e[Rn]:null}class a2{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function jr(){return Ew}function Ew(e){return e.type.prototype.ngOnChanges&&(e.setInput=c2),l2}function l2(){const e=bw(this),t=e?.current;if(t){const n=e.previous;if(n===f)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function c2(e,t,n,r){const i=this.declaredInputs[n],o=bw(e)||function u2(e,t){return e[Dw]=t}(e,{previous:f,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[i];a[i]=new a2(u&&u.currentValue,t,l===f),e[r]=t}jr.ngInherit=!0;const Dw="__ngSimpleChanges__";function bw(e){return e[Dw]||null}const Pi=function(e,t,n){},Sw="svg";function Rt(e){for(;Array.isArray(e);)e=e[nn];return e}function xu(e,t){return Rt(t[e])}function Qn(e,t){return Rt(t[e.index])}function Cu(e,t){return e.data[t]}function fl(e,t){return e[t]}function Sr(e,t){const n=t[e];return Fn(n)?n:n[nn]}function om(e){return 128==(128&e[Ve])}function Ri(e,t){return null==t?null:e[t]}function Aw(e){e[ul]=0}function g2(e){1024&e[Ve]||(e[Ve]|=1024,om(e)&&df(e))}function Mw(e){return 9216&e[Ve]||e[Ws]?.dirty}function Nw(e){Mw(e)&&df(e)}function df(e){let t=e[zt];for(;null!==t&&!(In(t)&&t[Ve]&hl.HasChildViewsToRefresh||Fn(t)&&8192&t[Ve]);){if(In(t))t[Ve]|=hl.HasChildViewsToRefresh;else if(t[Ve]|=8192,!om(t))break;t=t[zt]}}function hf(e,t){if(256==(256&e[Ve]))throw new ae(911,!1);null===e[Vo]&&(e[Vo]=[]),e[Vo].push(t)}const je={lFrame:jw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Rw(){return je.bindingsEnabled}function J(){return je.lFrame.lView}function ut(){return je.lFrame.tView}function Ho(e){return je.lFrame.contextLView=e,e[St]}function jo(e){return je.lFrame.contextLView=null,e}function Dt(){let e=Ow();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ow(){return je.lFrame.currentTNode}function Oi(e,t){const n=je.lFrame;n.currentTNode=e,n.isParent=t}function am(){return je.lFrame.isParent}function Xn(){const e=je.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Fi(){return je.lFrame.bindingIndex++}function so(e){const t=je.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function S2(e,t){const n=je.lFrame;n.bindingIndex=n.bindingRootIndex=e,cm(t)}function cm(e){je.lFrame.currentDirectiveIndex=e}function Bw(){return je.lFrame.currentQueryIndex}function dm(e){je.lFrame.currentQueryIndex=e}function A2(e){const t=e[ge];return 2===t.type?t.declTNode:1===t.type?e[Vn]:null}function Vw(e,t,n){if(n&Qe.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Qe.Host||(i=A2(o),null===i||(o=o[cl],10&i.type))););if(null===i)return!1;t=i,e=o}const r=je.lFrame=Hw();return r.currentTNode=t,r.lView=e,!0}function hm(e){const t=Hw(),n=e[ge];je.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Hw(){const e=je.lFrame,t=null===e?null:e.child;return null===t?jw(e):t}function jw(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Uw(){const e=je.lFrame;return je.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const zw=Uw;function fm(){const e=Uw();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Hn(){return je.lFrame.selectedIndex}function qs(e){je.lFrame.selectedIndex=e}function Ut(){const e=je.lFrame;return Cu(e.tView,e.selectedIndex)}let Gw=!0;function ff(){return Gw}function Uo(e){Gw=e}function pf(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:p}=o;a&&(e.contentHooks??=[]).push(-n,a),l&&((e.contentHooks??=[]).push(n,l),(e.contentCheckHooks??=[]).push(n,l)),u&&(e.viewHooks??=[]).push(-n,u),h&&((e.viewHooks??=[]).push(n,h),(e.viewCheckHooks??=[]).push(n,h)),null!=p&&(e.destroyHooks??=[]).push(n,p)}}function gf(e,t,n){Zw(e,t,3,n)}function mf(e,t,n,r){(3&e[Ve])===n&&Zw(e,t,n,r)}function pm(e,t){let n=e[Ve];(3&n)===t&&(n&=16383,n+=1,e[Ve]=n)}function Zw(e,t,n,r){const o=r??-1,a=t.length-1;let l=0;for(let u=void 0!==r?65535&e[ul]:0;u<a;u++)if("number"==typeof t[u+1]){if(l=t[u],null!=r&&l>=r)break}else t[u]<0&&(e[ul]+=65536),(l<o||-1==o)&&(O2(e,n,t,u),e[ul]=(4294901760&e[ul])+u+2),u++}function qw(e,t){Pi(4,e,t);const n=M(null);try{t.call(e)}finally{M(n),Pi(5,e,t)}}function O2(e,t,n,r){const i=n[r]<0,o=n[r+1],l=e[i?-n[r]:n[r]];i?e[Ve]>>14<e[ul]>>16&&(3&e[Ve])===t&&(e[Ve]+=16384,qw(l,o)):qw(l,o)}const gl=-1;class Eu{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function mm(e){return e!==gl}function Du(e){return 32767&e}function bu(e,t){let n=function V2(e){return e>>16}(e),r=t;for(;n>0;)r=r[cl],n--;return r}let _m=!0;function _f(e){const t=_m;return _m=e,t}const Kw=255,Yw=5;let H2=0;const ki={};function vf(e,t){const n=Qw(e,t);if(-1!==n)return n;const r=t[ge];r.firstCreatePass&&(e.injectorIndex=t.length,vm(r.data,e),vm(t,null),vm(r.blueprint,null));const i=yf(e,t),o=e.injectorIndex;if(mm(i)){const a=Du(i),l=bu(i,t),u=l[ge].data;for(let h=0;h<8;h++)t[o+h]=l[a+h]|u[a+h]}return t[o+8]=i,o}function vm(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qw(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function yf(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=iE(i),null===r)return gl;if(n++,i=i[cl],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return gl}function ym(e,t,n){!function j2(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ps)&&(r=n[Ps]),null==r&&(r=n[Ps]=H2++);const i=r&Kw;t.data[e+(i>>Yw)]|=1<<i}(e,t,n)}function Xw(e,t,n){if(n&Qe.Optional||void 0!==e)return e;au()}function Jw(e,t,n,r){if(n&Qe.Optional&&void 0===r&&(r=null),!(n&(Qe.Self|Qe.Host))){const i=e[Yn],o=vn(void 0);try{return i?i.get(t,r,n&Qe.Optional):Yh(t,r,n&Qe.Optional)}finally{vn(o)}}return Xw(r,0,n)}function eE(e,t,n,r=Qe.Default,i){if(null!==e){if(2048&t[Ve]&&!(r&Qe.Self)){const a=function G2(e,t,n,r,i){let o=e,a=t;for(;null!==o&&null!==a&&2048&a[Ve]&&!(512&a[Ve]);){const l=tE(o,a,n,r|Qe.Self,ki);if(l!==ki)return l;let u=o.parent;if(!u){const h=a[yw];if(h){const p=h.get(n,ki,r);if(p!==ki)return p}u=iE(a),a=a[cl]}o=u}return i}(e,t,n,r,ki);if(a!==ki)return a}const o=tE(e,t,n,r,ki);if(o!==ki)return o}return Jw(t,n,r,i)}function tE(e,t,n,r,i){const o=function $2(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ps)?e[Ps]:void 0;return"number"==typeof t?t>=0?t&Kw:W2:t}(n);if("function"==typeof o){if(!Vw(t,e,r))return r&Qe.Host?Xw(i,0,r):Jw(t,n,r,i);try{let a;if(a=o(r),null!=a||r&Qe.Optional)return a;au()}finally{zw()}}else if("number"==typeof o){let a=null,l=Qw(e,t),u=gl,h=r&Qe.Host?t[Yt][Vn]:null;for((-1===l||r&Qe.SkipSelf)&&(u=-1===l?yf(e,t):t[l+8],u!==gl&&rE(r,!1)?(a=t[ge],l=Du(u),t=bu(u,t)):l=-1);-1!==l;){const p=t[ge];if(nE(o,l,p.data)){const g=z2(l,t,n,a,r,h);if(g!==ki)return g}u=t[l+8],u!==gl&&rE(r,t[ge].data[l+8]===h)&&nE(o,l,t)?(a=p,l=Du(u),t=bu(u,t)):l=-1}}return i}function z2(e,t,n,r,i,o){const a=t[ge],l=a.data[e+8],p=xf(l,a,n,null==r?Gs(l)&&_m:r!=a&&0!=(3&l.type),i&Qe.Host&&o===l);return null!==p?Ks(t,a,p,l):ki}function xf(e,t,n,r,i){const o=e.providerIndexes,a=t.data,l=1048575&o,u=e.directiveStart,p=o>>20,_=i?l+p:e.directiveEnd;for(let y=r?l:l+p;y<_;y++){const D=a[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){const y=a[u];if(y&&ri(y)&&y.type===n)return u}return null}function Ks(e,t,n,r){let i=e[n];const o=t.data;if(function F2(e){return e instanceof Eu}(i)){const a=i;a.resolving&&function su(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ae(-200,`Circular dependency in DI detected for ${e}${n}`)}(function dt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Re(e)}(o[n]));const l=_f(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?vn(a.injectImpl):null;Vw(e,r,Qe.Default);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function R2(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const a=Ew(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==h&&vn(h),_f(l),a.resolving=!1,zw()}}return i}function nE(e,t,n){return!!(n[t+(e>>Yw)]&1<<e)}function rE(e,t){return!(e&Qe.Self||e&Qe.Host&&t)}class xn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return eE(this._tNode,this._lView,t,zs(r),n)}}function W2(){return new xn(Dt(),J())}function An(e){return s(()=>{const t=e.prototype.constructor,n=t[Rn]||xm(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Rn]||xm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xm(e){return Ya(e)?()=>{const t=xm(ke(e));return t&&t()}:Zs(e)}function iE(e){const t=e[ge],n=t.type;return 2===n?t.declTNode:1===n?e[Vn]:null}const yl="__parameters__";function Cl(e,t,n){return s(()=>{const r=function Cm(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const a=new i(...o);return l.annotation=a,l;function l(u,h,p){const g=u.hasOwnProperty(yl)?u[yl]:Object.defineProperty(u,yl,{value:[]})[yl];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(a),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function El(e,t){e.forEach(n=>Array.isArray(n)?El(n,t):t(n))}function sE(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function wf(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ir(e,t,n){let r=Dl(e,t);return r>=0?e[1|r]=n:(r=~r,function aE(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Em(e,t){const n=Dl(e,t);if(n>=0)return e[1|n]}function Dl(e,t){return function lE(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),a=e[o<<n];if(t===a)return o<<n;a>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Df=$s(Cl("Optional"),8),bf=$s(Cl("SkipSelf"),4),Sl=new _e("ENVIRONMENT_INITIALIZER"),hE=new _e("INJECTOR",-1),Sm=new _e("INJECTOR_DEF_TYPES");class If{get(t,n=Vs){if(n===Vs){const r=new Error(`NullInjectorError: No provider for ${en(t)}!`);throw r.name="NullInjectorError",r}return n}}function pO(...e){return{\u0275providers:fE(0,e),\u0275fromNgModule:!0}}function fE(e,...t){const n=[],r=new Set;let i;const o=a=>{n.push(a)};return El(t,a=>{const l=a;Af(l,o,[],r)&&(i||=[],i.push(l))}),void 0!==i&&pE(i,o),n}function pE(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Am(i,o=>{t(o,r)})}}function Af(e,t,n,r){if(!(e=ke(e)))return!1;let i=null,o=ro(e);const a=!o&&nt(e);if(o||a){if(a&&!a.standalone)return!1;i=e}else{const u=e.ngModule;if(o=ro(u),!o)return!1;i=u}const l=r.has(i);if(a){if(l)return!1;if(r.add(i),a.dependencies){const u="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const h of u)Af(h,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!l){let h;r.add(i);try{El(o.imports,p=>{Af(p,t,n,r)&&(h||=[],h.push(p))})}finally{}void 0!==h&&pE(h,t)}if(!l){const h=Zs(i)||(()=>new i);t({provide:i,useFactory:h,deps:m},i),t({provide:Sm,useValue:i,multi:!0},i),t({provide:Sl,useValue:()=>Me(i),multi:!0},i)}const u=o.providers;if(null!=u&&!l){const h=e;Am(u,p=>{t(p,h)})}}}return i!==e&&void 0!==e.providers}function Am(e,t){for(let n of e)Qa(n)&&(n=n.\u0275providers),Array.isArray(n)?Am(n,t):t(n)}const gO=ft({provide:String,useValue:ft});function Tm(e){return null!==e&&"object"==typeof e&&gO in e}function Ys(e){return"function"==typeof e}const Mm=new _e("Set Injector scope."),Tf={},_O={};let Nm;function Mf(){return void 0===Nm&&(Nm=new If),Nm}class Ar{}class Il extends Ar{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rm(t,a=>this.processProvider(a)),this.records.set(hE,Al(void 0,this)),i.has("environment")&&this.records.set(Ar,Al(void 0,this));const o=this.records.get(Mm);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Sm,m,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ei(this),r=vn(void 0);try{return t()}finally{ei(n),vn(r)}}get(t,n=Vs,r=Qe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ro))return t[Ro](this);r=zs(r);const o=ei(this),a=vn(void 0);try{if(!(r&Qe.SkipSelf)){let u=this.records.get(t);if(void 0===u){const h=function wO(e){return"function"==typeof e||"object"==typeof e&&e instanceof _e}(t)&&lr(t);u=h&&this.injectableDefInScope(h)?Al(Pm(t),Tf):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(r&Qe.Self?Mf():this.parent).get(t,n=r&Qe.Optional&&n===Vs?null:n)}catch(l){if("NullInjectorError"===l.name){if((l[Hs]=l[Hs]||[]).unshift(en(t)),o)throw l;return function tf(e,t,n,r){const i=e[Hs];throw t[Us]&&i.unshift(t[Us]),e.message=function G0(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=en(t);if(Array.isArray(t))i=t.map(en).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let l=t[a];o.push(a+":"+("string"==typeof l?JSON.stringify(l):en(l)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(js,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Hs]=null,e}(l,t,"R3InjectorError",this.source)}throw l}finally{vn(a),ei(o)}}resolveInjectorInitializers(){const t=ei(this),n=vn(void 0);try{const i=this.get(Sl,m,Qe.Self);for(const o of i)o()}finally{ei(t),vn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(en(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(t){let n=Ys(t=ke(t))?t:ke(t&&t.provide);const r=function yO(e){return Tm(e)?Al(void 0,e.useValue):Al(_E(e),Tf)}(t);if(Ys(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Al(void 0,Tf,!0),i.factory=()=>ol(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Tf&&(n.value=_O,n.value=n.factory()),"object"==typeof n.value&&n.value&&function CO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ke(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Pm(e){const t=lr(e),n=null!==t?t.factory:Zs(e);if(null!==n)return n;if(e instanceof _e)throw new ae(204,!1);if(e instanceof Function)return function vO(e){const t=e.length;if(t>0)throw function Iu(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new ae(204,!1);const n=function cu(e){return e&&(e[Oo]||e[io])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ae(204,!1)}function _E(e,t,n){let r;if(Ys(e)){const i=ke(e);return Zs(i)||Pm(i)}if(Tm(e))r=()=>ke(e.useValue);else if(function mE(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...ol(e.deps||[]));else if(function gE(e){return!(!e||!e.useExisting)}(e))r=()=>Me(ke(e.useExisting));else{const i=ke(e&&(e.useClass||e.provide));if(!function xO(e){return!!e.deps}(e))return Zs(i)||Pm(i);r=()=>new i(...ol(e.deps))}return r}function Al(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Rm(e,t){for(const n of e)Array.isArray(n)?Rm(n,t):n&&Qa(n)?Rm(n.\u0275providers,t):t(n)}function zo(e,t){e instanceof Il&&e.assertNotDestroyed();const r=ei(e),i=vn(void 0);try{return t()}finally{ei(r),vn(i)}}function CE(e,t=null,n=null,r){const i=wE(e,t,n,r);return i.resolveInjectorInitializers(),i}function wE(e,t=null,n=null,r,i=new Set){const o=[n||m,pO(e)];return r=r||("object"==typeof e?void 0:en(e)),new Il(o,t||Mf(),r||null,i)}let km,dr=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Vs;static#t=this.NULL=new If;static create(n,r){if(Array.isArray(n))return CE({name:""},r,n,"");{const i=n.name??"";return CE({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Ie({token:e,providedIn:"any",factory:()=>Me(hE)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();const Pf=new _e("AppId",{providedIn:"root",factory:()=>NO}),NO="ng",DE=new _e("Platform Initializer"),Qs=new _e("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bE=new _e("CSP nonce",{providedIn:"root",factory:()=>function Wo(){if(void 0!==km)return km;if(typeof document<"u")return document;throw new ae(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Tr(e){return e instanceof Function?e():e}function kf(e){return 128==(128&e.flags)}var qo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(qo||{});const jm=new Map;let $O=0;const zm="__ngContext__";function jn(e,t){Fn(t)?(e[zm]=t[vu],function GO(e){jm.set(e[vu],e)}(t)):e[zm]=t}let $m;function Wm(e,t){return $m(e,t)}function Ru(e){const t=e[zt];return In(t)?t[zt]:t}function zE(e){return WE(e[mu])}function $E(e){return WE(e[ni])}function WE(e){for(;null!==e&&!In(e);)e=e[ni];return e}function Ml(e,t,n,r,i){if(null!=r){let o,a=!1;In(r)?o=r:Fn(r)&&(a=!0,r=r[nn]);const l=Rt(r);0===e&&null!==n?null==i?KE(t,n,l):Xs(t,n,l,i||null,!0):1===e&&null!==n?Xs(t,n,l,i||null,!0):2===e?function zf(e,t,n){const r=jf(e,t);r&&function dF(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,l,a):3===e&&t.destroyNode(l),null!=o&&function pF(e,t,n,r,i){const o=n[Ni];o!==Rt(n)&&Ml(t,e,r,o,i);for(let l=on;l<n.length;l++){const u=n[l];ku(u[ge],u,e,t,r,o)}}(t,e,o,n,i)}}function Vf(e,t,n){return e.createElement(t,n)}function ZE(e,t){const n=e[dl],r=n.indexOf(t);n.splice(r,1)}function Ou(e,t){if(e.length<=on)return;const n=on+t,r=e[n];if(r){const i=r[_u];null!==i&&i!==e&&ZE(i,r),t>0&&(e[n-1][ni]=r[ni]);const o=wf(e,on+t);!function rF(e,t){ku(e,t,t[ze],2,null,null),t[nn]=null,t[Vn]=null}(r[ge],r);const a=o[Mi];null!==a&&a.detachView(o[ge]),r[zt]=null,r[ni]=null,r[Ve]&=-129}return r}function Hf(e,t){if(!(256&t[Ve])){const n=t[ze];t[Ws]&&function $(e){if(he(e),Z(e))for(let t=0;t<e.producerNode.length;t++)G(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Ws]),n.destroyNode&&ku(e,t,n,3,null,null),function sF(e){let t=e[mu];if(!t)return Zm(e[ge],e);for(;t;){let n=null;if(Fn(t))n=t[mu];else{const r=t[on];r&&(n=r)}if(!n){for(;t&&!t[ni]&&t!==e;)Fn(t)&&Zm(t[ge],t),t=t[zt];null===t&&(t=e),Fn(t)&&Zm(t[ge],t),n=t&&t[ni]}t=n}}(t)}}function Zm(e,t){if(!(256&t[Ve])){t[Ve]&=-129,t[Ve]|=256,function uF(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Eu)){const o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const l=i[o[a]],u=o[a+1];Pi(4,l,u);try{u.call(l)}finally{Pi(5,l,u)}}else{Pi(4,i,o);try{o.call(i)}finally{Pi(5,i,o)}}}}}(e,t),function cF(e,t){const n=e.cleanup,r=t[al];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[al]=null);const i=t[Vo];if(null!==i){t[Vo]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[ge].type&&t[ze].destroy();const n=t[_u];if(null!==n&&In(t[zt])){n!==t[zt]&&ZE(n,t);const r=t[Mi];null!==r&&r.detachView(e)}!function ZO(e){jm.delete(e[vu])}(t)}}function qm(e,t,n){return function qE(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[nn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===d.None||o===d.Emulated)return null}return Qn(r,n)}}(e,t.parent,n)}function Xs(e,t,n,r,i){e.insertBefore(t,n,r,i)}function KE(e,t,n){e.appendChild(t,n)}function YE(e,t,n,r,i){null!==r?Xs(e,t,n,r,i):KE(e,t,n)}function jf(e,t){return e.parentNode(t)}let Km,Wf,JE=function XE(e,t,n){return 40&e.type?Qn(e,n):null};function Uf(e,t,n,r){const i=qm(e,r,t),o=t[ze],l=function QE(e,t,n){return JE(e,t,n)}(r.parent||t[Vn],r,t);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)YE(o,i,n[u],l,!1);else YE(o,i,n,l,!1);void 0!==Km&&Km(o,r,t,n,i)}function Fu(e,t){if(null!==t){const n=t.type;if(3&n)return Qn(t,e);if(4&n)return Ym(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Fu(e,r);{const i=e[t.index];return In(i)?Ym(-1,i):Rt(i)}}if(32&n)return Wm(t,e)()||Rt(e[t.index]);{const r=tD(e,t);return null!==r?Array.isArray(r)?r[0]:Fu(Ru(e[Yt]),r):Fu(e,t.next)}}return null}function tD(e,t){return null!==t?e[Yt][Vn].projection[t.projection]:null}function Ym(e,t){const n=on+e+1;if(n<t.length){const r=t[n],i=r[ge].firstChild;if(null!==i)return Fu(r,i)}return t[Ni]}function Qm(e,t,n,r,i,o,a){for(;null!=n;){const l=r[n.index],u=n.type;if(a&&0===t&&(l&&jn(Rt(l),r),n.flags|=2),32!=(32&n.flags))if(8&u)Qm(e,t,n.child,r,i,o,!1),Ml(t,e,i,l,o);else if(32&u){const h=Wm(n,r);let p;for(;p=h();)Ml(t,e,i,p,o);Ml(t,e,i,l,o)}else 16&u?rD(e,t,r,n,i,o):Ml(t,e,i,l,o);n=a?n.projectionNext:n.next}}function ku(e,t,n,r,i,o){Qm(n,r,e.firstChild,t,i,o,!1)}function rD(e,t,n,r,i,o){const a=n[Yt],u=a[Vn].projection[r.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++)Ml(t,e,i,u[h],o);else{let h=u;const p=a[zt];kf(r)&&(h.flags|=128),Qm(e,t,h,p,i,o,!0)}}function iD(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function oD(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&T(e,t,r),null!==i&&iD(e,t,i),null!==o&&function mF(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function lD(e){return function Jm(){if(void 0===Wf&&(Wf=null,Et.trustedTypes))try{Wf=Et.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Wf}()?.createScriptURL(e)||e}class cD{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gh})`}}function Ko(e){return e instanceof cD?e.changingThisBreaksApplicationSecurity:e}function Lu(e,t){const n=function bF(e){return e instanceof cD&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Gh})`)}return n===t}const TF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Pl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Pl||{});function i_(e){const t=Vu();return t?t.sanitize(Pl.URL,e)||"":Lu(e,"URL")?Ko(e):function e_(e){return(e=String(e)).match(TF)?e:"unsafe:"+e}(Re(e))}function mD(e){const t=Vu();if(t)return lD(t.sanitize(Pl.RESOURCE_URL,e)||"");if(Lu(e,"ResourceURL"))return lD(Ko(e));throw new ae(904,!1)}function Vu(){const e=J();return e&&e[ll].sanitizer}let vD=(e,t,n)=>null;function h_(e,t,n=!1){return vD(e,t,n)}class YF{}class CD{}class XF{resolveComponentFactory(t){throw function QF(e){const t=Error(`No component factory found for ${en(e)}.`);return t.ngComponent=e,t}(t)}}let Xf=(()=>{class e{static#e=this.NULL=new XF}return e})();function JF(){return Fl(Dt(),J())}function Fl(e,t){return new Mr(Qn(e,t))}let Mr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=JF}return e})();function ek(e){return e instanceof Mr?e.nativeElement:e}class ED{}let lo=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function tk(){const e=J(),n=Sr(Dt().index,e);return(Fn(n)?n:e)[ze]}()}return e})(),nk=(()=>{class e{static#e=this.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>null})}return e})();class Uu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const rk=new Uu("17.0.5"),g_={};function Jf(e){return!!function m_(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class bD{constructor(){}supports(t){return Jf(t)}create(t){return new lk(t)}}const ak=(e,t)=>t;class lk{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ak}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const a=!r||n&&n.currentIndex<ID(r,i,o)?n:r,l=ID(a,i,o),u=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(n=n._next,null==a.previousIndex)i++;else{o||(o=[]);const h=l-i,p=u-i;if(h!=p){for(let _=0;_<h;_++){const y=_<o.length?o[_]:o[_]=0,D=y+_;p<=D&&D<h&&(o[_]=y+1)}o[a.previousIndex]=p-h}}l!==u&&t(a,l,u)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Jf(t))throw new ae(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,a,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)o=t[l],a=this._trackByFn(l,o),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,o,a,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,a,l),r=!0),n=n._next}else i=0,function sk(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,l=>{a=this._trackByFn(i,l),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,l,a,i)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,a,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new ck(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new SD),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ck{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uk{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class SD{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new uk,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ID(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function TD(){return new ep([new bD])}let ep=(()=>{class e{static#e=this.\u0275prov=Ie({token:e,providedIn:"root",factory:TD});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||TD()),deps:[[e,new bf,new Df]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ae(901,!1)}}return e})();function $u(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Rt(o)),In(o)&&ND(o,r);const a=n.type;if(8&a)$u(e,t,n.child,r);else if(32&a){const l=Wm(n,t);let u;for(;u=l();)r.push(u)}else if(16&a){const l=tD(t,n);if(Array.isArray(l))r.push(...l);else{const u=Ru(t[Yt]);$u(u[ge],u,l,r,!0)}}n=i?n.projectionNext:n.next}return r}function ND(e,t){for(let n=on;n<e.length;n++){const r=e[n],i=r[ge].firstChild;null!==i&&$u(r[ge],r,i,t)}e[Ni]!==e[nn]&&t.push(e[Ni])}let PD=[];const _k={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{df(e.lView)},consumerOnSignalRead(){this.lView[Ws]=this}};function __(e){return e.ngOriginalError}class co{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&__(t);for(;n&&__(n);)n=__(n);return n||null}}const FD=new _e("",{providedIn:"root",factory:()=>!1}),Ze={};function It(e){VD(ut(),J(),Hn()+e,!1)}function VD(e,t,n,r){if(!r)if(3==(3&t[Ve])){const o=e.preOrderCheckHooks;null!==o&&gf(t,o,n)}else{const o=e.preOrderHooks;null!==o&&mf(t,o,0,n)}qs(n)}function oe(e,t=Qe.Default){const n=J();return null===n?Me(e,t):eE(Dt(),n,ke(e),t)}function np(e,t,n,r,i,o,a,l,u,h,p){const g=t.blueprint.slice();return g[nn]=i,g[Ve]=140|r,(null!==h||e&&2048&e[Ve])&&(g[Ve]|=2048),Aw(g),g[zt]=g[cl]=e,g[St]=n,g[ll]=a||e&&e[ll],g[ze]=l||e&&e[ze],g[Yn]=u||e&&e[Yn]||null,g[Vn]=o,g[vu]=function WO(){return $O++}(),g[Ti]=p,g[yw]=h,g[Yt]=2==t.type?e[Yt]:g,g}function kl(e,t,n,r,i){let o=e.data[t];if(null===o)o=function v_(e,t,n,r,i){const o=Ow(),a=am(),u=e.data[t]=function Mk(e,t,n,r,i,o){let a=t?t.injectorIndex:-1,l=0;return function pl(){return null!==je.skipHydrationRootTNode}()&&(l|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=u),null!==o&&(a?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(e,t,n,r,i),function b2(){return je.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const a=function wu(){const e=je.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return Oi(o,!0),o}function Wu(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function jD(e,t,n,r,i){const o=Hn(),a=2&r;try{qs(-1),a&&t.length>$e&&VD(e,t,$e,!1),Pi(a?2:0,i),n(r,i)}finally{qs(o),Pi(a?3:1,i)}}function y_(e,t,n){if(J0(t)){const r=M(null);try{const o=t.directiveEnd;for(let a=t.directiveStart;a<o;a++){const l=e.data[a];l.contentQueries&&l.contentQueries(1,n[a],a)}}finally{M(r)}}}function x_(e,t,n){Rw()&&(function Lk(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Gs(n)&&function $k(e,t,n){const r=Qn(t,e),i=UD(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const l=rp(e,np(e,i,null,a,r,t,null,e[ll].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=l}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||vf(n,t),jn(r,t);const a=n.initialInputs;for(let l=i;l<o;l++){const u=e.data[l],h=Ks(t,e,l,n);jn(h,t),null!==a&&Wk(0,l-i,h,u,0,a),ri(u)&&(Sr(n.index,t)[St]=Ks(t,e,l,n))}}(e,t,n,Qn(n,t)),64==(64&n.flags)&&ZD(e,t,n))}function C_(e,t,n=Qn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const a=r[o+1],l=-1===a?n(t,e):e[a];e[i++]=l}}}function UD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=w_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function w_(e,t,n,r,i,o,a,l,u,h,p){const g=$e+r,_=g+i,y=function Dk(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ze);return n}(g,_),D="function"==typeof h?h():h;return y[ge]={type:e,blueprint:y,template:n,queries:null,viewQuery:l,declTNode:t,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:p}}let zD=e=>null;function $D(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?WD(n,t,i,o):r.hasOwnProperty(i)&&WD(n,t,r[i],o)}return n}function WD(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Nr(e,t,n,r,i,o,a,l){const u=Qn(t,n);let p,h=t.inputs;!l&&null!=h&&(p=h[r])?(I_(e,n,p,r,i),Gs(t)&&function Rk(e,t){const n=Sr(t,e);16&n[Ve]||(n[Ve]|=64)}(n,t.index)):3&t.type&&(r=function Pk(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=a?a(i,t.value||"",r):i,o.setProperty(u,r,i))}function E_(e,t,n,r){if(Rw()){const i=null===r?null:{"":-1},o=function Vk(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const a=n[o];if(nf(t,a.selectors,!1))if(r||(r=[]),ri(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),D_(e,t,l.length)}else r.unshift(a),D_(e,t,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(e,n);let a,l;null===o?a=l=null:[a,l]=o,null!==a&&GD(e,t,n,a,i,l),i&&function Hk(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new ae(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=ie(n.mergedAttrs,n.attrs)}function GD(e,t,n,r,i,o){for(let h=0;h<r.length;h++)ym(vf(n,t),e,r[h].type);!function Uk(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let h=0;h<r.length;h++){const p=r[h];p.providersResolver&&p.providersResolver(p)}let a=!1,l=!1,u=Wu(e,t,r.length,null);for(let h=0;h<r.length;h++){const p=r[h];n.mergedAttrs=ie(n.mergedAttrs,p.hostAttrs),zk(e,n,t,u,p),jk(u,p,i),null!==p.contentQueries&&(n.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(n.flags|=64);const g=p.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),a=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),u++}!function Nk(e,t,n){const i=t.directiveEnd,o=e.data,a=t.attrs,l=[];let u=null,h=null;for(let p=t.directiveStart;p<i;p++){const g=o[p],_=n?n.get(g):null,D=_?_.outputs:null;u=$D(g.inputs,p,u,_?_.inputs:null),h=$D(g.outputs,p,h,D);const O=null===u||null===a||Sn(t)?null:Gk(u,p,a);l.push(O)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=u,t.outputs=h}(e,n,o)}function ZD(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function I2(){return je.lFrame.currentDirectiveIndex}();try{qs(o);for(let l=r;l<i;l++){const u=e.data[l],h=t[l];cm(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Bk(u,h)}}finally{qs(-1),cm(a)}}function Bk(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function D_(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function jk(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ri(t)&&(n[""]=e)}}function zk(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Zs(i.type)),a=new Eu(o,ri(i),oe);e.blueprint[r]=a,n[r]=a,function Fk(e,t,n,r,i){const o=i.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~t.index;(function kk(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(n,r,o)}}(e,t,r,Wu(e,n,i.hostVars,Ze),i)}function Li(e,t,n,r,i,o){const a=Qn(e,t);!function b_(e,t,n,r,i,o,a){if(null==o)e.removeAttribute(t,i,n);else{const l=null==a?Re(o):a(o,r||"",i);e.setAttribute(t,i,l,n)}}(t[ze],a,o,e.value,n,r,i)}function Wk(e,t,n,r,i,o){const a=o[t];if(null!==a)for(let l=0;l<a.length;)qD(r,n,a[l++],a[l++],a[l++])}function qD(e,t,n,r,i){const o=M(null);try{const a=e.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{M(o)}}function Gk(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const a=e[o];for(let l=0;l<a.length;l+=2)if(a[l]===t){r.push(o,a[l+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function KD(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function YD(e,t){const n=e.contentQueries;if(null!==n){const r=M(null);try{for(let i=0;i<n.length;i+=2){const a=n[i+1];if(-1!==a){const l=e.data[a];dm(n[i]),l.contentQueries(2,t[a],a)}}}finally{M(r)}}}function rp(e,t){return e[mu]?e[vw][ni]=t:e[mu]=t,e[vw]=t,t}function S_(e,t,n){dm(0);const r=M(null);try{t(e,n)}finally{M(r)}}function QD(e){return e[al]||(e[al]=[])}function XD(e){return e.cleanup||(e.cleanup=[])}function ip(e,t){const n=e[Yn],r=n?n.get(co,null):null;r&&r.handleError(t)}function I_(e,t,n,r,i){for(let o=0;o<n.length;){const a=n[o++],l=n[o++];qD(e.data[a],t[a],r,l,i)}}function uo(e,t,n){const r=xu(t,e);!function GE(e,t,n){e.setValue(t,n)}(e[ze],r,n)}function eb(e,t,n,r){const i=t[Ve];if(256==(256&i))return;t[ll].inlineEffectRunner?.flush(),hm(t);let a=null,l=null;(function Kk(e){return 2!==e.type})(e)&&(l=function pk(e){return e[Ws]??function gk(e){const t=PD.pop()??Object.create(_k);return t.lView=e,t}(e)}(t),a=function k(e){return e&&(e.nextProducerIndex=0),M(e)}(l));try{Aw(t),function kw(e){return je.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&jD(e,t,n,2,r);const u=3==(3&i);if(u){const g=e.preOrderCheckHooks;null!==g&&gf(t,g,null)}else{const g=e.preOrderHooks;null!==g&&mf(t,g,0,null),pm(t,0)}if(function Yk(e){for(let t=zE(e);null!==t;t=$E(t)){if(!(t[Ve]&hl.HasTransplantedViews))continue;const n=t[dl];for(let r=0;r<n.length;r++){g2(n[r])}}}(t),tb(t,0),null!==e.contentQueries&&YD(e,t),u){const g=e.contentCheckHooks;null!==g&&gf(t,g)}else{const g=e.contentHooks;null!==g&&mf(t,g,1),pm(t,1)}!function Ek(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)qs(~i);else{const o=i,a=n[++r],l=n[++r];S2(a,o),l(2,t[o])}}}finally{qs(-1)}}(e,t);const h=e.components;null!==h&&ib(t,h,0);const p=e.viewQuery;if(null!==p&&S_(2,p,r),u){const g=e.viewCheckHooks;null!==g&&gf(t,g)}else{const g=e.viewHooks;null!==g&&mf(t,g,2),pm(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[lf]){for(const g of t[lf])g();t[lf]=null}t[Ve]&=-73}catch(u){throw df(t),u}finally{null!==l&&(function E(e,t){if(M(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Z(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)G(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(l,a),function mk(e){e.lView[Ws]!==e&&(e.lView=null,PD.push(e))}(l)),fm()}}function tb(e,t){for(let n=zE(e);null!==n;n=$E(n)){n[Ve]&=~hl.HasChildViewsToRefresh;for(let r=on;r<n.length;r++)nb(n[r],t)}}function Qk(e,t,n){nb(Sr(t,e),n)}function nb(e,t){om(e)&&rb(e,t)}function rb(e,t){const r=e[ge],i=e[Ve],o=e[Ws];let a=!!(0===t&&16&i);if(a||=!!(64&i&&0===t),a||=!!(1024&i),a||=!(!o?.dirty||!S(o)),o&&(o.dirty=!1),e[Ve]&=-9217,a)eb(r,e,r.template,e[St]);else if(8192&i){tb(e,1);const l=r.components;null!==l&&ib(e,l,1)}}function ib(e,t,n){for(let r=0;r<t.length;r++)Qk(e,t[r],n)}function Gu(e){for(;e;){e[Ve]|=64;const t=Ru(e);if(em(e)&&!t)return e;e=t}return null}class Zu{get rootNodes(){const t=this._lView,n=t[ge];return $u(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(t){this._lView[St]=t}get destroyed(){return 256==(256&this._lView[Ve])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[zt];if(In(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Ou(t,r),wf(n,r))}this._attachedToViewContainer=!1}Hf(this._lView[ge],this._lView)}onDestroy(t){hf(this._lView,t)}markForCheck(){Gu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ve]&=-129}reattach(){Nw(this._lView),this._lView[Ve]|=128}detectChanges(){!function A_(e,t=!0){const n=e[ll],r=n.rendererFactory,i=n.afterRenderEventManager;r.begin?.(),i?.begin();try{const a=e[ge];eb(a,e,a.template,e[St]),function qk(e){let t=0;for(;Mw(e);){if(100===t)throw new ae(103,!1);t++,rb(e,1)}}(e)}catch(a){throw t&&ip(e,a),a}finally{r.end?.(),n.inlineEffectRunner?.flush(),i?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oF(e,t){ku(e,t,t[ze],2,null,null)}(this._lView[ge],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=t}}let qu=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Xk}return e})();function Xk(e){return function Jk(e,t,n){if(Gs(e)&&!n){const r=Sr(e.index,t);return new Zu(r,r)}return 47&e.type?new Zu(t[Yt],t):null}(Dt(),J(),16==(16&e))}let op=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=rL;static#t=this.__NG_ENV_ID__=n=>n}return e})();class nL extends op{constructor(t){super(),this._lView=t}onDestroy(t){return hf(this._lView,t),()=>function sm(e,t){if(null===e[Vo])return;const n=e[Vo].indexOf(t);-1!==n&&e[Vo].splice(n,1)}(this._lView,t)}}function rL(){return new nL(J())}const ob=new Set;function Js(e){ob.has(e)||(ob.add(e),performance?.mark?.("mark_use_counter",{detail:{feature:e}}))}function T_(e){return t=>{setTimeout(e,void 0,t)}}const Ot=class uL extends Nn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),a=r;if(t&&"object"==typeof t){const u=t;i=u.next?.bind(u),o=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(o=T_(o),i&&(i=T_(i)),a&&(a=T_(a)));const l=super.subscribe({next:i,error:o,complete:a});return t instanceof Gt&&t.add(l),l}};function sb(...e){}class mt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ot(!1),this.onMicrotaskEmpty=new Ot(!1),this.onStable=new Ot(!1),this.onError=new Ot(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function dL(){const e="function"==typeof Et.requestAnimationFrame;let t=Et[e?"requestAnimationFrame":"setTimeout"],n=Et[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function pL(e){const t=()=>{!function fL(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Et,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,N_(e),e.isCheckStableRunning=!0,M_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),N_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,a,l)=>{if(function mL(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(l))return n.invokeTask(i,o,a,l);try{return ab(e),n.invokeTask(i,o,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),lb(e)}},onInvoke:(n,r,i,o,a,l,u)=>{try{return ab(e),n.invoke(i,o,a,l,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),lb(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,N_(e),M_(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mt.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(mt.isInAngularZone())throw new ae(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,t,hL,sb,sb);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const hL={};function M_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function N_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function ab(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function lb(e){e._nesting--,M_(e)}class gL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ot,this.onMicrotaskEmpty=new Ot,this.onStable=new Ot,this.onError=new Ot}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const cb=new _e("",{providedIn:"root",factory:ub});function ub(){const e=pe(mt);let t=!0;return function zh(...e){const t=wr(e),n=function Vh(e,t){return"number"==typeof to(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Pn(r[0]):Di(n)(Nt(r,t)):sr}(new Mt(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Mt(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{mt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const a=e.onUnstable.subscribe(()=>{mt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),a.unsubscribe()}}).pipe($h()))}var ea=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ea||{});const db={destroy(){}};function fb(e,t){!t&&function Om(e){if(!Kh()&&!function Jh(){return Hr}())throw new ae(-203,!1)}();const n=t?.injector??pe(dr);if(!function Go(e){return"browser"===(e??pe(dr)).get(Qs)}(n))return db;Js("NgAfterNextRender");const r=n.get(sp),i=r.handler??=new gb,o=t?.phase??ea.MixedReadWrite,a=()=>{i.unregister(u),l()},l=n.get(op).onDestroy(a),u=new pb(n,o,()=>{a(),e()});return i.register(u),{destroy:a}}class pb{constructor(t,n,r){this.phase=n,this.callbackFn=r,this.zone=t.get(mt),this.errorHandler=t.get(co,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class gb{constructor(){this.executingCallbacks=!1,this.buckets={[ea.EarlyRead]:new Set,[ea.Write]:new Set,[ea.MixedReadWrite]:new Set,[ea.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new ae(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const n of t)n.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let sp=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>new e})}return e})();function vL(e,t){const n=Sr(t,e),r=n[ge];!function yL(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[nn];null!==i&&null===n[Ti]&&(n[Ti]=h_(i,n[Yn])),P_(r,n,n[St])}function P_(e,t,n){hm(t);try{const r=e.viewQuery;null!==r&&S_(1,r,n);const i=e.template;null!==i&&jD(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&YD(e,t),e.staticViewQueries&&S_(2,e.viewQuery,n);const o=e.components;null!==o&&function xL(e,t){for(let n=0;n<t.length;n++)vL(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ve]&=-5,fm()}}function ap(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?o=l:1==o?i=Ka(i,l):2==o&&(r=Ka(r,l+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class mb extends Xf{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=nt(t);return new Ku(n,this.ngModule)}}function _b(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class wL{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=zs(r);const i=this.injector.get(t,g_,r);return i!==g_||n===g_?i:this.parentInjector.get(t,n,r)}}class Ku extends CD{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=_b(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return _b(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function sl(e){return e.map(tn).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Ar?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new wL(t,o):t,l=a.get(ED,null);if(null===l)throw new ae(407,!1);const p={rendererFactory:l,sanitizer:a.get(nk,null),inlineEffectRunner:null,afterRenderEventManager:a.get(sp,null)},g=l.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",y=r?function bk(e,t,n,r){const o=r.get(FD,!1)||n===d.ShadowDom,a=e.selectRootElement(t,o);return function Sk(e){zD(e)}(a),a}(g,r,this.componentDef.encapsulation,a):Vf(g,_,function CL(e){const t=e.toLowerCase();return"svg"===t?Sw:"math"===t?"math":null}(_)),z=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let te=null;null!==y&&(te=h_(y,a,!0));const K=w_(0,null,null,1,0,null,null,null,null,null,null),xe=np(null,K,null,z,null,null,p,g,a,null,te);let Le,Ye;hm(xe);try{const yt=this.componentDef;let pi,Wc=null;yt.findHostDirectiveDefs?(pi=[],Wc=new Map,yt.findHostDirectiveDefs(yt,pi,Wc),pi.push(yt)):pi=[yt];const Oq=function DL(e,t){const n=e[ge],r=$e;return e[r]=t,kl(n,r,2,"#host",null)}(xe,y),Fq=function bL(e,t,n,r,i,o,a){const l=i[ge];!function SL(e,t,n,r){for(const i of e)t.mergedAttrs=ie(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(ap(t,t.mergedAttrs,!0),null!==n&&oD(r,n,t))}(r,e,t,a);let u=null;null!==t&&(u=h_(t,i[Yn]));const h=o.rendererFactory.createRenderer(t,n);let p=16;n.signals?p=4096:n.onPush&&(p=64);const g=np(i,UD(n),null,p,i[e.index],e,o,h,null,null,u);return l.firstCreatePass&&D_(l,e,r.length-1),rp(i,g),i[e.index]=g}(Oq,y,yt,pi,xe,p,g);Ye=Cu(K,$e),y&&function AL(e,t,n,r){if(r)T(e,n,["ng-version",rk.full]);else{const{attrs:i,classes:o}=function Y0(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Pt(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&T(e,n,i),o&&o.length>0&&iD(e,n,o.join(" "))}}(g,yt,y,r),void 0!==n&&function TL(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Ye,this.ngContentSelectors,n),Le=function IL(e,t,n,r,i,o){const a=Dt(),l=i[ge],u=Qn(a,i);GD(l,i,a,n,null,r);for(let p=0;p<n.length;p++)jn(Ks(i,l,a.directiveStart+p,a),i);ZD(l,i,a),u&&jn(u,i);const h=Ks(i,l,a.directiveStart+a.componentOffset,a);if(e[St]=i[St]=h,null!==o)for(const p of o)p(h,t);return y_(l,a,e),h}(Fq,yt,pi,Wc,xe,[ML]),P_(K,xe,null)}finally{fm()}return new EL(this.componentType,Le,Fl(Ye,xe),xe,Ye)}}class EL extends YF{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Zu(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;I_(o[ge],o,i,t,n),this.previousInputValues.set(t,n),Gu(Sr(this._tNode.index,o))}}get injector(){return new xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function ML(){const e=Dt();pf(J()[ge],e)}function Ct(e){let t=function vb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(ri(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ae(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const a=e;a.inputs=lp(e.inputs),a.inputTransforms=lp(e.inputTransforms),a.declaredInputs=lp(e.declaredInputs),a.outputs=lp(e.outputs);const l=i.hostBindings;l&&OL(e,l);const u=i.viewQuery,h=i.contentQueries;if(u&&PL(e,u),h&&RL(e,h),Gn(e.inputs,i.inputs),Gn(e.declaredInputs,i.declaredInputs),Gn(e.outputs,i.outputs),null!==i.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),Gn(a.inputTransforms,i.inputTransforms)),ri(i)&&i.data.animation){const p=e.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let a=0;a<o.length;a++){const l=o[a];l&&l.ngInherit&&l(e),l===Ct&&(n=!1)}}t=Object.getPrototypeOf(t)}!function NL(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ie(i.hostAttrs,n=ie(n,i.hostAttrs))}}(r)}function lp(e){return e===f?{}:e===m?[]:e}function PL(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function RL(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function OL(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function wb(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function Bi(e,t,n){return e[t]=n}function pn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ta(e,t,n,r){const i=pn(e,t,n);return pn(e,t+1,r)||i}function Vi(e,t,n,r){const i=J();return pn(i,Fi(),t)&&(ut(),Li(Ut(),i,e,t,n,r)),Vi}function Bl(e,t,n,r){return pn(e,Fi(),n)?t+Re(n)+r:Ze}function Vl(e,t,n,r,i,o){const l=ta(e,function oo(){return je.lFrame.bindingIndex}(),n,i);return so(2),l?t+Re(n)+r+Re(i)+o:Ze}function up(e,t){return e<<17|t<<2}function Yo(e){return e>>17&32767}function R_(e){return 2|e}function na(e){return(131068&e)>>2}function O_(e,t){return-131069&e|t<<2}function F_(e){return 1|e}function Pb(e,t,n,r,i){const o=e[n+1],a=null===t;let l=r?Yo(o):na(o),u=!1;for(;0!==l&&(!1===u||a);){const p=e[l+1];WL(e[l],t)&&(u=!0,e[l+1]=r?F_(p):R_(p)),l=r?Yo(p):na(p)}u&&(e[n+1]=r?R_(o):F_(o))}function WL(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Dl(e,t)>=0}function kn(e,t,n){const r=J();return pn(r,Fi(),t)&&Nr(ut(),Ut(),r,e,t,r[ze],n,!1),kn}function k_(e,t,n,r,i){const a=i?"class":"style";I_(e,n,t.inputs[a],a,r)}function dp(e,t){return function ii(e,t,n,r){const i=J(),o=ut(),a=so(2);o.firstUpdatePass&&function jb(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Hn()],a=function Hb(e,t){return t>=e.expandoStartIndex}(e,n);(function Wb(e,t){return 0!=(e.flags&(t?8:16))})(o,r)&&null===t&&!a&&(t=!1),t=function eB(e,t,n,r){const i=function um(e){const t=je.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Qu(n=L_(null,e,t,n,r),t.attrs,r),o=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=L_(i,e,t,n,r),null===o){let u=function tB(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==na(r))return e[Yo(r)]}(e,t,r);void 0!==u&&Array.isArray(u)&&(u=L_(null,e,t,u[1],r),u=Qu(u,t.attrs,r),function nB(e,t,n,r){e[Yo(n?t.classBindings:t.styleBindings)]=r}(e,t,r,u))}else o=function rB(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Qu(r,e[o].hostAttrs,n);return Qu(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function zL(e,t,n,r,i,o){let a=o?t.classBindings:t.styleBindings,l=Yo(a),u=na(a);e[r]=n;let p,h=!1;if(Array.isArray(n)?(p=n[1],(null===p||Dl(n,p)>0)&&(h=!0)):p=n,i)if(0!==u){const _=Yo(e[l+1]);e[r+1]=up(_,l),0!==_&&(e[_+1]=O_(e[_+1],r)),e[l+1]=function jL(e,t){return 131071&e|t<<17}(e[l+1],r)}else e[r+1]=up(l,0),0!==l&&(e[l+1]=O_(e[l+1],r)),l=r;else e[r+1]=up(u,0),0===l?l=r:e[u+1]=O_(e[u+1],r),u=r;h&&(e[r+1]=R_(e[r+1])),Pb(e,p,r,!0),Pb(e,p,r,!1),function $L(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Dl(o,t)>=0&&(n[r+1]=F_(n[r+1]))}(t,p,e,r,o),a=up(l,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}(o,e,a,r),t!==Ze&&pn(i,a,t)&&function zb(e,t,n,r,i,o,a,l){if(!(3&t.type))return;const u=e.data,h=u[l+1],p=function UL(e){return 1==(1&e)}(h)?$b(u,t,n,i,na(h),a):void 0;hp(p)||(hp(o)||function HL(e){return 2==(2&e)}(h)&&(o=$b(u,null,n,i,l,a)),function gF(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:qo.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=qo.Important),e.setStyle(n,r,i,o))}}(r,a,xu(Hn(),n),i,o))}(o,o.data[Hn()],i,i[ze],e,i[a+1]=function aB(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=en(Ko(e)))),e}(t,n),r,a)}(e,t,null,!0),dp}function L_(e,t,n,r,i){let o=null;const a=n.directiveEnd;let l=n.directiveStylingLast;for(-1===l?l=n.directiveStart:l++;l<a&&(o=t[l],r=Qu(r,o.hostAttrs,i),o!==e);)l++;return null!==e&&(n.directiveStylingLast=l),r}function Qu(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ir(e,a,!!n||t[++o]))}return void 0===e?null:e}function $b(e,t,n,r,i,o){const a=null===t;let l;for(;i>0;){const u=e[i],h=Array.isArray(u),p=h?u[1]:u,g=null===p;let _=n[i+1];_===Ze&&(_=g?m:void 0);let y=g?Em(_,r):p===r?_:void 0;if(h&&!hp(y)&&(y=Em(u,r)),hp(y)&&(l=y,a))return l;const D=e[i+1];i=a?Yo(D):na(D)}if(null!==t){let u=o?t.residualClasses:t.residualStyles;null!=u&&(l=Em(u,r))}return l}function hp(e){return void 0!==e}function ql(e,t){return!t||kf(e)}function nd(e,t,n,r=!0){const i=t[ge];if(function aF(e,t,n,r){const i=on+r,o=n.length;r>0&&(n[i-1][ni]=t),r<o-on?(t[ni]=n[i],sE(n,on+r,t)):(n.push(t),t[ni]=null),t[zt]=n;const a=t[_u];null!==a&&n!==a&&function lF(e,t){const n=e[dl];t[Yt]!==t[zt][zt][Yt]&&(e[Ve]|=hl.HasTransplantedViews),null===n?e[dl]=[t]:n.push(t)}(a,t);const l=t[Mi];null!==l&&l.insertView(e),Nw(t),t[Ve]|=128}(i,t,e,n),r){const o=Ym(n,e),a=t[ze],l=jf(a,e[Ni]);null!==l&&function iF(e,t,n,r,i,o){r[nn]=i,r[Vn]=t,ku(e,r,n,1,i,o)}(i,e[Vn],a,t,l,o)}}let si=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=jB}return e})();function jB(){return i1(Dt(),J())}const UB=si,n1=class extends UB{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new xn(this._hostTNode,this._hostLView)}get parentInjector(){const t=yf(this._hostTNode,this._hostLView);if(mm(t)){const n=bu(t,this._hostLView),r=Du(t);return new xn(n[ge].data[r+8],n)}return new xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=r1(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-on}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const l=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(l,i,ql(this._hostTNode,null)),l}createComponent(t,n,r,i,o){const a=t&&!function Su(e){return"function"==typeof e}(t);let l;if(a)l=n;else{const D=n||{};l=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}const u=a?t:new Ku(nt(t)),h=r||this.parentInjector;if(!o&&null==u.ngModule){const O=(a?h:this.parentInjector).get(Ar,null);O&&(o=O)}nt(u.componentType??{});const y=u.create(h,i,null,o);return this.insertImpl(y.hostView,l,ql(this._hostTNode,null)),y}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function p2(e){return In(e[zt])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const u=i[zt],h=new n1(u,u[Vn],u[zt]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(n),a=this._lContainer;return nd(a,i,o,r),t.attachToViewContainerRef(),sE(G_(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=r1(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Ou(this._lContainer,n);r&&(wf(G_(this._lContainer),n),Hf(r[ge],r))}detach(t){const n=this._adjustIndex(t,-1),r=Ou(this._lContainer,n);return r&&null!=wf(G_(this._lContainer),n)?new Zu(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function r1(e){return e[8]}function G_(e){return e[8]||(e[8]=[])}function i1(e,t){let n;const r=t[e.index];return In(r)?n=r:(n=KD(r,t,null,e),t[e.index]=n,rp(t,n)),o1(n,t,e,r),new n1(n,e,t)}let o1=function a1(e,t,n,r){if(e[Ni])return;let i;i=8&n.type?Rt(r):function zB(e,t){const n=e[ze],r=n.createComment(""),i=Qn(t,e);return Xs(n,jf(n,i),r,function hF(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Ni]=i},Z_=(e,t,n)=>!1;function Pr(e,t,n,r,i,o,a,l){const u=J(),h=ut(),p=e+$e,g=h.firstCreatePass?function ZB(e,t,n,r,i,o,a,l,u){const h=t.consts,p=kl(t,e,4,a||null,Ri(h,l));E_(t,n,p,Ri(h,u)),pf(t,p);const g=p.tView=w_(2,p,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h,null);return null!==t.queries&&(t.queries.template(t,p),g.queries=t.queries.embeddedTView(p)),p}(p,h,u,t,n,r,i,o,a):h.data[p];Oi(g,!1);const _=l1(h,u,g,e);ff()&&Uf(h,u,_,g),jn(_,u);const y=KD(_,u,_,g);return u[p]=y,rp(u,y),function s1(e,t,n){return Z_(e,t,n)}(y,g,u),uf(g)&&x_(h,u,g),null!=a&&C_(u,g,l),Pr}let l1=function c1(e,t,n,r){return Uo(!0),t[ze].createComment("")};function Ae(e,t,n,r){const i=J(),o=ut(),a=$e+e,l=i[ze],u=o.firstCreatePass?function k8(e,t,n,r,i,o){const a=t.consts,u=kl(t,e,2,r,Ri(a,i));return E_(t,n,u,Ri(a,o)),null!==u.attrs&&ap(u,u.attrs,!1),null!==u.mergedAttrs&&ap(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(a,o,i,t,n,r):o.data[a],h=P1(o,i,u,l,t,e);i[a]=h;const p=uf(u);return Oi(u,!0),oD(l,h,u),32!=(32&u.flags)&&ff()&&Uf(o,i,h,u),0===function m2(){return je.lFrame.elementDepthCount}()&&jn(h,i),function _2(){je.lFrame.elementDepthCount++}(),p&&(x_(o,i,u),y_(o,u,i)),null!==r&&C_(i,u),Ae}function Se(){let e=Dt();am()?function lm(){je.lFrame.isParent=!1}():(e=e.parent,Oi(e,!1));const t=e;(function y2(e){return je.skipHydrationRootTNode===e})(t)&&function E2(){je.skipHydrationRootTNode=null}(),function v2(){je.lFrame.elementDepthCount--}();const n=ut();return n.firstCreatePass&&(pf(n,e),J0(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function L2(e){return 0!=(8&e.flags)}(t)&&k_(n,t,J(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function B2(e){return 0!=(16&e.flags)}(t)&&k_(n,t,J(),t.stylesWithoutHost,!1),Se}function Qt(e,t,n,r){return Ae(e,t,n,r),Se(),Qt}let P1=(e,t,n,r,i,o)=>(Uo(!0),Vf(r,i,function Ww(){return je.lFrame.currentNamespace}()));function sd(){return J()}const ia=void 0;var z8=["en",[["a","p"],["AM","PM"],ia],[["AM","PM"],ia,ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ia,"{1} 'at' {0}",ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function U8(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let tc={};function Jn(e){const t=function $8(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=B1(t);if(n)return n;const r=t.split("-")[0];if(n=B1(r),n)return n;if("en"===r)return z8;throw new ae(701,!1)}function B1(e){return e in tc||(tc[e]=Et.ng&&Et.ng.common&&Et.ng.common.locales&&Et.ng.common.locales[e]),tc[e]}var Ft=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ft||{});const nc="en-US";let V1=nc;function hd(e){return!!e&&"function"==typeof e.then}function uS(e){return!!e&&"function"==typeof e.subscribe}function _t(e,t,n,r){const i=J(),o=ut(),a=Dt();return function hS(e,t,n,r,i,o,a){const l=uf(r),h=e.firstCreatePass&&XD(e),p=t[St],g=QD(t);let _=!0;if(3&r.type||a){const O=Qn(r,t),z=a?a(O):O,te=g.length,K=a?Le=>a(Rt(Le[r.index])):r.index;let xe=null;if(!a&&l&&(xe=function B4(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const a=i[o];if(a===n&&i[o+1]===r){const l=t[al],u=i[o+2];return l.length>u?l[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==xe)(xe.__ngLastListenerFn__||xe).__ngNextListenerFn__=o,xe.__ngLastListenerFn__=o,_=!1;else{o=pS(r,t,p,o,!1);const Le=n.listen(z,i,o);g.push(o,Le),h&&h.push(i,K,te,te+1)}}else o=pS(r,t,p,o,!1);const y=r.outputs;let D;if(_&&null!==y&&(D=y[i])){const O=D.length;if(O)for(let z=0;z<O;z+=2){const Ye=t[D[z]][D[z+1]].subscribe(o),yt=g.length;g.push(o,Ye),h&&h.push(i,r.index,yt,-(yt+1))}}}(o,i,i[ze],a,e,t,r),_t}function fS(e,t,n,r){try{return Pi(6,t,n),!1!==n(r)}catch(i){return ip(e,i),!1}finally{Pi(7,t,n)}}function pS(e,t,n,r,i){return function o(a){if(a===Function)return r;Gu(e.componentOffset>-1?Sr(e.index,t):t);let u=fS(t,n,r,a),h=o.__ngNextListenerFn__;for(;h;)u=fS(t,n,h,a)&&u,h=h.__ngNextListenerFn__;return i&&!1===u&&a.preventDefault(),u}}function $r(e=1){return function T2(e){return(je.lFrame.contextLView=function Tw(e,t){for(;e>0;)t=t[cl],e--;return t}(e,je.lFrame.contextLView))[St]}(e)}function lv(e,t,n){return cv(e,"",t,"",n),lv}function cv(e,t,n,r,i){const o=J(),a=Bl(o,t,n,r);return a!==Ze&&Nr(ut(),Ut(),o,e,a,o[ze],i,!1),cv}function oa(e){return fl(function D2(){return je.lFrame.contextLView}(),$e+e)}function He(e,t=""){const n=J(),r=ut(),i=e+$e,o=r.firstCreatePass?kl(r,i,1,t,null):r.data[i],a=PS(r,n,o,t,e);n[i]=a,ff()&&Uf(r,n,a,o),Oi(o,!1)}let PS=(e,t,n,r,i)=>(Uo(!0),function Bf(e,t){return e.createText(t)}(t[ze],r));function rc(e){return ho("",e,""),rc}function ho(e,t,n){const r=J(),i=Bl(r,e,t,n);return i!==Ze&&uo(r,Hn(),i),ho}function uv(e,t,n,r,i){const o=J(),a=Vl(o,e,t,n,r,i);return a!==Ze&&uo(o,Hn(),a),uv}function dv(e,t,n,r,i){if(e=ke(e),Array.isArray(e))for(let o=0;o<e.length;o++)dv(e[o],t,n,r,i);else{const o=ut(),a=J(),l=Dt();let u=Ys(e)?e:ke(e.provide);const h=_E(e),p=1048575&l.providerIndexes,g=l.directiveStart,_=l.providerIndexes>>20;if(Ys(e)||!e.multi){const y=new Eu(h,i,oe),D=fv(u,t,i?p:p+_,g);-1===D?(ym(vf(l,a),o,u),hv(o,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(y),a.push(y)):(n[D]=y,a[D]=y)}else{const y=fv(u,t,p+_,g),D=fv(u,t,p,p+_),z=D>=0&&n[D];if(i&&!z||!i&&!(y>=0&&n[y])){ym(vf(l,a),o,u);const te=function r3(e,t,n,r,i){const o=new Eu(e,n,oe);return o.multi=[],o.index=t,o.componentProviders=0,HS(o,i,r&&!n),o}(i?n3:t3,n.length,i,r,h);!i&&z&&(n[D].providerFactory=te),hv(o,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(te),a.push(te)}else hv(o,e,y>-1?y:D,HS(n[i?D:y],h,!i&&r));!i&&r&&z&&n[D].componentProviders++}}}function hv(e,t,n,r){const i=Ys(t),o=function mO(e){return!!e.useClass}(t);if(i||o){const u=(o?ke(t.useClass):t).prototype.ngOnDestroy;if(u){const h=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const p=h.indexOf(n);-1===p?h.push(n,[r,u]):h[p+1].push(r,u)}else h.push(n,u)}}}function HS(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function fv(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function t3(e,t,n,r){return pv(this.multi,[])}function n3(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Ks(n,n[ge],this.providerFactory.index,r);o=l.slice(0,a),pv(i,o);for(let u=a;u<l.length;u++)o.push(l[u])}else o=[],pv(i,o);return o}function pv(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function $t(e,t=[]){return n=>{n.providersResolver=(r,i)=>function e3(e,t,n){const r=ut();if(r.firstCreatePass){const i=ri(e);dv(n,r.data,r.blueprint,i,!0),dv(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class sa{}class jS{}class gv extends sa{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mb(this);const i=Bn(t);this._bootstrapComponents=Tr(i.bootstrap),this._r3Injector=wE(t,n,[{provide:sa,useValue:this},{provide:Xf,useValue:this.componentFactoryResolver},...r],en(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class mv extends jS{constructor(t){super(),this.moduleType=t}create(t){return new gv(this.moduleType,t,[])}}class US extends sa{constructor(t){super(),this.componentFactoryResolver=new mb(this),this.instance=null;const n=new Il([...t.providers,{provide:sa,useValue:this},{provide:Xf,useValue:this.componentFactoryResolver}],t.parent||Mf(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function _v(e,t,n=null){return new US({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let s3=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=fE(0,n.type),i=r.length>0?_v([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ie({token:e,providedIn:"environment",factory:()=>new e(Me(Ar))})}return e})();function zS(e){Js("NgStandalone"),e.getStandaloneInjector=t=>t.get(s3).getOrCreateStandaloneInjector(e)}function fd(e,t){const n=e[t];return n===Ze?void 0:n}function Ap(e,t){const n=ut();let r;const i=e+$e;n.firstCreatePass?(r=function I3(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Zs(r.type)),l=vn(oe);try{const u=_f(!1),h=o();return _f(u),function U4(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,J(),i,h),h}finally{vn(l)}}function nI(e,t,n){const r=e+$e,i=J(),o=fl(i,r);return pd(i,r)?function QS(e,t,n,r,i,o){const a=t+n;return pn(e,a,i)?Bi(e,a+1,o?r.call(o,i):r(i)):fd(e,a+1)}(i,Xn(),t,o.transform,n,o):o.transform(n)}function yv(e,t,n,r){const i=e+$e,o=J(),a=fl(o,i);return pd(o,i)?function XS(e,t,n,r,i,o,a){const l=t+n;return ta(e,l,i,o)?Bi(e,l+2,a?r.call(a,i,o):r(i,o)):fd(e,l+2)}(o,Xn(),t,a.transform,n,r,a):a.transform(n,r)}function pd(e,t){return e[ge].data[t].pure}function N3(){return this._results[Symbol.iterator]()}class xv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ot)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=xv.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=N3)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function ur(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Q2(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fo=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=O3}return e})();const P3=fo,R3=class extends P3{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function td(e,t,n,r){const i=t.tView,l=np(e,i,n,4096&e[Ve]?4096:16,null,t,null,null,null,r?.injector??null,r?.dehydratedView??null);l[_u]=e[t.index];const h=e[Mi];return null!==h&&(l[Mi]=h.createEmbeddedView(i)),P_(i,l,n),l}(this._declarationLView,this._declarationTContainer,t,{injector:n,dehydratedView:r});return new Zu(i)}};function O3(){return Tp(Dt(),J())}function Tp(e,t){return 4&e.type?new R3(t,e,Fl(e,t)):null}class Cv{constructor(t){this.queryList=t,this.matches=null}clone(){return new Cv(this.queryList)}setDirty(){this.queryList.setDirty()}}class wv{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new wv(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==lI(t,n).matches&&this.queries[n].setDirty()}}class rI{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Ev{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Ev(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Dv{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Dv(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,F3(n,o)),this.matchTNodeWithReadOption(t,n,xf(n,t,o,!1,!1))}else r===fo?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,xf(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Mr||i===si||i===fo&&4&n.type)this.addMatch(n.index,-2);else{const o=xf(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function F3(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function L3(e,t,n,r){return-1===n?function k3(e,t){return 11&e.type?Fl(e,t):4&e.type?Tp(e,t):null}(t,e):-2===n?function B3(e,t,n){return n===Mr?Fl(t,e):n===fo?Tp(t,e):n===si?i1(t,e):void 0}(e,t,r):Ks(e,e[ge],n,t)}function iI(e,t,n,r){const i=t[Mi].queries[r];if(null===i.matches){const o=e.data,a=n.matches,l=[];for(let u=0;u<a.length;u+=2){const h=a[u];l.push(h<0?null:L3(t,o[h],a[u+1],n.metadata.read))}i.matches=l}return i.matches}function bv(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const a=iI(e,t,i,n);for(let l=0;l<o.length;l+=2){const u=o[l];if(u>0)r.push(a[l/2]);else{const h=o[l+1],p=t[-u];for(let g=on;g<p.length;g++){const _=p[g];_[_u]===_[zt]&&bv(_[ge],_,h,r)}if(null!==p[dl]){const g=p[dl];for(let _=0;_<g.length;_++){const y=g[_];bv(y[ge],y,h,r)}}}}}return r}function gd(e){const t=J(),n=ut(),r=Bw();dm(r+1);const i=lI(n,r);if(e.dirty&&function f2(e){return 4==(4&e[Ve])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?bv(n,t,r,[]):iI(n,t,i,r);e.reset(o,ek),e.notifyOnChanges()}return!0}return!1}function Mp(e,t,n){const r=ut();r.firstCreatePass&&(aI(r,new rI(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),sI(r,J(),t)}function md(){return function V3(e,t){return e[Mi].queries[t].queryList}(J(),Bw())}function sI(e,t,n){const r=new xv(4==(4&n));(function Tk(e,t,n,r){const i=QD(t);i.push(n),e.firstCreatePass&&XD(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[Mi]&&(t[Mi]=new wv),t[Mi].queries.push(new Cv(r))}function aI(e,t,n){null===e.queries&&(e.queries=new Ev),e.queries.track(new Dv(t,n))}function lI(e,t){return e.queries.getByIndex(t)}function aa(e,t){return Tp(e,t)}const Mv=new _e("Application Initializer");let Nv=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=pe(Mv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(hd(o))n.push(o);else if(uS(o)){const a=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});n.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),DI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const po=new _e("LocaleId",{providedIn:"root",factory:()=>pe(po,Qe.Optional|Qe.SkipSelf)||function l6(){return typeof $localize<"u"&&$localize.locale||nc}()});let Pp=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Wn(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class p6{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let SI=(()=>{class e{compileModuleSync(n){return new mv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Tr(Bn(n).declarations).reduce((a,l)=>{const u=nt(l);return u&&a.push(new Ku(u)),a},[]);return new p6(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const NI=new _e(""),Op=new _e("");let Fv,Rv=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fv||(function V6(e){Fv=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(Me(mt),Me(Ov),Me(Op))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})(),Ov=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Fv?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Xo=null;const PI=new _e("AllowMultipleToken"),kv=new _e("PlatformDestroyListeners"),Lv=new _e("appBootstrapListener");function FI(e,t,n=[]){const r=`Platform: ${t}`,i=new _e(r);return(o=[])=>{let a=Bv();if(!a||a.injector.get(PI,!1)){const l=[...n,...o,{provide:i,useValue:!0}];e?e(l):function U6(e){if(Xo&&!Xo.get(PI,!1))throw new ae(400,!1);(function RI(){!function me(e){de=e}(()=>{throw new ae(600,!1)})})(),Xo=e;const t=e.get(LI);(function OI(e){e.get(DE,null)?.forEach(n=>n())})(e)}(function kI(e=[],t){return dr.create({name:t,providers:[{provide:Mm,useValue:"platform"},{provide:kv,useValue:new Set([()=>Xo=null])},...e]})}(l,r))}return function $6(e){const t=Bv();if(!t)throw new ae(401,!1);return t}()}}function Bv(){return Xo?.get(LI)??null}let LI=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function W6(e="zone.js",t){return"noop"===e?new gL:"zone.js"===e?new mt(t):e}(r?.ngZone,function BI(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function o3(e,t,n){return new gv(e,t,n)}(n.moduleType,this.injector,function zI(e){return[{provide:mt,useFactory:e},{provide:Sl,multi:!0,useFactory:()=>{const t=pe(Z6,{optional:!0});return()=>t.initialize()}},{provide:UI,useFactory:G6},{provide:cb,useFactory:ub}]}(()=>i)),a=o.injector.get(co,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Fp(this._modules,o),l.unsubscribe()})}),function VI(e,t,n){try{const r=n();return hd(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(a,i,()=>{const l=o.injector.get(Nv);return l.runInitializers(),l.donePromise.then(()=>(function H1(e){Kt(e,"Expected localeId to be defined"),"string"==typeof e&&(V1=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(po,nc)||nc),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=HI({},r);return function H6(e,t,n){const r=new mv(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(sc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ae(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(kv,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(Me(dr))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function HI(e,t){return Array.isArray(t)?t.reduce(HI,e):{...e,...t}}let sc=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pe(UI),this.zoneIsStable=pe(cb),this.componentTypes=[],this.components=[],this.isStable=pe(Pp).hasPendingTasks.pipe(ar(n=>n?Oe(!1):this.zoneIsStable),function O0(e,t=Cr){return e=e??ou,tt((n,r)=>{let i,o=!0;n.subscribe(Ce(r,a=>{const l=t(a);(o||!e(i,l))&&(o=!1,i=l,r.next(a))}))})}(),$h()),this._injector=pe(Ar)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof CD;if(!this._injector.get(Nv).done)throw!i&&function Bo(e){const t=nt(e)||yn(e)||On(e);return null!==t&&t.standalone}(n),new ae(405,!1);let a;a=i?n:this._injector.get(Xf).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function j6(e){return e.isBoundToModule}(a)?void 0:this._injector.get(sa),h=a.create(dr.NULL,[],r||a.selector,l),p=h.location.nativeElement,g=h.injector.get(NI,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Fp(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Fp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Lv,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Fp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ae(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Fp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const UI=new _e("",{providedIn:"root",factory:()=>pe(co).handleError.bind(void 0)});function G6(){const e=pe(mt),t=pe(co);return n=>e.runOutsideAngular(()=>t.handleError(n))}let Z6=(()=>{class e{constructor(){this.zone=pe(mt),this.applicationRef=pe(sc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const eV=FI(null,"core",[]);let tV=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(Me(sc))};static#t=this.\u0275mod=qn({type:e});static#n=this.\u0275inj=Zn({})}return e})();function lc(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let qv=null;function Jo(){return qv}class bV{}const pr=new _e("DocumentToken");let Kv=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:()=>pe(IV),providedIn:"platform"})}return e})();const SV=new _e("Location Initialized");let IV=(()=>{class e extends Kv{constructor(){super(),this._doc=pe(pr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jo().getBaseHref(this._doc)}onPopState(n){const r=Jo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Jo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Yv(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function hA(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function go(e){return e&&"?"!==e[0]?"?"+e:e}let ca=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:()=>pe(pA),providedIn:"root"})}return e})();const fA=new _e("appBaseHref");let pA=(()=>{class e extends ca{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pe(pr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Yv(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+go(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const a=this.prepareExternalUrl(i+go(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){const a=this.prepareExternalUrl(i+go(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Me(Kv),Me(fA,8))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),AV=(()=>{class e extends ca{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Yv(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+go(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+go(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Me(Kv),Me(fA,8))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})(),Cd=(()=>{class e{constructor(n){this._subject=new Ot,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function NV(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(hA(gA(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+go(r))}normalize(n){return e.stripTrailingSlash(function MV(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,gA(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+go(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+go(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=go;static#t=this.joinWithSlash=Yv;static#n=this.stripTrailingSlash=hA;static#r=this.\u0275fac=function(r){return new(r||e)(Me(ca))};static#i=this.\u0275prov=Ie({token:e,factory:()=>function TV(){return new Cd(Me(ca))}(),providedIn:"root"})}return e})();function gA(e){return e.replace(/\/index.html$/,"")}var nr=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(nr||{}),At=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(At||{}),Rr=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Rr||{}),an=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(an||{});function $p(e,t){return Gr(Jn(e)[Ft.DateFormat],t)}function Wp(e,t){return Gr(Jn(e)[Ft.TimeFormat],t)}function Gp(e,t){return Gr(Jn(e)[Ft.DateTimeFormat],t)}function Wr(e,t){const n=Jn(e),r=n[Ft.NumberSymbols][t];if(typeof r>"u"){if(t===an.CurrencyDecimal)return n[Ft.NumberSymbols][an.Decimal];if(t===an.CurrencyGroup)return n[Ft.NumberSymbols][an.Group]}return r}function _A(e){if(!e[Ft.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ft.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Gr(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function Xv(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const WV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wd={},GV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var mo=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(mo||{}),pt=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(pt||{}),gt=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(gt||{});function ZV(e,t,n,r){let i=function n5(e){if(xA(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,o=1,a=1]=e.split("-").map(l=>+l);return Zp(i,o-1,a)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(WV))return function r5(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const a=Number(e[4]||0)-n,l=Number(e[5]||0)-r,u=Number(e[6]||0),h=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,l,u,h),t}(r)}const t=new Date(e);if(!xA(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=_o(n,t)||t;let l,a=[];for(;t;){if(l=GV.exec(t),!l){a.push(t);break}{a=a.concat(l.slice(1));const p=a.pop();if(!p)break;t=p}}let u=i.getTimezoneOffset();r&&(u=yA(r,u),i=function t5(e,t,n){const r=n?-1:1,i=e.getTimezoneOffset();return function e5(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(yA(t,i)-i))}(i,r,!0));let h="";return a.forEach(p=>{const g=function JV(e){if(ey[e])return ey[e];let t;switch(e){case"G":case"GG":case"GGG":t=kt(gt.Eras,At.Abbreviated);break;case"GGGG":t=kt(gt.Eras,At.Wide);break;case"GGGGG":t=kt(gt.Eras,At.Narrow);break;case"y":t=mn(pt.FullYear,1,0,!1,!0);break;case"yy":t=mn(pt.FullYear,2,0,!0,!0);break;case"yyy":t=mn(pt.FullYear,3,0,!1,!0);break;case"yyyy":t=mn(pt.FullYear,4,0,!1,!0);break;case"Y":t=Qp(1);break;case"YY":t=Qp(2,!0);break;case"YYY":t=Qp(3);break;case"YYYY":t=Qp(4);break;case"M":case"L":t=mn(pt.Month,1,1);break;case"MM":case"LL":t=mn(pt.Month,2,1);break;case"MMM":t=kt(gt.Months,At.Abbreviated);break;case"MMMM":t=kt(gt.Months,At.Wide);break;case"MMMMM":t=kt(gt.Months,At.Narrow);break;case"LLL":t=kt(gt.Months,At.Abbreviated,nr.Standalone);break;case"LLLL":t=kt(gt.Months,At.Wide,nr.Standalone);break;case"LLLLL":t=kt(gt.Months,At.Narrow,nr.Standalone);break;case"w":t=Jv(1);break;case"ww":t=Jv(2);break;case"W":t=Jv(1,!0);break;case"d":t=mn(pt.Date,1);break;case"dd":t=mn(pt.Date,2);break;case"c":case"cc":t=mn(pt.Day,1);break;case"ccc":t=kt(gt.Days,At.Abbreviated,nr.Standalone);break;case"cccc":t=kt(gt.Days,At.Wide,nr.Standalone);break;case"ccccc":t=kt(gt.Days,At.Narrow,nr.Standalone);break;case"cccccc":t=kt(gt.Days,At.Short,nr.Standalone);break;case"E":case"EE":case"EEE":t=kt(gt.Days,At.Abbreviated);break;case"EEEE":t=kt(gt.Days,At.Wide);break;case"EEEEE":t=kt(gt.Days,At.Narrow);break;case"EEEEEE":t=kt(gt.Days,At.Short);break;case"a":case"aa":case"aaa":t=kt(gt.DayPeriods,At.Abbreviated);break;case"aaaa":t=kt(gt.DayPeriods,At.Wide);break;case"aaaaa":t=kt(gt.DayPeriods,At.Narrow);break;case"b":case"bb":case"bbb":t=kt(gt.DayPeriods,At.Abbreviated,nr.Standalone,!0);break;case"bbbb":t=kt(gt.DayPeriods,At.Wide,nr.Standalone,!0);break;case"bbbbb":t=kt(gt.DayPeriods,At.Narrow,nr.Standalone,!0);break;case"B":case"BB":case"BBB":t=kt(gt.DayPeriods,At.Abbreviated,nr.Format,!0);break;case"BBBB":t=kt(gt.DayPeriods,At.Wide,nr.Format,!0);break;case"BBBBB":t=kt(gt.DayPeriods,At.Narrow,nr.Format,!0);break;case"h":t=mn(pt.Hours,1,-12);break;case"hh":t=mn(pt.Hours,2,-12);break;case"H":t=mn(pt.Hours,1);break;case"HH":t=mn(pt.Hours,2);break;case"m":t=mn(pt.Minutes,1);break;case"mm":t=mn(pt.Minutes,2);break;case"s":t=mn(pt.Seconds,1);break;case"ss":t=mn(pt.Seconds,2);break;case"S":t=mn(pt.FractionalSeconds,1);break;case"SS":t=mn(pt.FractionalSeconds,2);break;case"SSS":t=mn(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Kp(mo.Short);break;case"ZZZZZ":t=Kp(mo.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Kp(mo.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Kp(mo.Long);break;default:return null}return ey[e]=t,t}(p);h+=g?g(i,n,u):"''"===p?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function Zp(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function _o(e,t){const n=function RV(e){return Jn(e)[Ft.LocaleId]}(e);if(wd[n]=wd[n]||{},wd[n][t])return wd[n][t];let r="";switch(t){case"shortDate":r=$p(e,Rr.Short);break;case"mediumDate":r=$p(e,Rr.Medium);break;case"longDate":r=$p(e,Rr.Long);break;case"fullDate":r=$p(e,Rr.Full);break;case"shortTime":r=Wp(e,Rr.Short);break;case"mediumTime":r=Wp(e,Rr.Medium);break;case"longTime":r=Wp(e,Rr.Long);break;case"fullTime":r=Wp(e,Rr.Full);break;case"short":const i=_o(e,"shortTime"),o=_o(e,"shortDate");r=qp(Gp(e,Rr.Short),[i,o]);break;case"medium":const a=_o(e,"mediumTime"),l=_o(e,"mediumDate");r=qp(Gp(e,Rr.Medium),[a,l]);break;case"long":const u=_o(e,"longTime"),h=_o(e,"longDate");r=qp(Gp(e,Rr.Long),[u,h]);break;case"full":const p=_o(e,"fullTime"),g=_o(e,"fullDate");r=qp(Gp(e,Rr.Full),[p,g])}return r&&(wd[n][t]=r),r}function qp(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return null!=t&&r in t?t[r]:n})),e}function ai(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let a=String(e);for(;a.length<t;)a="0"+a;return r&&(a=a.slice(a.length-t)),o+a}function mn(e,t,n=0,r=!1,i=!1){return function(o,a){let l=function KV(e,t){switch(e){case pt.FullYear:return t.getFullYear();case pt.Month:return t.getMonth();case pt.Date:return t.getDate();case pt.Hours:return t.getHours();case pt.Minutes:return t.getMinutes();case pt.Seconds:return t.getSeconds();case pt.FractionalSeconds:return t.getMilliseconds();case pt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||l>-n)&&(l+=n),e===pt.Hours)0===l&&-12===n&&(l=12);else if(e===pt.FractionalSeconds)return function qV(e,t){return ai(e,3).substring(0,t)}(l,t);const u=Wr(a,an.MinusSign);return ai(l,t,u,r,i)}}function kt(e,t,n=nr.Format,r=!1){return function(i,o){return function YV(e,t,n,r,i,o){switch(n){case gt.Months:return function kV(e,t,n){const r=Jn(e),o=Gr([r[Ft.MonthsFormat],r[Ft.MonthsStandalone]],t);return Gr(o,n)}(t,i,r)[e.getMonth()];case gt.Days:return function FV(e,t,n){const r=Jn(e),o=Gr([r[Ft.DaysFormat],r[Ft.DaysStandalone]],t);return Gr(o,n)}(t,i,r)[e.getDay()];case gt.DayPeriods:const a=e.getHours(),l=e.getMinutes();if(o){const h=function HV(e){const t=Jn(e);return _A(t),(t[Ft.ExtraData][2]||[]).map(r=>"string"==typeof r?Xv(r):[Xv(r[0]),Xv(r[1])])}(t),p=function jV(e,t,n){const r=Jn(e);_A(r);const o=Gr([r[Ft.ExtraData][0],r[Ft.ExtraData][1]],t)||[];return Gr(o,n)||[]}(t,i,r),g=h.findIndex(_=>{if(Array.isArray(_)){const[y,D]=_,O=a>=y.hours&&l>=y.minutes,z=a<D.hours||a===D.hours&&l<D.minutes;if(y.hours<D.hours){if(O&&z)return!0}else if(O||z)return!0}else if(_.hours===a&&_.minutes===l)return!0;return!1});if(-1!==g)return p[g]}return function OV(e,t,n){const r=Jn(e),o=Gr([r[Ft.DayPeriodsFormat],r[Ft.DayPeriodsStandalone]],t);return Gr(o,n)}(t,i,r)[a<12?0:1];case gt.Eras:return function LV(e,t){return Gr(Jn(e)[Ft.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,r)}}function Kp(e){return function(t,n,r){const i=-1*r,o=Wr(n,an.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case mo.Short:return(i>=0?"+":"")+ai(a,2,o)+ai(Math.abs(i%60),2,o);case mo.ShortGMT:return"GMT"+(i>=0?"+":"")+ai(a,1,o);case mo.Long:return"GMT"+(i>=0?"+":"")+ai(a,2,o)+":"+ai(Math.abs(i%60),2,o);case mo.Extended:return 0===r?"Z":(i>=0?"+":"")+ai(a,2,o)+":"+ai(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const QV=0,Yp=4;function vA(e){return Zp(e.getFullYear(),e.getMonth(),e.getDate()+(Yp-e.getDay()))}function Jv(e,t=!1){return function(n,r){let i;if(t){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{const o=vA(n),a=function XV(e){const t=Zp(e,QV,1).getDay();return Zp(e,0,1+(t<=Yp?Yp:Yp+7)-t)}(o.getFullYear()),l=o.getTime()-a.getTime();i=1+Math.round(l/6048e5)}return ai(i,e,Wr(r,an.MinusSign))}}function Qp(e,t=!1){return function(n,r){return ai(vA(n).getFullYear(),e,Wr(r,an.MinusSign),t)}}const ey={};function yA(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function xA(e){return e instanceof Date&&!isNaN(e.valueOf())}function DA(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}class _5{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ay=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new _5(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===o?void 0:o);else if(null!==o){const l=r.get(o);r.move(l,a),IA(l,i)}});for(let i=0,o=r.length;i<o;i++){const l=r.get(i).context;l.index=i,l.count=o,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{IA(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(oe(si),oe(fo),oe(ep))};static#t=this.\u0275dir=Ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function IA(e,t){e.context.$implicit=t.item}let Jp=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new v5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){AA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){AA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(oe(si),oe(fo))};static#t=this.\u0275dir=Ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class v5{constructor(){this.$implicit=null,this.ngIf=null}}function AA(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${en(t)}'.`)}const P5=new _e("DATE_PIPE_DEFAULT_TIMEZONE"),R5=new _e("DATE_PIPE_DEFAULT_OPTIONS");let uy=(()=>{class e{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return ZV(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw function li(e,t){return new ae(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||e)(oe(po,16),oe(P5,24),oe(R5,24))};static#t=this.\u0275pipe=Kn({name:"date",type:e,pure:!0,standalone:!0})}return e})(),NA=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=qn({type:e});static#n=this.\u0275inj=Zn({})}return e})();function RA(e){return"server"===e}let G5=(()=>{class e{static#e=this.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>new Z5(Me(pr),window)})}return e})();class Z5{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function q5(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class OA{}class _H extends bV{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gy extends _H{static makeCurrent(){!function DV(e){qv||(qv=e)}(new gy)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function vH(){return bd=bd||document.querySelector("base"),bd?bd.getAttribute("href"):null}();return null==n?null:function yH(e){return new URL(e,"http://a").pathname}(n)}resetBaseElement(){bd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return DA(document.cookie,t)}}let bd=null,CH=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();const my=new _e("EventManagerPlugins");let BA=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ae(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(Me(my),Me(mt))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();class VA{constructor(t){this._doc=t}}const _y="ng-app-id";let HA=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=RA(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${_y}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(_y),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(_y,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(Me(pr),Me(Pf),Me(bE,8),Me(Qs))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();const vy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yy=/%COMP%/g,bH=new _e("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function UA(e,t){return t.map(n=>n.replace(yy,e))}let zA=(()=>{class e{constructor(n,r,i,o,a,l,u,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=RA(l),this.defaultRenderer=new xy(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===d.ShadowDom&&(r={...r,encapsulation:d.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof WA?i.applyToHost(n):i instanceof Cy&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const a=this.doc,l=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case d.Emulated:o=new WA(u,h,r,this.appId,p,a,l,g);break;case d.ShadowDom:return new TH(u,h,n,r,a,l,this.nonce,g);default:o=new Cy(u,h,r,p,a,l,g)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(Me(BA),Me(HA),Me(Pf),Me(bH),Me(pr),Me(Qs),Me(mt),Me(bE))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();class xy{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(vy[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){($A(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&($A(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new ae(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=vy[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=vy[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(qo.DashCase|qo.Important)?t.style.setProperty(n,r,i&qo.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&qo.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Jo().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function $A(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class TH extends xy{constructor(t,n,r,i,o,a,l,u){super(t,o,a,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=UA(i.id,i.styles);for(const p of h){const g=document.createElement("style");l&&g.setAttribute("nonce",l),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cy extends xy{constructor(t,n,r,i,o,a,l,u){super(t,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?UA(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class WA extends Cy{constructor(t,n,r,i,o,a,l,u){const h=i+"-"+r.id;super(t,n,r,o,a,l,u,h),this.contentAttr=function SH(e){return"_ngcontent-%COMP%".replace(yy,e)}(h),this.hostAttr=function IH(e){return"_nghost-%COMP%".replace(yy,e)}(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let MH=(()=>{class e extends VA{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(Me(pr))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();const GA=["alt","control","meta","shift"],NH={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PH={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let RH=(()=>{class e extends VA{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),a=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jo().onAndCancel(n,o.domEventName,a))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),GA.forEach(h=>{const p=r.indexOf(h);p>-1&&(r.splice(p,1),a+=h+".")}),a+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let i=NH[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),GA.forEach(a=>{a!==i&&(0,PH[a])(n)&&(o+=a+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(Me(pr))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();const LH=FI(eV,"browser",[{provide:Qs,useValue:"browser"},{provide:DE,useValue:function OH(){gy.makeCurrent()},multi:!0},{provide:pr,useFactory:function kH(){return function MO(e){km=e}(document),document},deps:[]}]),BH=new _e(""),KA=[{provide:Op,useClass:class xH{addToWindow(t){Et.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new ae(5103,!1);return o},Et.getAllAngularTestabilities=()=>t.getAllTestabilities(),Et.getAllAngularRootElements=()=>t.getAllRootElements(),Et.frameworkStabilizers||(Et.frameworkStabilizers=[]),Et.frameworkStabilizers.push(r=>{const i=Et.getAllAngularTestabilities();let o=i.length,a=!1;const l=function(u){a=a||u,o--,0==o&&r(a)};i.forEach(u=>{u.whenStable(l)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Jo().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:NI,useClass:Rv,deps:[mt,Ov,Op]},{provide:Rv,useClass:Rv,deps:[mt,Ov,Op]}],YA=[{provide:Mm,useValue:"root"},{provide:co,useFactory:function FH(){return new co},deps:[]},{provide:my,useClass:MH,multi:!0,deps:[pr,mt,Qs]},{provide:my,useClass:RH,multi:!0,deps:[pr]},zA,HA,BA,{provide:ED,useExisting:zA},{provide:OA,useClass:CH,deps:[]},[]];let QA=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Pf,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Me(BH,12))};static#t=this.\u0275mod=qn({type:e});static#n=this.\u0275inj=Zn({providers:[...YA,...KA],imports:[NA,tV]})}return e})(),XA=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(Me(pr))};static#t=this.\u0275prov=Ie({token:e,factory:function(r){let i=null;return i=r?new r:function HH(){return new XA(Me(pr))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:GH}=Array,{getPrototypeOf:ZH,prototype:qH,keys:KH}=Object;function nT(e){if(1===e.length){const t=e[0];if(GH(t))return{args:t,keys:null};if(function YH(e){return e&&"object"==typeof e&&ZH(e)===qH}(t)){const n=KH(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:QH}=Array;function rT(e){return lt(t=>function XH(e,t){return QH(t)?e(...t):e(t)}(e,t))}function iT(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Ey(...e){const t=wr(e),n=hn(e),{args:r,keys:i}=nT(e);if(0===r.length)return Nt([],t);const o=new Mt(function JH(e,t,n=Cr){return r=>{oT(t,()=>{const{length:i}=e,o=new Array(i);let a=i,l=i;for(let u=0;u<i;u++)oT(t,()=>{const h=Nt(e[u],t);let p=!1;h.subscribe(Ce(r,g=>{o[u]=g,p||(p=!0,l--),l||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,t,i?a=>iT(i,a):Cr));return n?o.pipe(rT(n)):o}function oT(e,t,n){e?dn(n,e,t):t()}const ng=cn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Dy(...e){return function ej(){return Di(1)}()(Nt(e,wr(e)))}function sT(e){return new Mt(t=>{Pn(e()).subscribe(t)})}function rg(e,t){const n=et(e)?e:()=>e,r=i=>i.error(n());return new Mt(t?i=>t.schedule(r,0,i):r)}function by(){return tt((e,t)=>{let n=null;e._refCount++;const r=Ce(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class aT extends Mt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bn(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Gt;const n=this.getSubject();t.add(this.source.subscribe(Ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Gt.EMPTY)}return t}refCount(){return by()(this)}}function uc(e){return e<=0?()=>sr:tt((t,n)=>{let r=0;t.subscribe(Ce(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function vo(e,t){return tt((n,r)=>{let i=0;n.subscribe(Ce(r,o=>e.call(t,o,i++)&&r.next(o)))})}function ig(e){return tt((t,n)=>{let r=!1;t.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function lT(e=nj){return tt((t,n)=>{let r=!1;t.subscribe(Ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function nj(){return new ng}function ua(e,t){const n=arguments.length>=2;return r=>r.pipe(e?vo((i,o)=>e(i,o,r)):Cr,uc(1),n?ig(t):lT(()=>new ng))}function dc(e,t){return et(t)?_n(e,t,1):_n(e,1)}function Un(e,t,n){const r=et(e)||t||n?{next:e,error:t,complete:n}:e;return r?tt((i,o)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let l=!0;i.subscribe(Ce(o,u=>{var h;null===(h=r.next)||void 0===h||h.call(r,u),o.next(u)},()=>{var u;l=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var h;l=!1,null===(h=r.error)||void 0===h||h.call(r,u),o.error(u)},()=>{var u,h;l&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(h=r.finalize)||void 0===h||h.call(r)}))}):Cr}function hc(e){return tt((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Ce(n,void 0,void 0,a=>{o=Pn(e(a,hc(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Sy(e){return e<=0?()=>sr:tt((t,n)=>{let r=[];t.subscribe(Ce(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Sd(e){return tt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Xe="primary",Id=Symbol("RouteTitle");class lj{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function fc(e){return new lj(e)}function cj(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const a=r[o],l=e[o];if(a.startsWith(":"))i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ui(e,t){const n=e?Iy(e):void 0,r=t?Iy(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!cT(e[i],t[i]))return!1;return!0}function Iy(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function cT(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function uT(e){return e.length>0?e[e.length-1]:null}function ts(e){return function WH(e){return!!e&&(e instanceof Mt||et(e.lift)&&et(e.subscribe))}(e)?e:hd(e)?Nt(Promise.resolve(e)):Oe(e)}const dj={exact:function fT(e,t,n){if(!da(e.segments,t.segments)||!og(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!fT(e.children[r],t.children[r],n))return!1;return!0},subset:pT},dT={exact:function hj(e,t){return Ui(e,t)},subset:function fj(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>cT(e[n],t[n]))},ignored:()=>!0};function hT(e,t,n){return dj[n.paths](e.root,t.root,n.matrixParams)&&dT[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function pT(e,t,n){return gT(e,t,t.segments,n)}function gT(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!da(i,n)||t.hasChildren()||!og(i,n,r))}if(e.segments.length===n.length){if(!da(e.segments,n)||!og(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!pT(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(da(e.segments,i)&&og(e.segments,i,r)&&e.children[Xe])&&gT(e.children[Xe],t,o,r)}}function og(e,t,n){return t.every((r,i)=>dT[n](e[i].parameters,r.parameters))}class pc{constructor(t=new bt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fc(this.queryParams)),this._queryParamMap}toString(){return mj.serialize(this)}}class bt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sg(this)}}class Ad{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=fc(this.parameters)),this._parameterMap}toString(){return vT(this)}}function da(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let gc=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:()=>new Ay,providedIn:"root"})}return e})();class Ay{parse(t){const n=new Ij(t);return new pc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Td(t.root,!0)}`,r=function yj(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${ag(n)}=${ag(i)}`).join("&"):`${ag(n)}=${ag(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function _j(e){return encodeURI(e)}(t.fragment)}`:""}`}}const mj=new Ay;function sg(e){return e.segments.map(t=>vT(t)).join("/")}function Td(e,t){if(!e.hasChildren())return sg(e);if(t){const n=e.children[Xe]?Td(e.children[Xe],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Xe&&r.push(`${i}:${Td(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function gj(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Xe&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Xe&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Xe?[Td(e.children[Xe],!1)]:[`${i}:${Td(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Xe]?`${sg(e)}/${n[0]}`:`${sg(e)}/(${n.join("//")})`}}function mT(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ag(e){return mT(e).replace(/%3B/gi,";")}function Ty(e){return mT(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lg(e){return decodeURIComponent(e)}function _T(e){return lg(e.replace(/\+/g,"%20"))}function vT(e){return`${Ty(e.path)}${function vj(e){return Object.keys(e).map(t=>`;${Ty(t)}=${Ty(e[t])}`).join("")}(e.parameters)}`}const xj=/^[^\/()?;#]+/;function My(e){const t=e.match(xj);return t?t[0]:""}const Cj=/^[^\/()?;=#]+/,Ej=/^[^=?&#]+/,bj=/^[^&#]+/;class Ij{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Xe]=new bt(t,n)),r}parseSegment(){const t=My(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(t),new Ad(lg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function wj(e){const t=e.match(Cj);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=My(this.remaining);i&&(r=i,this.capture(r))}t[lg(n)]=lg(r)}parseQueryParam(t){const n=function Dj(e){const t=e.match(Ej);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const a=function Sj(e){const t=e.match(bj);return t?t[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=_T(n),o=_T(r);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=My(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ae(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Xe);const a=this.parseChildren();n[o]=1===Object.keys(a).length?a[Xe]:new bt([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ae(4011,!1)}}function yT(e){return e.segments.length>0?new bt([],{[Xe]:e}):e}function xT(e){const t={};for(const r of Object.keys(e.children)){const o=xT(e.children[r]);if(r===Xe&&0===o.segments.length&&o.hasChildren())for(const[a,l]of Object.entries(o.children))t[a]=l;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function Aj(e){if(1===e.numberOfChildren&&e.children[Xe]){const t=e.children[Xe];return new bt(e.segments.concat(t.segments),t.children)}return e}(new bt(e.segments,t))}function ha(e){return e instanceof pc}function CT(e){let t;const i=yT(function n(o){const a={};for(const u of o.children){const h=n(u);a[u.outlet]=h}const l=new bt(o.url,a);return o===e&&(t=l),l}(e.root));return t??i}function wT(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return Ny(i,i,i,n,r);const o=function Mj(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new DT(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return Object.entries(o.outlets).forEach(([u,h])=>{l[u]="string"==typeof h?h.split("/"):h}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===a?(o.split("/").forEach((l,u)=>{0==u&&"."===l||(0==u&&""===l?n=!0:".."===l?t++:""!=l&&i.push(l))}),i):[...i,o]},[]);return new DT(n,t,r)}(t);if(o.toRoot())return Ny(i,i,new bt([],{}),n,r);const a=function Nj(e,t,n){if(e.isAbsolute)return new ug(t,!0,0);if(!n)return new ug(t,!1,NaN);if(null===n.parent)return new ug(n,!0,0);const r=cg(e.commands[0])?0:1;return function Pj(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ae(4005,!1);i=r.segments.length}return new ug(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),l=a.processChildren?Nd(a.segmentGroup,a.index,o.commands):bT(a.segmentGroup,a.index,o.commands);return Ny(i,a.segmentGroup,l,n,r)}function cg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Md(e){return"object"==typeof e&&null!=e&&e.outlets}function Ny(e,t,n,r,i){let a,o={};r&&Object.entries(r).forEach(([u,h])=>{o[u]=Array.isArray(h)?h.map(p=>`${p}`):`${h}`}),a=e===t?n:ET(e,t,n);const l=yT(xT(a));return new pc(l,o,i)}function ET(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:ET(o,t,n)}),new bt(e.segments,r)}class DT{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&cg(r[0]))throw new ae(4003,!1);const i=r.find(Md);if(i&&i!==uT(r))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ug{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function bT(e,t,n){if(e||(e=new bt([],{})),0===e.segments.length&&e.hasChildren())return Nd(e,t,n);const r=function Oj(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const a=e.segments[i],l=n[r];if(Md(l))break;const u=`${l}`,h=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&h&&"object"==typeof h&&void 0===h.outlets){if(!IT(u,h,a))return o;r+=2}else{if(!IT(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new bt(e.segments.slice(0,r.pathIndex),{});return o.children[Xe]=new bt(e.segments.slice(r.pathIndex),e.children),Nd(o,0,i)}return r.match&&0===i.length?new bt(e.segments,{}):r.match&&!e.hasChildren()?Py(e,t,n):r.match?Nd(e,0,i):Py(e,t,n)}function Nd(e,t,n){if(0===n.length)return new bt(e.segments,{});{const r=function Rj(e){return Md(e[0])?e[0].outlets:{[Xe]:e}}(n),i={};if(Object.keys(r).some(o=>o!==Xe)&&e.children[Xe]&&1===e.numberOfChildren&&0===e.children[Xe].segments.length){const o=Nd(e.children[Xe],t,n);return new bt(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[o]=bT(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{void 0===r[o]&&(i[o]=a)}),new bt(e.segments,i)}}function Py(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Md(o)){const u=Fj(o.outlets);return new bt(r,u)}if(0===i&&cg(n[0])){r.push(new Ad(e.segments[t].path,ST(n[0]))),i++;continue}const a=Md(o)?o.outlets[Xe]:`${o}`,l=i<n.length-1?n[i+1]:null;a&&l&&cg(l)?(r.push(new Ad(a,ST(l))),i+=2):(r.push(new Ad(a,{})),i++)}return new bt(r,{})}function Fj(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Py(new bt([],{}),0,r))}),t}function ST(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function IT(e,t,n){return e==n.path&&Ui(t,n.parameters)}const Pd="imperative";class zi{constructor(t,n){this.id=t,this.url=n}}class dg extends zi{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yo extends zi{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mc extends zi{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _c extends zi{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class hg extends zi{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AT extends zi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kj extends zi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lj extends zi{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bj extends zi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vj extends zi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hj{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jj{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uj{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zj{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $j{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wj{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TT{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ry{}class Oy{constructor(t){this.url=t}}class Gj{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rd,this.attachRef=null}}let Rd=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Gj,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class MT{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Fy(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Fy(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=ky(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return ky(t,this._root).map(n=>n.value)}}function Fy(e,t){if(e===t.value)return t;for(const n of t.children){const r=Fy(e,n);if(r)return r}return null}function ky(e,t){if(e===t.value)return[t];for(const n of t.children){const r=ky(e,n);if(r.length)return r.unshift(t),r}return[]}class ci{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function vc(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class NT extends MT{constructor(t,n){super(t),this.snapshot=n,Vy(this,t)}toString(){return this.snapshot.toString()}}function PT(e,t){const n=function Zj(e,t){const a=new By([],{},{},"",{},Xe,t,null,{});return new RT("",new ci(a,[]))}(0,t),r=new Wn([new Ad("",{})]),i=new Wn({}),o=new Wn({}),a=new Wn({}),l=new Wn(""),u=new yc(r,i,a,l,o,Xe,t,n.root);return u.snapshot=n.root,new NT(new ci(u,[]),n)}class yc{constructor(t,n,r,i,o,a,l,u){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(lt(h=>h[Id]))??Oe(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(lt(t=>fc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(lt(t=>fc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ly(e,t,n="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===t||"always"!==n&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...i?.data,...e._resolvedData}},i&&FT(i)&&(r.resolve[Id]=i.title),r}class By{get title(){return this.data?.[Id]}constructor(t,n,r,i,o,a,l,u,h){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=l,this.routeConfig=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RT extends MT{constructor(t,n){super(n),this.url=t,Vy(this,n)}toString(){return OT(this._root)}}function Vy(e,t){t.value._routerState=e,t.children.forEach(n=>Vy(e,n))}function OT(e){const t=e.children.length>0?` { ${e.children.map(OT).join(", ")} } `:"";return`${e.value}${t}`}function Hy(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ui(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ui(t.params,n.params)||e.paramsSubject.next(n.params),function uj(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ui(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Ui(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function jy(e,t){const n=Ui(e.params,t.params)&&function pj(e,t){return da(e,t)&&e.every((n,r)=>Ui(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||jy(e.parent,t.parent))}function FT(e){return"string"==typeof e.title||null===e.title}let Uy=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xe,this.activateEvents=new Ot,this.deactivateEvents=new Ot,this.attachEvents=new Ot,this.detachEvents=new Ot,this.parentContexts=pe(Rd),this.location=pe(si),this.changeDetector=pe(qu),this.environmentInjector=pe(Ar),this.inputBinder=pe(fg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new qj(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jr]})}return e})();class qj{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===yc?this.route:t===Rd?this.childContexts:this.parent.get(t,n)}}const fg=new _e("");let kT=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Ey([r.queryParams,r.params,r.data]).pipe(ar(([o,a,l],u)=>(l={...o,...a,...l},0===u?Oe(l):Promise.resolve(l)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const a=function EV(e){const t=nt(e);if(!t)return null;const n=new Ku(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,o[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();function Od(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function Yj(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Od(e,r,i);return Od(e,r)})}(e,t,n);return new ci(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>Od(e,l)),a}}const r=function Qj(e){return new yc(new Wn(e.url),new Wn(e.params),new Wn(e.queryParams),new Wn(e.fragment),new Wn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Od(e,o));return new ci(r,i)}}const zy="ngNavigationCancelingError";function LT(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ha(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=BT(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function BT(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[zy]=!0,r.cancellationCode=t,n&&(r.url=n),r}function VT(e){return e&&e[zy]}let HT=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ti({type:e,selectors:[["ng-component"]],standalone:!0,features:[zS],decls:1,vars:0,template:function(r,i){1&r&&Qt(0,"router-outlet")},dependencies:[Uy],encapsulation:2})}return e})();function $y(e){const t=e.children&&e.children.map($y),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Xe&&(n.component=HT),n}function $i(e){return e.outlet||Xe}function Fd(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class o7{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Hy(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=vc(n);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=vc(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=vc(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=vc(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Wj(o.value.snapshot))}),t.children.length&&this.forwardEvent(new zj(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(Hy(i),i===o)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Hy(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=Fd(i.snapshot);a.attachRef=null,a.route=i,a.injector=l,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,r)}}class jT{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class pg{constructor(t,n){this.component=t,this.route=n}}function s7(e,t,n){const r=e._root;return kd(r,t?t._root:null,n,[r.value])}function xc(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function tl(e){return null!==lr(e)}(e)?t.get(e):e:r}function kd(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=vc(t);return e.children.forEach(a=>{(function l7(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function c7(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!da(e.url,t.url);case"pathParamsOrQueryParamsChange":return!da(e.url,t.url)||!Ui(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jy(e,t)||!Ui(e.queryParams,t.queryParams);default:return!jy(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jT(r)):(o.data=a.data,o._resolvedData=a._resolvedData),kd(e,t,o.component?l?l.children:null:n,r,i),u&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new pg(l.outlet.component,a))}else a&&Ld(t,l,i),i.canActivateChecks.push(new jT(r)),kd(e,null,o.component?l?l.children:null:n,r,i)})(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>Ld(l,n.getContext(a),i)),i}function Ld(e,t,n){const r=vc(e),i=e.value;Object.entries(r).forEach(([o,a])=>{Ld(a,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new pg(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Bd(e){return"function"==typeof e}function UT(e){return e instanceof ng||"EmptyError"===e?.name}const gg=Symbol("INITIAL_VALUE");function Cc(){return ar(e=>Ey(e.map(t=>t.pipe(uc(1),function tj(...e){const t=wr(e);return tt((n,r)=>{(t?Dy(e,n,t):Dy(e,n)).subscribe(r)})}(gg)))).pipe(lt(t=>{for(const n of t)if(!0!==n){if(n===gg)return gg;if(!1===n||n instanceof pc)return n}return!0}),vo(t=>t!==gg),uc(1)))}function zT(e){return function Gc(...e){return ka(e)}(Un(t=>{if(ha(t))throw LT(0,t)}),lt(t=>!0===t))}class Wy{constructor(t){this.segmentGroup=t||null}}class Gy extends Error{constructor(t){super(),this.urlTree=t}}function wc(e){return rg(new Wy(e))}class T7{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new ae(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Oe(r);if(i.numberOfChildren>1||!i.children[Xe])return rg(new ae(4e3,!1));i=i.children[Xe]}}applyRedirectCommands(t,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new Gy(i);return i}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new pc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const l=o.substring(1);r[i]=n[l]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let a={};return Object.entries(n.children).forEach(([l,u])=>{a[l]=this.createSegmentGroup(t,u,r,i)}),new bt(o,a)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new ae(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const Zy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function M7(e,t,n,r,i){const o=qy(e,t,n);return o.matched?(r=function Jj(e,t){return e.providers&&!e._injector&&(e._injector=_v(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function S7(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Oe(i.map(a=>{const l=xc(a,e);return ts(function g7(e){return e&&Bd(e.canMatch)}(l)?l.canMatch(t,n):zo(e,()=>l(t,n)))})).pipe(Cc(),zT()):Oe(!0)}(r,t,n).pipe(lt(a=>!0===a?o:{...Zy}))):Oe(o)}function qy(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Zy}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||cj)(n,e,t);if(!i)return{...Zy};const o={};Object.entries(i.posParams??{}).forEach(([l,u])=>{o[l]=u.path});const a=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function $T(e,t,n,r){return n.length>0&&function R7(e,t,n){return n.some(r=>mg(e,t,r)&&$i(r)!==Xe)}(e,n,r)?{segmentGroup:new bt(t,P7(r,new bt(n,e.children))),slicedSegments:[]}:0===n.length&&function O7(e,t,n){return n.some(r=>mg(e,t,r))}(e,n,r)?{segmentGroup:new bt(e.segments,N7(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new bt(e.segments,e.children),slicedSegments:n}}function N7(e,t,n,r,i){const o={};for(const a of r)if(mg(e,n,a)&&!i[$i(a)]){const l=new bt([],{});o[$i(a)]=l}return{...i,...o}}function P7(e,t){const n={};n[Xe]=t;for(const r of e)if(""===r.path&&$i(r)!==Xe){const i=new bt([],{});n[$i(r)]=i}return n}function mg(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class L7{}class H7{constructor(t,n,r,i,o,a,l){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new T7(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ae(4002,!1)}recognize(){const t=$T(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(lt(n=>{const r=new By([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xe,this.rootComponentType,null,{}),i=new ci(r,n),o=new RT("",i),a=function Tj(e,t,n=null,r=null){return wT(CT(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Xe).pipe(hc(r=>{if(r instanceof Gy)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Wy?this.noMatchError(r):r}))}inheritParamsAndData(t,n){const r=t.value,i=Ly(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(lt(o=>o instanceof ci?[o]:[]))}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Nt(i).pipe(dc(o=>{const a=r.children[o],l=function r7(e,t){const n=e.filter(r=>$i(r)===t);return n.push(...e.filter(r=>$i(r)!==t)),n}(n,o);return this.processSegmentGroup(t,l,a,o)}),function ij(e,t){return tt(function rj(e,t,n,r,i){return(o,a)=>{let l=n,u=t,h=0;o.subscribe(Ce(a,p=>{const g=h++;u=l?e(u,p,g):(l=!0,p),r&&a.next(u)},i&&(()=>{l&&a.next(u),a.complete()})))}}(e,t,arguments.length>=2,!0))}((o,a)=>(o.push(...a),o)),ig(null),function oj(e,t){const n=arguments.length>=2;return r=>r.pipe(e?vo((i,o)=>e(i,o,r)):Cr,Sy(1),n?ig(t):lT(()=>new ng))}(),_n(o=>{if(null===o)return wc(r);const a=WT(o);return function j7(e){e.sort((t,n)=>t.value.outlet===Xe?-1:n.value.outlet===Xe?1:t.value.outlet.localeCompare(n.value.outlet))}(a),Oe(a)}))}processSegment(t,n,r,i,o,a){return Nt(n).pipe(dc(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,a).pipe(hc(u=>{if(u instanceof Wy)return Oe(null);throw u}))),ua(l=>!!l),hc(l=>{if(UT(l))return function k7(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?Oe(new L7):wc(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,a,l){return function F7(e,t,n,r){return!!($i(e)===r||r!==Xe&&mg(t,n,e))&&("**"===e.path||qy(t,e,n).matched)}(r,i,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,a):wc(i):wc(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,a){const{matched:l,consumedSegments:u,positionalParamSegments:h,remainingSegments:p}="**"===i.path?GT(o):qy(n,i,o);if(!l)return wc(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h);return this.applyRedirects.lineralizeSegments(i,g).pipe(_n(_=>this.processSegment(t,r,n,_.concat(p),a,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let a;return"**"===r.path?(a=Oe(GT(i)),n.children={}):a=M7(n,r,i,t),a.pipe(ar(l=>l.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(ar(({routes:u})=>{const h=r._loadedInjector??t,{consumedSegments:p,remainingSegments:g,parameters:_}=l,y=new By(p,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function z7(e){return e.data||{}}(r),$i(r),r.component??r._loadedComponent??null,r,function $7(e){return e.resolve||{}}(r)),{segmentGroup:D,slicedSegments:O}=$T(n,p,g,u);if(0===O.length&&D.hasChildren())return this.processChildren(h,u,D).pipe(lt(te=>null===te?null:new ci(y,te)));if(0===u.length&&0===O.length)return Oe(new ci(y,[]));const z=$i(r)===o;return this.processSegment(h,u,D,O,z?Xe:o,!0).pipe(lt(te=>new ci(y,te instanceof ci?[te]:[])))})):wc(n)))}getChildConfig(t,n,r){return n.children?Oe({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Oe({routes:n._loadedRoutes,injector:n._loadedInjector}):function b7(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Oe(!0):Oe(i.map(a=>{const l=xc(a,e);return ts(function d7(e){return e&&Bd(e.canLoad)}(l)?l.canLoad(t,n):zo(e,()=>l(t,n)))})).pipe(Cc(),zT())}(t,n,r).pipe(_n(i=>i?this.configLoader.loadChildren(t,n).pipe(Un(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function A7(e){return rg(BT(!1,3))}())):Oe({routes:[],injector:t})}}function U7(e){const t=e.value.routeConfig;return t&&""===t.path}function WT(e){const t=[],n=new Set;for(const r of e){if(!U7(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=WT(r.children);t.push(new ci(r.value,i))}return t.filter(r=>!n.has(r))}function GT(e){return{matched:!0,parameters:e.length>0?uT(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function ZT(e){const t=e.children.map(n=>ZT(n)).flat();return[e,...t]}function Ky(e){return ar(t=>{const n=e(t);return n?Nt(n).pipe(lt(()=>t)):Oe(t)})}let qT=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Xe);return r}getResolvedTitleForRoute(n){return n.data[Id]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:()=>pe(Y7),providedIn:"root"})}return e})(),Y7=(()=>{class e extends qT{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(Me(XA))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ec=new _e("",{providedIn:"root",factory:()=>({})}),Dc=new _e("ROUTES");let Yy=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=pe(SI)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Oe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ts(n.loadComponent()).pipe(lt(KT),Un(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Sd(()=>{this.componentLoaders.delete(n)})),i=new aT(r,()=>new Nn).pipe(by());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Oe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Q7(e,t,n,r){return ts(e.loadChildren()).pipe(lt(KT),_n(i=>i instanceof jS||Array.isArray(i)?Oe(i):Nt(t.compileModuleAsync(i))),lt(i=>{r&&r(e);let o,a,l=!1;return Array.isArray(i)?(a=i,!0):(o=i.create(n).injector,a=o.get(Dc,[],{optional:!0,self:!0}).flat()),{routes:a.map($y),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Sd(()=>{this.childrenLoaders.delete(r)})),a=new aT(o,()=>new Nn).pipe(by());return this.childrenLoaders.set(r,a),a}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function KT(e){return function X7(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Qy=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:()=>pe(J7),providedIn:"root"})}return e})(),J7=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const YT=new _e(""),QT=new _e("");function eU(e,t,n){const r=e.get(QT),i=e.get(pr);return e.get(mt).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const a=new Promise(h=>{o=h}),l=i.startViewTransition(()=>(o(),function tU(e){return new Promise(t=>{fb(t,{injector:e})})}(e))),{onViewTransitionCreated:u}=r;return u&&zo(e,()=>u({transition:l,from:t,to:n})),a})}let _g=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Nn,this.transitionAbortSubject=new Nn,this.configLoader=pe(Yy),this.environmentInjector=pe(Ar),this.urlSerializer=pe(gc),this.rootContexts=pe(Rd),this.location=pe(Cd),this.inputBindingEnabled=null!==pe(fg,{optional:!0}),this.titleStrategy=pe(qT),this.options=pe(Ec,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=pe(Qy),this.createViewTransition=pe(YT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Oe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new jj(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Hj(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Wn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pd,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vo(o=>0!==o.id),lt(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ar(o=>{this.currentTransition=o;let a=!1,l=!1;return Oe(o).pipe(Un(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ar(u=>{const h=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!h&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new _c(u.id,this.urlSerializer.serialize(u.rawUrl),g,0)),u.resolve(null),sr}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Oe(u).pipe(ar(g=>{const _=this.transitions?.getValue();return this.events.next(new dg(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?sr:Promise.resolve(g)}),function W7(e,t,n,r,i,o){return _n(a=>function B7(e,t,n,r,i,o,a="emptyOnly"){return new H7(e,t,n,r,i,a,o).recognize()}(e,t,n,r,a.extractedUrl,i,o).pipe(lt(({state:l,tree:u})=>({...a,targetSnapshot:l,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Un(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const _=new AT(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:g,extractedUrl:_,source:y,restoredState:D,extras:O}=u,z=new dg(g,this.urlSerializer.serialize(_),y,D);this.events.next(z);const te=PT(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:te,urlAfterRedirects:_,extras:{...O,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=_,Oe(o)}{const g="";return this.events.next(new _c(u.id,this.urlSerializer.serialize(u.extractedUrl),g,1)),u.resolve(null),sr}}),Un(u=>{const h=new kj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),lt(u=>(this.currentTransition=o={...u,guards:s7(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function _7(e,t){return _n(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return 0===a.length&&0===o.length?Oe({...n,guardsResult:!0}):function v7(e,t,n,r){return Nt(e).pipe(_n(i=>function D7(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Oe(o.map(l=>{const u=Fd(t)??i,h=xc(l,u);return ts(function p7(e){return e&&Bd(e.canDeactivate)}(h)?h.canDeactivate(e,t,n,r):zo(u,()=>h(e,t,n,r))).pipe(ua())})).pipe(Cc()):Oe(!0)}(i.component,i.route,n,t,r)),ua(i=>!0!==i,!0))}(a,r,i,e).pipe(_n(l=>l&&function u7(e){return"boolean"==typeof e}(l)?function y7(e,t,n,r){return Nt(t).pipe(dc(i=>Dy(function C7(e,t){return null!==e&&t&&t(new Uj(e)),Oe(!0)}(i.route.parent,r),function x7(e,t){return null!==e&&t&&t(new $j(e)),Oe(!0)}(i.route,r),function E7(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function a7(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>sT(()=>Oe(a.guards.map(u=>{const h=Fd(a.node)??n,p=xc(u,h);return ts(function f7(e){return e&&Bd(e.canActivateChild)}(p)?p.canActivateChild(r,e):zo(h,()=>p(r,e))).pipe(ua())})).pipe(Cc())));return Oe(o).pipe(Cc())}(e,i.path,n),function w7(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Oe(!0);const i=r.map(o=>sT(()=>{const a=Fd(t)??n,l=xc(o,a);return ts(function h7(e){return e&&Bd(e.canActivate)}(l)?l.canActivate(t,e):zo(a,()=>l(t,e))).pipe(ua())}));return Oe(i).pipe(Cc())}(e,i.route,n))),ua(i=>!0!==i,!0))}(r,o,e,t):Oe(l)),lt(l=>({...n,guardsResult:l})))})}(this.environmentInjector,u=>this.events.next(u)),Un(u=>{if(o.guardsResult=u.guardsResult,ha(u.guardsResult))throw LT(0,u.guardsResult);const h=new Lj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),vo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),Ky(u=>{if(u.guards.canActivateChecks.length)return Oe(u).pipe(Un(h=>{const p=new Bj(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),ar(h=>{let p=!1;return Oe(h).pipe(function G7(e,t){return _n(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Oe(n);const o=new Set(i.map(u=>u.route)),a=new Set;for(const u of o)if(!a.has(u))for(const h of ZT(u))a.add(h);let l=0;return Nt(a).pipe(dc(u=>o.has(u)?function Z7(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!FT(i)&&(o[Id]=i.title),function q7(e,t,n,r){const i=Iy(e);if(0===i.length)return Oe({});const o={};return Nt(i).pipe(_n(a=>function K7(e,t,n,r){const i=Fd(t)??r,o=xc(e,i);return ts(o.resolve?o.resolve(t,n):zo(i,()=>o(t,n)))}(e[a],t,n,r).pipe(ua(),Un(l=>{o[a]=l}))),Sy(1),function sj(e){return lt(()=>e)}(o),hc(a=>UT(a)?sr:rg(a)))}(o,e,t,r).pipe(lt(a=>(e._resolvedData=a,e.data=Ly(e,e.parent,n).resolve,null)))}(u,r,e,t):(u.data=Ly(u,u.parent,e).resolve,Oe(void 0))),Un(()=>l++),Sy(1),_n(u=>l===a.size?Oe(n):sr))})}(this.paramsInheritanceStrategy,this.environmentInjector),Un({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",2)}}))}),Un(h=>{const p=new Vj(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Ky(u=>{const h=p=>{const g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Un(_=>{p.component=_}),lt(()=>{})));for(const _ of p.children)g.push(...h(_));return g};return Ey(h(u.targetSnapshot.root)).pipe(ig(),uc(1))}),Ky(()=>this.afterPreactivation()),ar(()=>{const{currentSnapshot:u,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,h.root);return p?Nt(p).pipe(lt(()=>o)):Oe(o)}),lt(u=>{const h=function Kj(e,t,n){const r=Od(e,t._root,n?n._root:void 0);return new NT(r,t)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:h},this.currentNavigation.targetRouterState=h,o}),Un(()=>{this.events.next(new Ry)}),((e,t,n,r)=>lt(i=>(new o7(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),uc(1),Un({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yo(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function aj(e){return tt((t,n)=>{Pn(e).subscribe(Ce(n,()=>n.complete(),vi)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(Un(u=>{throw u}))),Sd(()=>{a||l||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),hc(u=>{if(l=!0,VT(u))this.events.next(new mc(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function Xj(e){return VT(e)&&ha(e.url)}(u)?this.events.next(new Oy(u.url)):o.resolve(!1);else{this.events.next(new hg(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(h){o.reject(h)}}return sr}))}))}cancelNavigationTransition(n,r,i){const o=new mc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nU(e){return e!==Pd}let rU=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:()=>pe(oU),providedIn:"root"})}return e})();class iU{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let oU=(()=>{class e extends iU{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=An(e)))(i||e)}})();static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),XT=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:()=>pe(sU),providedIn:"root"})}return e})(),sU=(()=>{class e extends XT{constructor(){super(...arguments),this.location=pe(Cd),this.urlSerializer=pe(gc),this.options=pe(Ec,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=pe(Qy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=PT(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof dg)this.stateMemento=this.createStateMemento();else if(n instanceof _c)this.rawUrlTree=r.initialUrl;else if(n instanceof AT){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof Ry?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof mc&&(3===n.code||2===n.code)?this.restoreHistory(r):n instanceof hg?this.restoreHistory(r,!0):n instanceof yo&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&0===o&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=An(e)))(i||e)}})();static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Vd=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Vd||{});function JT(e,t){e.events.pipe(vo(n=>n instanceof yo||n instanceof mc||n instanceof hg||n instanceof _c),lt(n=>n instanceof yo||n instanceof _c?Vd.COMPLETE:n instanceof mc&&(0===n.code||1===n.code)?Vd.REDIRECTING:Vd.FAILED),vo(n=>n!==Vd.REDIRECTING),uc(1)).subscribe(()=>{t()})}function aU(e){throw e}const lU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=pe(DI),this.stateManager=pe(XT),this.options=pe(Ec,{optional:!0})||{},this.pendingTasks=pe(Pp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=pe(_g),this.urlSerializer=pe(gc),this.location=pe(Cd),this.urlHandlingStrategy=pe(Qy),this._events=new Nn,this.errorHandler=this.options.errorHandler||aU,this.navigated=!1,this.routeReuseStrategy=pe(rU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=pe(Dc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!pe(fg,{optional:!0}),this.eventsSubscription=new Gt,this.isNgZoneEnabled=pe(mt)instanceof mt&&mt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof mc&&0!==r.code&&1!==r.code)this.navigated=!0;else if(r instanceof yo)this.navigated=!0;else if(r instanceof Oy){const a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||nU(i.source)};this.scheduleNavigation(a,Pd,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function dU(e){return!(e instanceof Ry||e instanceof Oy)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const l=this.parseUrl(n);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map($y),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,h=u?this.currentUrlTree.fragment:a;let g,p=null;switch(l){case"merge":p={...this.currentUrlTree.queryParams,...o};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}null!==p&&(p=this.removeEmptyProps(p));try{g=CT(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return wT(g,n,p,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ha(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Pd,null,r)}navigate(n,r={skipLocationChange:!1}){return function uU(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new ae(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...lU}:!1===r?{...cU}:r,ha(n))return hT(this.currentUrlTree,n,i);const o=this.parseUrl(n);return hT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let l,u,h;a?(l=a.resolve,u=a.reject,h=a.promise):h=new Promise((g,_)=>{l=g,u=_});const p=this.pendingTasks.add();return JT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vg=(()=>{class e{constructor(n,r,i,o,a,l){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new Nn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(h=>{h instanceof yo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function _D(e,t,n){return function jF(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?mD:i_}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||e)(oe(Or),oe(yc),function Cf(e){return function U2(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(B(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(Dt(),e)}("tabindex"),oe(lo),oe(Mr),oe(ca))};static#t=this.\u0275dir=Ue({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&_t("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&r&&Vi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",lc],skipLocationChange:["skipLocationChange","skipLocationChange",lc],replaceUrl:["replaceUrl","replaceUrl",lc],routerLink:"routerLink"},standalone:!0,features:[wb,jr]})}return e})(),eM=(()=>{class e{get isActive(){return this._isActive}constructor(n,r,i,o,a){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ot,this.routerEventsSubscription=n.events.subscribe(l=>{l instanceof yo&&this.update()})}ngAfterContentInit(){Oe(this.links.changes,Oe(null)).pipe(Di()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Nt(n).pipe(Di()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function hU(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static#e=this.\u0275fac=function(r){return new(r||e)(oe(Or),oe(Mr),oe(lo),oe(qu),oe(vg,8))};static#t=this.\u0275dir=Ue({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&function oI(e,t,n,r){const i=ut();if(i.firstCreatePass){const o=Dt();aI(i,new rI(t,n,r),o.index),function H3(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}sI(i,J(),n)}(o,vg,5),2&r){let a;gd(a=md())&&(i.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[jr]})}return e})();class tM{}let fU=(()=>{class e{constructor(n,r,i,o,a){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(vo(n=>n instanceof yo),dc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=_v(o.providers,n,`Route: ${o.path}`));const a=o._injector??n,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Nt(i).pipe(Di())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Oe(null);const o=i.pipe(_n(a=>null===a?Oe(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return r.loadComponent&&!r._loadedComponent?Nt([o,this.loader.loadComponent(r)]).pipe(Di()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(Me(Or),Me(SI),Me(Ar),Me(tM),Me(Yy))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Xy=new _e("");let nM=(()=>{class e{constructor(n,r,i,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof yo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof _c&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof TT&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new TT(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function HD(){throw new Error("invalid")}()};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();function Wi(e,t){return{\u0275kind:e,\u0275providers:t}}function iM(){const e=pe(dr);return t=>{const n=e.get(sc);if(t!==n.components[0])return;const r=e.get(Or),i=e.get(oM);1===e.get(Jy)&&r.initialNavigation(),e.get(sM,null,Qe.Optional)?.setUpPreloading(),e.get(Xy,null,Qe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const oM=new _e("",{factory:()=>new Nn}),Jy=new _e("",{providedIn:"root",factory:()=>1}),sM=new _e("");function _U(e){return Wi(0,[{provide:sM,useExisting:fU},{provide:tM,useExisting:e}])}function yU(e){return Wi(9,[{provide:YT,useValue:eU},{provide:QT,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const aM=new _e("ROUTER_FORROOT_GUARD"),xU=[Cd,{provide:gc,useClass:Ay},Or,Rd,{provide:yc,useFactory:function rM(e){return e.routerState.root},deps:[Or]},Yy,[]];let ex=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[xU,[],{provide:Dc,multi:!0,useValue:n},{provide:aM,useFactory:DU,deps:[[Or,new Df,new bf]]},{provide:Ec,useValue:r||{}},r?.useHash?{provide:ca,useClass:AV}:{provide:ca,useClass:pA},{provide:Xy,useFactory:()=>{const e=pe(G5),t=pe(mt),n=pe(Ec),r=pe(_g),i=pe(gc);return n.scrollOffset&&e.setOffset(n.scrollOffset),new nM(i,r,e,t,n)}},r?.preloadingStrategy?_U(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?bU(r):[],r?.bindToComponentInputs?Wi(8,[kT,{provide:fg,useExisting:kT}]).\u0275providers:[],r?.enableViewTransitions?yU().\u0275providers:[],[{provide:lM,useFactory:iM},{provide:Lv,multi:!0,useExisting:lM}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Dc,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Me(aM,8))};static#t=this.\u0275mod=qn({type:e});static#n=this.\u0275inj=Zn({})}return e})();function DU(e){return"guarded"}function bU(e){return["disabled"===e.initialNavigation?Wi(3,[{provide:Mv,multi:!0,useFactory:()=>{const t=pe(Or);return()=>{t.setUpLocationChangeListener()}}},{provide:Jy,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Wi(2,[{provide:Jy,useValue:0},{provide:Mv,multi:!0,deps:[dr],useFactory:t=>{const n=t.get(SV,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Or),o=t.get(oM);JT(i,()=>{r(!0)}),t.get(_g).afterPreactivation=()=>(r(!0),o.closed?Oe(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const lM=new _e("");let cM=(()=>{class e{constructor(){this.title="Night Crusade Titans"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ti({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Qt(0,"router-outlet")},dependencies:[Uy],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;overflow:hidden}app-header[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}"]})}return e})();function uM(e,t,n,r,i,o,a){try{var l=e[o](a),u=l.value}catch(h){return void n(h)}l.done?t(u):Promise.resolve(u).then(r,i)}function ln(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(u){uM(o,r,i,a,l,"next",u)}function l(u){uM(o,r,i,a,l,"throw",u)}a(void 0)})}}class IU{constructor(t,n,r,i,o,a,l,u,h,p,g){this.showMoreInfo=!1,this.distance=0,this.count=0,this.reporterName=t,this.phoneNumber=n,this.suspectName=r,this.locationName=i,this.longitude=o,this.latitude=a,this.timeReported=p,this.resolved=g,""!=l&&(this.picture=l),this.extraInfo=u,this.id=h}}let tx=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>t+((n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n>62?"-":"_"),"");const ve=function(e,t){if(!e)throw bc(t)},bc=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},dM=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},rx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,l=a?e[i+1]:0,u=i+2<e.length,h=u?e[i+2]:0;let _=(15&l)<<2|h>>6,y=63&h;u||(y=64,a||(_=64)),r.push(n[o>>2],n[(3&o)<<4|l>>4],n[_],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dM(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const h=i<e.length?n[e.charAt(i)]:64;++i;const g=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==l||null==h||null==g)throw new NU;r.push(o<<2|l>>4),64!==h&&(r.push(l<<4&240|h>>2),64!==g&&r.push(h<<6&192|g))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class NU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hM=function(e){const t=dM(e);return rx.encodeByteArray(t,!0)},yg=function(e){return hM(e).replace(/\./g,"")},ix=function(e){try{return rx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function PU(e){return fM(void 0,e)}function fM(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!RU(n)||(e[n]=fM(e[n],t[n]));return e}function RU(e){return"__proto__"!==e}const xg=()=>{try{return function OU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ix(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},pM=()=>{var e;return null===(e=xg())||void 0===e?void 0:e.config};class Hd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function gM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(function Cg(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())}class jd extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,jd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mM.prototype.create)}}class mM{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?function GU(e,t){return e.replace(ZU,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new jd(i,`${this.serviceName}: ${a} (${i}).`,r)}}const ZU=/\{\$([^}]+)}/g;function Ud(e){return JSON.parse(e)}function Dn(e){return JSON.stringify(e)}const wg=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Ud(ix(o[0])||""),n=Ud(ix(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function Co(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Sc(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function _M(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Eg(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ox(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(vM(o)&&vM(a)){if(!ox(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vM(e){return null!==e&&"object"==typeof e}class QU{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let g=0;g<16;g++)r[g]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let g=16;g<80;g++){const _=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=4294967295&(_<<1|_>>>31)}let h,p,i=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let g=0;g<80;g++){g<40?g<20?(h=l^o&(a^l),p=1518500249):(h=o^a^l,p=1859775393):g<60?(h=o&a|l&(o|a),p=2400959708):(h=o^a^l,p=3395469782);const _=(i<<5|i>>>27)+h+u+p+r[g]&4294967295;u=l,l=a,a=4294967295&(o<<30|o>>>2),o=i,i=_}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let a=this.inbuf_;for(;i<n;){if(0===a)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}else for(;i<n;)if(o[a]=t[i],++a,++i,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}function Ic(e,t){return`${e} failed: ${t} argument `}const Dg=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Ac(e){return e&&e._delegate?e._delegate:e}class zd{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const fa="[DEFAULT]";class s9{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Hd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function l9(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return ln(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&a.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===fa?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class c9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new s9(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const ax=[];var Lt=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Lt||{});const yM={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},u9=Lt.INFO,d9={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},h9=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=d9[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class xM{constructor(t){this.name=t,this._logLevel=u9,this._logHandler=h9,this._userLogHandler=null,ax.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?yM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const f9=(e,t)=>t.some(n=>e instanceof n);let CM,wM;const EM=new WeakMap,lx=new WeakMap,DM=new WeakMap,cx=new WeakMap,ux=new WeakMap;let dx={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return lx.get(e);if("objectStoreNames"===t)return e.objectStoreNames||DM.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function x9(e){return"function"==typeof e?function y9(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function g9(){return wM||(wM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(hx(this),t),ns(EM.get(this))}:function(...t){return ns(e.apply(hx(this),t))}:function(t,...n){const r=e.call(hx(this),t,...n);return DM.set(r,t.sort?t.sort():[t]),ns(r)}}(e):(e instanceof IDBTransaction&&function _9(e){if(lx.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});lx.set(e,t)}(e),f9(e,function p9(){return CM||(CM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,dx):e)}function ns(e){if(e instanceof IDBRequest)return function m9(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(ns(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&EM.set(n,e)}).catch(()=>{}),ux.set(t,e),t}(e);if(cx.has(e))return cx.get(e);const t=x9(e);return t!==e&&(cx.set(e,t),ux.set(t,e)),t}const hx=e=>ux.get(e),w9=["get","getKey","getAll","getAllKeys","count"],E9=["put","add","delete","clear"],fx=new Map;function bM(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(fx.get(t))return fx.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=E9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!w9.includes(n))return;const o=function(){var a=ln(function*(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(yield Promise.all([p[n](...u),i&&h.done]))[0]});return function(u){return a.apply(this,arguments)}}();return fx.set(t,o),o}!function v9(e){dx=e(dx)}(e=>({...e,get:(t,n,r)=>bM(t,n)||e.get(t,n,r),has:(t,n)=>!!bM(t,n)||e.has(t,n)}));class D9{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function b9(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const bg="@firebase/app",pa=new xM("@firebase/app"),Sg="[DEFAULT]",X9={[bg]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ga=new Map,$d=new Map,Wd=new Map;function SM(e,t){try{e.container.addComponent(t)}catch(n){pa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ig(e){const t=e.name;if(Wd.has(t))return pa.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,e);for(const n of ga.values())SM(n,e);for(const n of $d.values())SM(n,e);return!0}const Zr=new mM("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class tz{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}function AM(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Sg,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Zr.create("bad-app-name",{appName:String(i)});if(n||(n=pM()),!n)throw Zr.create("no-options");const o=ga.get(i);if(o){if(ox(n,o.options)&&ox(r,o.config))return o;throw Zr.create("duplicate-app",{appName:i})}const a=new c9(i);for(const u of Wd.values())a.addComponent(u);const l=new tz(n,r,a);return ga.set(i,l),l}function ma(e,t,n){var r;let i=null!==(r=X9[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${t}":`];return o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void pa.warn(l.join(" "))}Ig(new zd(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const sz="firebase-heartbeat-database",az=1,Gd="firebase-heartbeat-store";let mx=null;function TM(){return mx||(mx=function C9(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),l=ns(a);return r&&a.addEventListener("upgradeneeded",u=>{r(ns(a.result),u.oldVersion,u.newVersion,ns(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}(sz,az,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Gd)}catch(n){console.warn(n)}}}).catch(e=>{throw Zr.create("idb-open",{originalErrorMessage:e.message})})),mx}function _x(){return(_x=ln(function*(e){try{const n=(yield TM()).transaction(Gd),r=yield n.objectStore(Gd).get(NM(e));return yield n.done,r}catch(t){if(t instanceof jd)pa.warn(t.message);else{const n=Zr.create("idb-get",{originalErrorMessage:t?.message});pa.warn(n.message)}}})).apply(this,arguments)}function MM(e,t){return vx.apply(this,arguments)}function vx(){return(vx=ln(function*(e,t){try{const r=(yield TM()).transaction(Gd,"readwrite");yield r.objectStore(Gd).put(t,NM(e)),yield r.done}catch(n){if(n instanceof jd)pa.warn(n.message);else{const r=Zr.create("idb-set",{originalErrorMessage:n?.message});pa.warn(r.message)}}})).apply(this,arguments)}function NM(e){return`${e.name}!${e.options.appId}`}class dz{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return ln(function*(){var n,r;const o=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=PM();if((null!=(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(r=t._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==a&&!t._heartbeatsCache.heartbeats.some(l=>l.date===a))return t._heartbeatsCache.heartbeats.push({date:a,agent:o}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return ln(function*(){var n;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(n=t._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const r=PM(),{heartbeatsToSend:i,unsentEntries:o}=function hz(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),RM(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RM(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),a=yg(JSON.stringify({version:2,heartbeats:i}));return t._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(t._heartbeatsCache.heartbeats=o,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),a})()}}function PM(){return(new Date).toISOString().substring(0,10)}class fz{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return ln(function*(){return!!function zU(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function $U(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return ln(function*(){if(yield t._canUseIndexedDBPromise){const r=yield function lz(e){return _x.apply(this,arguments)}(t.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var n=this;return ln(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return MM(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return ln(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return MM(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function RM(e){return yg(JSON.stringify({version:2,heartbeats:e})).length}!function pz(e){Ig(new zd("platform-logger",t=>new D9(t),"PRIVATE")),Ig(new zd("heartbeat",t=>new dz(t),"PRIVATE")),ma(bg,"0.10.5",e),ma(bg,"0.10.5","esm2017"),ma("fire-js","")}("");const OM="@firebase/database";let yx="";class gz{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Dn(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:Ud(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class mz{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return Co(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const LM=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new gz(t)}}catch{}return new mz},_a=LM("localStorage"),xx=LM("sessionStorage"),Tc=new xM("@firebase/database"),BM=function(){let e=1;return function(){return e++}}(),VM=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ve(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new QU;n.update(t);const r=n.digest();return rx.encodeByteArray(r)},Zd=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Zd.apply(null,r):t+="object"==typeof r?Dn(r):r,t+=" "}return t};let va=null,HM=!0;const Tn=function(...e){if(!0===HM&&(HM=!1,null===va&&!0===xx.get("logging_enabled")&&function(e,t){ve(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Tc.logLevel=Lt.VERBOSE,va=Tc.log.bind(Tc),t&&xx.set("logging_enabled",!0)):"function"==typeof e?va=e:(va=null,xx.remove("logging_enabled"))}(!0)),va){const t=Zd.apply(null,e);va(t)}},qd=function(e){return function(...t){Tn(e,...t)}},Cx=function(...e){const t="FIREBASE INTERNAL ERROR: "+Zd(...e);Tc.error(t)},Gi=function(...e){const t=`FIREBASE FATAL ERROR: ${Zd(...e)}`;throw Tc.error(t),new Error(t)},zn=function(...e){const t="FIREBASE WARNING: "+Zd(...e);Tc.warn(t)},Ag=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},rs="[MIN_NAME]",wo="[MAX_NAME]",ya=function(e,t){if(e===t)return 0;if(e===rs||t===wo)return-1;if(t===rs||e===wo)return 1;{const n=$M(e),r=$M(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},yz=function(e,t){return e===t?0:e<t?-1:1},Kd=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Dn(t))},wx=function(e){if("object"!=typeof e||null===e)return Dn(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Dn(t[r]),n+=":",n+=wx(e[t[r]]);return n+="}",n},UM=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function Mn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const zM=function(e){ve(!Ag(e),"Invalid JSON number");const r=1023;let i,o,a,l,u;0===e?(o=0,a=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=l+r,a=Math.round(e*Math.pow(2,52-l)-Math.pow(2,52))):(o=0,a=Math.round(e/Math.pow(2,-1074))));const h=[];for(u=52;u;u-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(u=11;u;u-=1)h.push(o%2?1:0),o=Math.floor(o/2);h.push(i?1:0),h.reverse();const p=h.join("");let g="";for(u=0;u<64;u+=8){let _=parseInt(p.substr(u,8),2).toString(16);1===_.length&&(_="0"+_),g+=_}return g.toLowerCase()},Ez=new RegExp("^-?(0*)\\d{1,10}$"),$M=function(e){if(Ez.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Mc=function(e){try{e()}catch(t){setTimeout(()=>{throw zn("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Yd=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Iz{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){zn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Az{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(Tn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zn(t)}}let Qd=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const KM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,XM="websocket",JM="long_polling";class Dx{constructor(t,n,r,i,o=!1,a="",l=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_a.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&_a.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function eN(e,t,n){let r;if(ve("string"==typeof t,"typeof type must == string"),ve("object"==typeof n,"typeof params must == object"),t===XM)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==JM)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function Tz(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Mn(n,(o,a)=>{i.push(o+"="+a)}),r+i.join("&")}class Mz{constructor(){this.counters_={}}incrementCounter(t,n=1){Co(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return PU(this.counters_)}}const bx={},Sx={};function Ix(e){const t=e.toString();return bx[t]||(bx[t]=new Mz),bx[t]}class Pz{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Mc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class is{constructor(t,n,r,i,o,a,l){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qd(t),this.stats_=Ix(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),eN(n,JM,u))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Pz(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ax((...o)=>{const[a,l,u,h,p]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=l,this.password=u;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[a,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&KM.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){is.forceAllow_=!0}static forceDisallow(){is.forceDisallow_=!0}static isAvailable(){return!(!is.forceAllow_&&(is.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Dn(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hM(n),i=UM(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Dn(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ax{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=BM(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ax.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Tn("frame writing exception"),l.stack&&Tn(l.stack),Tn(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Tn("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const a=this.pendingSegs.shift();r=r+"&seg"+i+"="+a.seg+"&ts"+i+"="+a.ts+"&d"+i+"="+a.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Tn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Mg=null;typeof MozWebSocket<"u"?Mg=MozWebSocket:typeof WebSocket<"u"&&(Mg=WebSocket);let Nc=(()=>{class e{constructor(n,r,i,o,a,l,u){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qd(this.connId),this.stats_=Ix(r),this.connURL=e.connectionURL_(r,l,u,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,a){const l={v:"5"};return typeof location<"u"&&location.hostname&&KM.test(location.hostname)&&(l.r="f"),r&&(l.s=r),i&&(l.ls=i),o&&(l.ac=o),a&&(l.p=a),eN(n,XM,l)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_a.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Mg(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Mg&&!e.forceDisallow_}static previouslyFailed(){return _a.isInMemoryStorage||!0===_a.get("previous_websocket_failure")}markConnectionHealthy(){_a.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Ud(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(ve(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Dn(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=UM(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),aN=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[is,Nc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Nc&&Nc.isAvailable();let i=r&&!Nc.previouslyFailed();if(n.webSocketOnly&&(r||zn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Nc];else{const o=this.transports_=[];for(const a of e.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class pN{constructor(t,n,r,i,o,a,l,u,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qd("c:"+this.id+":"),this.transportManager_=new aN(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Kd("t",t),r=Kd("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Kd("t",t),r=Kd("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Kd("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Cx("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cx("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&zn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Yd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_a.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gN{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class mN{constructor(t){this.allowedEvents_=t,this.listeners_={},ve(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){ve(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Ng extends mN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!gM()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ng}getInitialEvent(t){return ve("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class vt{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function ht(){return new vt("")}function rt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function os(e){return e.pieces_.length-e.pieceNum_}function Tt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new vt(e.pieces_,t)}function Mx(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Xd(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function yN(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new vt(t,0)}function Wt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof vt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new vt(n,0)}function it(e){return e.pieceNum_>=e.pieces_.length}function rr(e,t){const n=rt(e),r=rt(t);if(null===n)return t;if(n===r)return rr(Tt(e),Tt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Nx(e,t){if(os(e)!==os(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function qr(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(os(e)>os(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class t${constructor(t,n){this.errorPrefix_=n,this.parts_=Xd(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Dg(this.parts_[r]);xN(this)}}function xN(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xa(e))}function xa(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Px extends mN{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Px}getInitialEvent(t){return ve("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Jd=1e3;let Rg,Ca=(()=>{class e extends gN{constructor(n,r,i,o,a,l,u,h){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=h,this.id=e.nextPersistentConnectionId_++,this.log_=qd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Px.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Ng.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,a={r:o,a:n,b:r};this.log_(Dn(a)),ve(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new Hd,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:l=>{const u=l.d;"ok"===l.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),ve(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ve(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const u={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const a={p:i};n.tag&&(a.q=r._queryObject,a.t=n.tag),a.h=n.hashFn(),this.sendRequest("q",a,u=>{const h=u.d,p=u.s;e.warnOnListenWarnings_(h,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",u),"ok"!==p&&this.removeListen_(i,o),n.onComplete&&n.onComplete(p,h))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Co(n,"w")){const i=Sc(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();zn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=wg(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=wg(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const a=o.s,l=o.d||"error";this.authToken_===n&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),ve(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const a={p:n};o&&(a.q=i,a.t=o),this.sendRequest("n",a)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,l=>{o&&setTimeout(()=>{o(l.s,l.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,a){this.initConnection_();const l={p:r,d:i};void 0!==a&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Dn(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Cx("Unrecognized action received from server: "+Dn(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){ve(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jd,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Jd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Jd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return ln(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),a=n.id+":"+e.nextConnectionId_++,l=n.lastSessionId;let u=!1,h=null;const p=function(){h?h.close():(u=!0,o())};n.realtime_={close:p,sendRequest:function(y){ve(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)}};const _=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[y,D]=yield Promise.all([n.authTokenProvider_.getToken(_),n.appCheckTokenProvider_.getToken(_)]);u?Tn("getToken() completed but was canceled"):(Tn("getToken() completed. Creating connection."),n.authToken_=y&&y.accessToken,n.appCheckToken_=D&&D.token,h=new pN(a,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,O=>{zn(O+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},l))}catch(y){n.log_("Failed to get token: "+y),u||(n.repoInfo_.nodeAdmin&&zn(y),p())}}})()}interrupt(n){Tn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Tn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],_M(this.interruptReasons_)&&(this.reconnectDelay_=Jd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(a=>wx(a)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new vt(n).toString();let o;if(this.listens.has(i)){const a=this.listens.get(i);o=a.get(r),a.delete(r),0===a.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Tn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Tn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+yx.replace(/\./g,"-")]=1,gM()?n["framework.cordova"]=1:function UU(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Ng.getInstance().currentlyOnline();return _M(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class ot{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new ot(t,n)}}class Pg{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new ot(rs,t),i=new ot(rs,n);return 0!==this.compare(r,i)}minPost(){return ot.MIN}}class EN extends Pg{static get __EMPTY_NODE(){return Rg}static set __EMPTY_NODE(t){Rg=t}compare(t,n){return ya(t.name,n.name)}isDefinedOn(t){throw bc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return ot.MIN}maxPost(){return new ot(wo,Rg)}makePost(t,n){return ve("string"==typeof t,"KeyIndex indexValue must always be a string."),new ot(t,Rg)}toString(){return".key"}}const Zi=new EN;class Og{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Ox,ui=(()=>{class e{constructor(n,r,i,o,a){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??gr.EMPTY_NODE,this.right=a??gr.EMPTY_NODE}copy(n,r,i,o,a){return new e(n??this.key,r??this.value,i??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const a=i(n,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===a?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return gr.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return gr.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class gr{constructor(t,n=gr.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new gr(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ui.BLACK,null,null))}remove(t){return new gr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ui.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Og(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Og(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Og(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Og(this.root_,null,this.comparator_,!0,t)}}function c$(e,t){return ya(e.name,t.name)}function Rx(e,t){return ya(e,t)}gr.EMPTY_NODE=new class l${copy(t,n,r,i,o){return this}insert(t,n,r){return new ui(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const DN=function(e){return"number"==typeof e?"number:"+zM(e):"string:"+e},bN=function(e){if(e.isLeafNode()){const t=e.val();ve("string"==typeof t||"number"==typeof t||"object"==typeof t&&Co(t,".sv"),"Priority must be a string or number.")}else ve(e===Ox||e.isEmpty(),"priority of unexpected type.");ve(e===Ox||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let SN,IN,AN,Pc=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,ve(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),bN(this.priorityNode_)}static set __childrenNodeConstructor(n){SN=n}static get __childrenNodeConstructor(){return SN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return it(n)?this:".priority"===rt(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=rt(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(ve(".priority"!==i||1===os(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tt(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+DN(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?zM(this.value_):this.value_,this.lazyHash_=VM(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(ve(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),a=e.VALUE_TYPE_ORDER.indexOf(i);return ve(o>=0,"Unknown leaf type: "+r),ve(a>=0,"Unknown leaf type: "+i),o===a?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Bt=new class f$ extends Pg{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?ya(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return ot.MIN}maxPost(){return new ot(wo,new Pc("[PRIORITY-POST]",AN))}makePost(t,n){const r=IN(t);return new ot(n,new Pc("[PRIORITY-POST]",r))}toString(){return".priority"}},p$=Math.log(2);class g${constructor(t){this.count=parseInt(Math.log(t+1)/p$,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Fg=function(e,t,n,r){e.sort(t);const i=function(u,h){const p=h-u;let g,_;if(0===p)return null;if(1===p)return g=e[u],_=n?n(g):g,new ui(_,g.node,ui.BLACK,null,null);{const y=parseInt(p/2,10)+u,D=i(u,y),O=i(y+1,h);return g=e[y],_=n?n(g):g,new ui(_,g.node,ui.BLACK,D,O)}},l=function(u){let h=null,p=null,g=e.length;const _=function(D,O){const z=g-D,te=g;g-=D;const K=i(z+1,te),xe=e[z],Le=n?n(xe):xe;y(new ui(Le,xe.node,O,null,K))},y=function(D){h?(h.left=D,h=D):(p=D,h=D)};for(let D=0;D<u.count;++D){const O=u.nextBitIsOne(),z=Math.pow(2,u.count-(D+1));O?_(z,ui.BLACK):(_(z,ui.BLACK),_(z,ui.RED))}return p}(new g$(e.length));return new gr(r||t,l)};let Fx;const Rc={};class Eo{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return ve(Rc&&Bt,"ChildrenNode.ts has not been loaded"),Fx=Fx||new Eo({".priority":Rc},{".priority":Bt}),Fx}get(t){const n=Sc(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof gr?n:null}hasIndex(t){return Co(this.indexSet_,t.toString())}addIndex(t,n){ve(t!==Zi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(ot.Wrap);let l,a=o.getNext();for(;a;)i=i||t.isDefinedOn(a.node),r.push(a),a=o.getNext();l=i?Fg(r,t.getCompare()):Rc;const u=t.toString(),h=Object.assign({},this.indexSet_);h[u]=t;const p=Object.assign({},this.indexes_);return p[u]=l,new Eo(p,h)}addToIndexes(t,n){const r=Eg(this.indexes_,(i,o)=>{const a=Sc(this.indexSet_,o);if(ve(a,"Missing index implementation for "+o),i===Rc){if(a.isDefinedOn(t.node)){const l=[],u=n.getIterator(ot.Wrap);let h=u.getNext();for(;h;)h.name!==t.name&&l.push(h),h=u.getNext();return l.push(t),Fg(l,a.getCompare())}return Rc}{const l=n.get(t.name);let u=i;return l&&(u=u.remove(new ot(t.name,l))),u.insert(t,t.node)}});return new Eo(r,this.indexSet_)}removeFromIndexes(t,n){const r=Eg(this.indexes_,i=>{if(i===Rc)return i;{const o=n.get(t.name);return o?i.remove(new ot(t.name,o)):i}});return new Eo(r,this.indexSet_)}}let eh,qe=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&bN(this.priorityNode_),this.children_.isEmpty()&&ve(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eh||(eh=new e(new gr(Rx),null,Eo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eh}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?eh:r}}getChild(n){const r=rt(n);return null===r?this:this.getImmediateChild(r).getChild(Tt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(ve(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new ot(n,r);let o,a;r.isEmpty()?(o=this.children_.remove(n),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),a=this.indexMap_.addToIndexes(i,this.children_));const l=o.isEmpty()?eh:this.priorityNode_;return new e(o,l,a)}}updateChild(n,r){const i=rt(n);if(null===i)return r;{ve(".priority"!==rt(n)||1===os(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Tt(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,a=!0;if(this.forEachChild(Bt,(l,u)=>{r[l]=u.val(n),i++,a&&e.INTEGER_REGEXP_.test(l)?o=Math.max(o,Number(l)):a=!1}),!n&&a&&o<2*i){const l=[];for(const u in r)l[u]=r[u];return l}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+DN(this.getPriority().val())+":"),this.forEachChild(Bt,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":VM(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const a=o.getPredecessorKey(new ot(n,r));return a?a.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new ot(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new ot(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ot.Wrap);let a=o.peek();for(;null!=a&&r.compare(a,n)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ot.Wrap);let a=o.peek();for(;null!=a&&r.compare(a,n)>0;)o.getNext(),a=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===th?-1:0}withIndex(n){if(n===Zi||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Zi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Bt),o=r.getIterator(Bt);let a=i.getNext(),l=o.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=i.getNext(),l=o.getNext()}return null===a&&null===l}return!1}return!1}}resolveIndex_(n){return n===Zi?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const th=new class m$ extends qe{constructor(){super(new gr(Rx),qe.EMPTY_NODE,Eo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return qe.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ot,{MIN:{value:new ot(rs,qe.EMPTY_NODE)},MAX:{value:new ot(wo,th)}}),EN.__EMPTY_NODE=qe.EMPTY_NODE,Pc.__childrenNodeConstructor=qe,function u$(e){Ox=e}(th),function h$(e){AN=e}(th);const _$=!0;function Xt(e,t=null){if(null===e)return qe.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),ve(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Pc(e,Xt(t));if(e instanceof Array||!_$){let n=qe.EMPTY_NODE;return Mn(e,(r,i)=>{if(Co(e,r)&&"."!==r.substring(0,1)){const o=Xt(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Xt(t))}{const n=[];let r=!1;if(Mn(e,(a,l)=>{if("."!==a.substring(0,1)){const u=Xt(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new ot(a,u)))}}),0===n.length)return qe.EMPTY_NODE;const o=Fg(n,c$,a=>a.name,Rx);if(r){const a=Fg(n,Bt.getCompare());return new qe(o,Xt(t),new Eo({".priority":a},{".priority":Bt}))}return new qe(o,Xt(t),Eo.Default)}}!function d$(e){IN=e}(Xt);class kx extends Pg{constructor(t){super(),this.indexPath_=t,ve(!it(t)&&".priority"!==rt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?ya(t.name,n.name):o}makePost(t,n){const r=Xt(t),i=qe.EMPTY_NODE.updateChild(this.indexPath_,r);return new ot(n,i)}maxPost(){const t=qe.EMPTY_NODE.updateChild(this.indexPath_,th);return new ot(wo,t)}toString(){return Xd(this.indexPath_,0).join("/")}}const Lx=new class v$ extends Pg{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?ya(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return ot.MIN}maxPost(){return ot.MAX}makePost(t,n){const r=Xt(t);return new ot(n,r)}toString(){return".value"}};function TN(e){return{type:"value",snapshotNode:e}}function Oc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function nh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function rh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Bx{constructor(t){this.index_=t}updateChild(t,n,r,i,o,a){ve(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(null!=a&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(nh(n,l)):ve(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(Oc(n,r)):a.trackChildChange(rh(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Bt,(i,o)=>{n.hasChild(i)||r.trackChildChange(nh(i,o))}),n.isLeafNode()||n.forEachChild(Bt,(i,o)=>{if(t.hasChild(i)){const a=t.getImmediateChild(i);a.equals(o)||r.trackChildChange(rh(i,o,a))}else r.trackChildChange(Oc(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?qe.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ih{constructor(t){this.indexedFilter_=new Bx(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ih.getStartPost_(t),this.endPost_=ih.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,a){return this.matches(new ot(n,r))||(r=qe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,a)}updateFullNode(t,n,r){n.isLeafNode()&&(n=qe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(qe.EMPTY_NODE);const o=this;return n.forEachChild(Bt,(a,l)=>{o.matches(new ot(a,l))||(i=i.updateImmediateChild(a,qe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class x${constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ih(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,a){return this.rangedFilter_.matches(new ot(n,r))||(r=qe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,a):this.fullLimitUpdateChild_(t,n,r,o,a)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=qe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=qe.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l)){if(!this.withinDirectionalEnd(l))break;i=i.updateImmediateChild(l.name,l.node),a++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(qe.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let a=0;for(;o.hasNext();){const l=o.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:i=i.updateImmediateChild(l.name,qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let a;if(this.reverse_){const g=this.index_.getCompare();a=(_,y)=>g(y,_)}else a=this.index_.getCompare();const l=t;ve(l.numChildren()===this.limit_,"");const u=new ot(n,r),h=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),p=this.rangedFilter_.matches(u);if(l.hasChild(n)){const g=l.getImmediateChild(n);let _=i.getChildAfterChild(this.index_,h,this.reverse_);for(;null!=_&&(_.name===n||l.hasChild(_.name));)_=i.getChildAfterChild(this.index_,_,this.reverse_);const y=null==_?1:a(_,u);if(p&&!r.isEmpty()&&y>=0)return o?.trackChildChange(rh(n,r,g)),l.updateImmediateChild(n,r);{o?.trackChildChange(nh(n,g));const O=l.updateImmediateChild(n,qe.EMPTY_NODE);return null!=_&&this.rangedFilter_.matches(_)?(o?.trackChildChange(Oc(_.name,_.node)),O.updateImmediateChild(_.name,_.node)):O}}return r.isEmpty()?t:p&&a(h,u)>=0?(null!=o&&(o.trackChildChange(nh(h.name,h.node)),o.trackChildChange(Oc(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(h.name,qe.EMPTY_NODE)):t}}class Vx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Bt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ve(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ve(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rs}hasEnd(){return this.endSet_}getIndexEndValue(){return ve(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ve(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ve(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Bt}copy(){const t=new Vx;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function MN(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Bt?n="$priority":e.index_===Lx?n="$value":e.index_===Zi?n="$key":(ve(e.index_ instanceof kx,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Dn(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Dn(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Dn(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Dn(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Dn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function NN(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Bt&&(t.i=e.index_.toString()),t}class Lg extends gN{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=qd("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(ve(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const a=Lg.getListenId_(t,r),l={};this.listens_[a]=l;const u=MN(t._queryParams);this.restRequest_(o+".json",u,(h,p)=>{let g=p;if(404===h&&(g=null,h=null),null===h&&this.onDataUpdate_(o,g,!1,r),Sc(this.listens_,a)===l){let _;_=h?401===h?"permission_denied":"rest_error:"+h:"ok",i(_,null)}})}unlisten(t,n){const r=Lg.getListenId_(t,n);delete this.listens_[r]}get(t){const n=MN(t._queryParams),r=t._path.toString(),i=new Hd;return this.restRequest_(r+".json",n,(o,a)=>{let l=a;404===o&&(l=null,o=null),null===o?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+function YU(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&4===l.readyState){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=Ud(l.responseText)}catch{zn("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,u)}else 401!==l.status&&404!==l.status&&zn("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}class S${constructor(){this.rootNode_=qe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function Bg(){return{value:null,children:new Map}}function Fc(e,t,n){if(it(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=rt(t);e.children.has(r)||e.children.set(r,Bg()),Fc(e.children.get(r),t=Tt(t),n)}}function zx(e,t,n){null!==e.value?n(t,e.value):function I$(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{zx(i,new vt(t.toString()+"/"+r),n)})}class A${constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Mn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class N${constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new A$(t);const r=1e4+2e4*Math.random();Yd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Mn(t,(i,o)=>{o>0&&Co(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Yd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var qi=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(qi||{});function Gx(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Vg{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=qi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(it(this.path)){if(null!=this.affectedTree.value)return ve(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new vt(t));return new Vg(ht(),n,this.revert)}}return ve(rt(this.path)===t,"operationForChild called for unrelated child."),new Vg(Tt(this.path),this.affectedTree,this.revert)}}class oh{constructor(t,n){this.source=t,this.path=n,this.type=qi.LISTEN_COMPLETE}operationForChild(t){return it(this.path)?new oh(this.source,ht()):new oh(this.source,Tt(this.path))}}class wa{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=qi.OVERWRITE}operationForChild(t){return it(this.path)?new wa(this.source,ht(),this.snap.getImmediateChild(t)):new wa(this.source,Tt(this.path),this.snap)}}class kc{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=qi.MERGE}operationForChild(t){if(it(this.path)){const n=this.children.subtree(new vt(t));return n.isEmpty()?null:n.value?new wa(this.source,ht(),n.value):new kc(this.source,ht(),n)}return ve(rt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new kc(this.source,Tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ss{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(it(t))return this.isFullyInitialized()&&!this.filtered_;const n=rt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class P${constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function sh(e,t,n,r,i,o){const a=r.filter(l=>l.type===n);a.sort((l,u)=>function F$(e,t,n){if(null==t.childName||null==n.childName)throw bc("Should only compare child_ events.");const r=new ot(t.childName,t.snapshotNode),i=new ot(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,l,u)),a.forEach(l=>{const u=function O$(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,l,o);i.forEach(h=>{h.respondsTo(l.type)&&t.push(h.createEvent(u,e.query_))})})}function Hg(e,t){return{eventCache:e,serverCache:t}}function ah(e,t,n,r){return Hg(new ss(t,n,r),e.serverCache)}function RN(e,t,n,r){return Hg(e.eventCache,new ss(t,n,r))}function jg(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ea(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Zx;class Vt{constructor(t,n=(()=>(Zx||(Zx=new gr(yz)),Zx))()){this.value=t,this.children=n}static fromObject(t){let n=new Vt(null);return Mn(t,(r,i)=>{n=n.set(new vt(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:ht(),value:this.value};if(it(t))return null;{const r=rt(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Tt(t),n);return null!=o?{path:Wt(new vt(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(it(t))return this;{const n=rt(t),r=this.children.get(n);return null!==r?r.subtree(Tt(t)):new Vt(null)}}set(t,n){if(it(t))return new Vt(n,this.children);{const r=rt(t),o=(this.children.get(r)||new Vt(null)).set(Tt(t),n),a=this.children.insert(r,o);return new Vt(this.value,a)}}remove(t){if(it(t))return this.children.isEmpty()?new Vt(null):new Vt(null,this.children);{const n=rt(t),r=this.children.get(n);if(r){const i=r.remove(Tt(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Vt(null):new Vt(this.value,o)}return this}}get(t){if(it(t))return this.value;{const n=rt(t),r=this.children.get(n);return r?r.get(Tt(t)):null}}setTree(t,n){if(it(t))return n;{const r=rt(t),o=(this.children.get(r)||new Vt(null)).setTree(Tt(t),n);let a;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Vt(this.value,a)}}fold(t){return this.fold_(ht(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Wt(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ht(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(it(t))return null;{const o=rt(t),a=this.children.get(o);return a?a.findOnPath_(Tt(t),Wt(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ht(),n)}foreachOnPath_(t,n,r){if(it(t))return this;{this.value&&r(n,this.value);const i=rt(t),o=this.children.get(i);return o?o.foreachOnPath_(Tt(t),Wt(n,i),r):new Vt(null)}}foreach(t){this.foreach_(ht(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Wt(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class di{constructor(t){this.writeTree_=t}static empty(){return new di(new Vt(null))}}function lh(e,t,n){if(it(t))return new di(new Vt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=rr(i,t);return o=o.updateChild(a,n),new di(e.writeTree_.set(i,o))}{const i=new Vt(n),o=e.writeTree_.setTree(t,i);return new di(o)}}}function qx(e,t,n){let r=e;return Mn(n,(i,o)=>{r=lh(r,Wt(t,i),o)}),r}function ON(e,t){if(it(t))return di.empty();{const n=e.writeTree_.setTree(t,new Vt(null));return new di(n)}}function Kx(e,t){return null!=Da(e,t)}function Da(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(rr(n.path,t)):null}function FN(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Bt,(r,i)=>{t.push(new ot(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new ot(r,i.value))}),t}function as(e,t){if(it(t))return e;{const n=Da(e,t);return new di(null!=n?new Vt(n):e.writeTree_.subtree(t))}}function Yx(e){return e.writeTree_.isEmpty()}function Lc(e,t){return kN(ht(),e.writeTree_,t)}function kN(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(ve(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=kN(Wt(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(Wt(e,".priority"),r)),n}}function Ug(e,t){return jN(t,e)}function j$(e,t){if(e.snap)return qr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&qr(Wt(e.path,n),t))return!0;return!1}function z$(e){return e.visible}function LN(e,t,n){let r=di.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const a=o.path;let l;if(o.snap)qr(n,a)?(l=rr(n,a),r=lh(r,l,o.snap)):qr(a,n)&&(l=rr(a,n),r=lh(r,ht(),o.snap.getChild(l)));else{if(!o.children)throw bc("WriteRecord should have .snap or .children");if(qr(n,a))l=rr(n,a),r=qx(r,l,o.children);else if(qr(a,n))if(l=rr(a,n),it(l))r=qx(r,ht(),o.children);else{const u=Sc(o.children,rt(l));if(u){const h=u.getChild(Tt(l));r=lh(r,ht(),h)}}}}}return r}function BN(e,t,n,r,i){if(r||i){const o=as(e.visibleWrites,t);return!i&&Yx(o)?n:i||null!=n||Kx(o,ht())?Lc(LN(e.allWrites,function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(qr(h.path,t)||qr(t,h.path))},t),n||qe.EMPTY_NODE):null}{const o=Da(e.visibleWrites,t);if(null!=o)return o;{const a=as(e.visibleWrites,t);return Yx(a)?n:null!=n||Kx(a,ht())?Lc(a,n||qe.EMPTY_NODE):null}}}function zg(e,t,n,r){return BN(e.writeTree,e.treePath,t,n,r)}function Qx(e,t){return function $$(e,t,n){let r=qe.EMPTY_NODE;const i=Da(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Bt,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(n){const o=as(e.visibleWrites,t);return n.forEachChild(Bt,(a,l)=>{const u=Lc(as(o,new vt(a)),l);r=r.updateImmediateChild(a,u)}),FN(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}return FN(as(e.visibleWrites,t)).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}(e.writeTree,e.treePath,t)}function VN(e,t,n,r){return function W$(e,t,n,r,i){ve(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Wt(t,n);if(Kx(e.visibleWrites,o))return null;{const a=as(e.visibleWrites,o);return Yx(a)?i.getChild(n):Lc(a,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function $g(e,t){return function Z$(e,t){return Da(e.visibleWrites,t)}(e.writeTree,Wt(e.treePath,t))}function Xx(e,t,n){return function G$(e,t,n,r){const i=Wt(t,n),o=Da(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Lc(as(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function HN(e,t){return jN(Wt(e.treePath,t),e.writeTree)}function jN(e,t){return{treePath:e,writeTree:t}}class Q${constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;ve("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),ve(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,rh(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,nh(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,Oc(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw bc("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,rh(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const UN=new class X${getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class Jx{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xx(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ea(this.viewCache_),o=function Y$(e,t,n,r,i,o){return function q$(e,t,n,r,i,o,a){let l;const u=as(e.visibleWrites,t),h=Da(u,ht());if(null!=h)l=h;else{if(null==n)return[];l=Lc(u,n)}if(l=l.withIndex(a),l.isEmpty()||l.isLeafNode())return[];{const p=[],g=a.getCompare(),_=o?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let y=_.getNext();for(;y&&p.length<i;)0!==g(y,r)&&p.push(y),y=_.getNext();return p}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function zN(e,t,n,r,i,o){const a=t.eventCache;if(null!=$g(r,n))return t;{let l,u;if(it(n))if(ve(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const h=Ea(t),g=Qx(r,h instanceof qe?h:qe.EMPTY_NODE);l=e.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const h=zg(r,Ea(t));l=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{const h=rt(n);if(".priority"===h){ve(1===os(n),"Can't have a priority with additional path components");const p=a.getNode();u=t.serverCache.getNode();const g=VN(r,n,p,u);l=null!=g?e.filter.updatePriority(p,g):a.getNode()}else{const p=Tt(n);let g;if(a.isCompleteForChild(h)){u=t.serverCache.getNode();const _=VN(r,n,a.getNode(),u);g=null!=_?a.getNode().getImmediateChild(h).updateChild(p,_):a.getNode().getImmediateChild(h)}else g=Xx(r,h,t.serverCache);l=null!=g?e.filter.updateChild(a.getNode(),h,g,p,i,o):a.getNode()}}return ah(t,l,a.isFullyInitialized()||it(n),e.filter.filtersNodes())}}function Wg(e,t,n,r,i,o,a,l){const u=t.serverCache;let h;const p=a?e.filter:e.filter.getIndexedFilter();if(it(n))h=p.updateFullNode(u.getNode(),r,null);else if(p.filtersNodes()&&!u.isFiltered()){const y=u.getNode().updateChild(n,r);h=p.updateFullNode(u.getNode(),y,null)}else{const y=rt(n);if(!u.isCompleteForPath(n)&&os(n)>1)return t;const D=Tt(n),z=u.getNode().getImmediateChild(y).updateChild(D,r);h=".priority"===y?p.updatePriority(u.getNode(),z):p.updateChild(u.getNode(),y,z,D,UN,null)}const g=RN(t,h,u.isFullyInitialized()||it(n),p.filtersNodes());return zN(e,g,n,i,new Jx(i,g,o),l)}function eC(e,t,n,r,i,o,a){const l=t.eventCache;let u,h;const p=new Jx(i,t,o);if(it(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),u=ah(t,h,!0,e.filter.filtersNodes());else{const g=rt(n);if(".priority"===g)h=e.filter.updatePriority(t.eventCache.getNode(),r),u=ah(t,h,l.isFullyInitialized(),l.isFiltered());else{const _=Tt(n),y=l.getNode().getImmediateChild(g);let D;if(it(_))D=r;else{const O=p.getCompleteChild(g);D=null!=O?".priority"===Mx(_)&&O.getChild(yN(_)).isEmpty()?O:O.updateChild(_,r):qe.EMPTY_NODE}u=y.equals(D)?t:ah(t,e.filter.updateChild(l.getNode(),g,D,_,p,a),l.isFullyInitialized(),e.filter.filtersNodes())}}return u}function $N(e,t){return e.eventCache.isCompleteForChild(t)}function WN(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function tC(e,t,n,r,i,o,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let h,u=t;h=it(n)?r:new Vt(null).setTree(n,r);const p=t.serverCache.getNode();return h.children.inorderTraversal((g,_)=>{if(p.hasChild(g)){const D=WN(0,t.serverCache.getNode().getImmediateChild(g),_);u=Wg(e,u,new vt(g),D,i,o,a,l)}}),h.children.inorderTraversal((g,_)=>{const y=!t.serverCache.isCompleteForChild(g)&&null===_.value;if(!p.hasChild(g)&&!y){const O=WN(0,t.serverCache.getNode().getImmediateChild(g),_);u=Wg(e,u,new vt(g),O,i,o,a,l)}}),u}class aW{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Bx(r.getIndex()),o=function C$(e){return e.loadsAllData()?new Bx(e.getIndex()):e.hasLimit()?new x$(e):new ih(e)}(r);this.processor_=function J$(e){return{filter:e}}(o);const a=n.serverCache,l=n.eventCache,u=i.updateFullNode(qe.EMPTY_NODE,a.getNode(),null),h=o.updateFullNode(qe.EMPTY_NODE,l.getNode(),null),p=new ss(u,a.isFullyInitialized(),i.filtersNodes()),g=new ss(h,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=Hg(g,p),this.eventGenerator_=new P$(this.query_)}get query(){return this.query_}}function uW(e,t){const n=Ea(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!it(t)&&!n.getImmediateChild(rt(t)).isEmpty())?n.getChild(t):null}function GN(e){return 0===e.eventRegistrations_.length}function ZN(e,t,n){const r=[];if(n){ve(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(n,i);a&&r.push(a)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const a=e.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}else i.push(a)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function qN(e,t,n,r){t.type===qi.MERGE&&null!==t.source.queryId&&(ve(Ea(e.viewCache_),"We should always have a full cache before handling merges"),ve(jg(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function tW(e,t,n,r,i){const o=new Q$;let a,l;if(n.type===qi.OVERWRITE){const h=n;h.source.fromUser?a=eC(e,t,h.path,h.snap,r,i,o):(ve(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered()&&!it(h.path),a=Wg(e,t,h.path,h.snap,r,i,l,o))}else if(n.type===qi.MERGE){const h=n;h.source.fromUser?a=function rW(e,t,n,r,i,o,a){let l=t;return r.foreach((u,h)=>{const p=Wt(n,u);$N(t,rt(p))&&(l=eC(e,l,p,h,i,o,a))}),r.foreach((u,h)=>{const p=Wt(n,u);$N(t,rt(p))||(l=eC(e,l,p,h,i,o,a))}),l}(e,t,h.path,h.children,r,i,o):(ve(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=tC(e,t,h.path,h.children,r,i,l,o))}else if(n.type===qi.ACK_USER_WRITE){const h=n;a=h.revert?function sW(e,t,n,r,i,o){let a;if(null!=$g(r,n))return t;{const l=new Jx(r,t,i),u=t.eventCache.getNode();let h;if(it(n)||".priority"===rt(n)){let p;if(t.serverCache.isFullyInitialized())p=zg(r,Ea(t));else{const g=t.serverCache.getNode();ve(g instanceof qe,"serverChildren would be complete if leaf node"),p=Qx(r,g)}h=e.filter.updateFullNode(u,p,o)}else{const p=rt(n);let g=Xx(r,p,t.serverCache);null==g&&t.serverCache.isCompleteForChild(p)&&(g=u.getImmediateChild(p)),h=null!=g?e.filter.updateChild(u,p,g,Tt(n),l,o):t.eventCache.getNode().hasChild(p)?e.filter.updateChild(u,p,qe.EMPTY_NODE,Tt(n),l,o):u,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=zg(r,Ea(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=$g(r,ht()),ah(t,h,a,e.filter.filtersNodes())}}(e,t,h.path,r,i,o):function iW(e,t,n,r,i,o,a){if(null!=$g(i,n))return t;const l=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(it(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Wg(e,t,n,u.getNode().getChild(n),i,o,l,a);if(it(n)){let h=new Vt(null);return u.getNode().forEachChild(Zi,(p,g)=>{h=h.set(new vt(p),g)}),tC(e,t,n,h,i,o,l,a)}return t}{let h=new Vt(null);return r.foreach((p,g)=>{const _=Wt(n,p);u.isCompleteForPath(_)&&(h=h.set(p,u.getNode().getChild(_)))}),tC(e,t,n,h,i,o,l,a)}}(e,t,h.path,h.affectedTree,r,i,o)}else{if(n.type!==qi.LISTEN_COMPLETE)throw bc("Unknown operation type: "+n.type);a=function oW(e,t,n,r,i){const o=t.serverCache;return zN(e,RN(t,o.getNode(),o.isFullyInitialized()||it(n),o.isFiltered()),n,r,UN,i)}(e,t,n.path,r,o)}const u=o.getChanges();return function nW(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=jg(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(TN(jg(t)))}}(t,a,u),{viewCache:a,changes:u}}(e.processor_,i,t,n,r);return function eW(e,t){ve(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ve(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),ve(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,KN(e,o.changes,o.viewCache.eventCache.getNode(),null)}function KN(e,t,n,r){return function R$(e,t,n,r){const i=[],o=[];return t.forEach(a=>{"child_changed"===a.type&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(function y$(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(a.childName,a.snapshotNode))}),sh(e,i,"child_removed",t,r,n),sh(e,i,"child_added",t,r,n),sh(e,i,"child_moved",o,r,n),sh(e,i,"child_changed",t,r,n),sh(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let Gg,qg;class YN{constructor(){this.views=new Map}}function nC(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return ve(null!=o,"SyncTree gave us an op for an invalid query."),qN(o,t,n,r)}{let o=[];for(const a of e.views.values())o=o.concat(qN(a,t,n,r));return o}}function QN(e,t,n,r,i){const a=e.views.get(t._queryIdentifier);if(!a){let l=zg(n,i?r:null),u=!1;l?u=!0:r instanceof qe?(l=Qx(n,r),u=!1):(l=qe.EMPTY_NODE,u=!1);const h=Hg(new ss(l,u,!1),new ss(r,i,!1));return new aW(t,h)}return a}function XN(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ls(e,t){let n=null;for(const r of e.views.values())n=n||uW(r,t);return n}function JN(e,t){return t._queryParams.loadsAllData()?Zg(e):e.views.get(t._queryIdentifier)}function eP(e,t){return null!=JN(e,t)}function cs(e){return null!=Zg(e)}function Zg(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let xW=1;class tP{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Vt(null),this.pendingWriteTree_=function K$(){return{visibleWrites:di.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rC(e,t,n,r,i){return function L$(e,t,n,r,i){ve(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=lh(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Bc(e,new wa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function us(e,t,n=!1){const r=function V$(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function H$(e,t){const n=e.allWrites.findIndex(l=>l.writeId===t);ve(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const l=e.allWrites[a];l.visible&&(a>=n&&j$(l,r.path)?i=!1:qr(r.path,l.path)&&(o=!0)),a--}return!!i&&(o?(function U$(e){e.visibleWrites=LN(e.allWrites,z$,ht()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=ON(e.visibleWrites,r.path):Mn(r.children,u=>{e.visibleWrites=ON(e.visibleWrites,Wt(r.path,u))}),!0))}(e.pendingWriteTree_,t)){let o=new Vt(null);return null!=r.snap?o=o.set(ht(),!0):Mn(r.children,a=>{o=o.set(new vt(a),!0)}),Bc(e,new Vg(r.path,o,n))}return[]}function ch(e,t,n){return Bc(e,new wa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Kg(e,t,n,r,i=!1){const o=t._path,a=e.syncPointTree_.get(o);let l=[];if(a&&("default"===t._queryIdentifier||eP(a,t))){const u=function _W(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const l=cs(e);if("default"===i)for(const[u,h]of e.views.entries())a=a.concat(ZN(h,n,r)),GN(h)&&(e.views.delete(u),h.query._queryParams.loadsAllData()||o.push(h.query));else{const u=e.views.get(i);u&&(a=a.concat(ZN(u,n,r)),GN(u)&&(e.views.delete(i),u.query._queryParams.loadsAllData()||o.push(u.query)))}return l&&!cs(e)&&o.push(new(function pW(){return ve(Gg,"Reference.ts has not been loaded"),Gg}())(t._repo,t._path)),{removed:o,events:a}}(a,t,n,r);(function gW(e){return 0===e.views.size})(a)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const h=u.removed;if(l=u.events,!i){const p=-1!==h.findIndex(_=>_._queryParams.loadsAllData()),g=e.syncPointTree_.findOnPath(o,(_,y)=>cs(y));if(p&&!g){const _=e.syncPointTree_.subtree(o);if(!_.isEmpty()){const y=function IW(e){return e.fold((t,n,r)=>{if(n&&cs(n))return[Zg(n)];{let i=[];return n&&(i=XN(n)),Mn(r,(o,a)=>{i=i.concat(a)}),i}})}(_);for(let D=0;D<y.length;++D){const O=y[D],z=O.query,te=oP(e,O);e.listenProvider_.startListening(dh(z),uh(e,z),te.hashFn,te.onComplete)}}}!g&&h.length>0&&!r&&(p?e.listenProvider_.stopListening(dh(t),null):h.forEach(_=>{const y=e.queryToTagMap.get(Qg(_));e.listenProvider_.stopListening(dh(_),y)}))}!function AW(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Qg(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,h)}return l}function nP(e,t,n,r){const i=oC(e,r);if(null!=i){const o=sC(i),a=o.path,l=o.queryId,u=rr(a,t);return aC(e,a,new wa(Gx(l),u,n))}return[]}function iC(e,t,n,r=!1){const i=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(i,(_,y)=>{const D=rr(_,i);o=o||ls(y,D),a=a||cs(y)});let u,l=e.syncPointTree_.get(i);l?(a=a||cs(l),o=o||ls(l,ht())):(l=new YN,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o?u=!0:(u=!1,o=qe.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((y,D)=>{const O=ls(D,ht());O&&(o=o.updateImmediateChild(y,O))}));const h=eP(l,t);if(!h&&!t._queryParams.loadsAllData()){const _=Qg(t);ve(!e.queryToTagMap.has(_),"View does not exist, but we have a tag");const y=function TW(){return xW++}();e.queryToTagMap.set(_,y),e.tagToQueryMap.set(y,_)}let g=function mW(e,t,n,r,i,o){const a=QN(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function dW(e,t){e.eventRegistrations_.push(t)}(a,n),function hW(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Bt,(o,a)=>{r.push(Oc(o,a))}),n.isFullyInitialized()&&r.push(TN(n.getNode())),KN(e,r,n.getNode(),t)}(a,n)}(l,t,n,Ug(e.pendingWriteTree_,i),o,u);if(!h&&!a&&!r){const _=JN(l,t);g=g.concat(function MW(e,t,n){const r=t._path,i=uh(e,t),o=oP(e,n),a=e.listenProvider_.startListening(dh(t),i,o.hashFn,o.onComplete),l=e.syncPointTree_.subtree(r);if(i)ve(!cs(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((h,p,g)=>{if(!it(h)&&p&&cs(p))return[Zg(p).query];{let _=[];return p&&(_=_.concat(XN(p).map(y=>y.query))),Mn(g,(y,D)=>{_=_.concat(D)}),_}});for(let h=0;h<u.length;++h){const p=u[h];e.listenProvider_.stopListening(dh(p),uh(e,p))}}return a}(e,t,_))}return g}function Yg(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(a,l)=>{const h=ls(l,rr(a,t));if(h)return h});return BN(i,t,o,n,!0)}function Bc(e,t){return rP(t,e.syncPointTree_,null,Ug(e.pendingWriteTree_,ht()))}function rP(e,t,n,r){if(it(e.path))return iP(e,t,n,r);{const i=t.get(ht());null==n&&null!=i&&(n=ls(i,ht()));let o=[];const a=rt(e.path),l=e.operationForChild(a),u=t.children.get(a);if(u&&l){const h=n?n.getImmediateChild(a):null,p=HN(r,a);o=o.concat(rP(l,u,h,p))}return i&&(o=o.concat(nC(i,e,r,n))),o}}function iP(e,t,n,r){const i=t.get(ht());null==n&&null!=i&&(n=ls(i,ht()));let o=[];return t.children.inorderTraversal((a,l)=>{const u=n?n.getImmediateChild(a):null,h=HN(r,a),p=e.operationForChild(a);p&&(o=o.concat(iP(p,l,u,h)))}),i&&(o=o.concat(nC(i,e,r,n))),o}function oP(e,t){const n=t.query,r=uh(e,n);return{hashFn:()=>(function lW(e){return e.viewCache_.serverCache.getNode()}(t)||qe.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function DW(e,t,n){const r=oC(e,n);if(r){const i=sC(r),o=i.path,a=i.queryId,l=rr(o,t);return aC(e,o,new oh(Gx(a),l))}return[]}(e,n._path,r):function EW(e,t){return Bc(e,new oh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const o=function wz(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return Kg(e,n,null,o)}}}}function uh(e,t){const n=Qg(t);return e.queryToTagMap.get(n)}function Qg(e){return e._path.toString()+"$"+e._queryIdentifier}function oC(e,t){return e.tagToQueryMap.get(t)}function sC(e){const t=e.indexOf("$");return ve(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new vt(e.substr(0,t))}}function aC(e,t,n){const r=e.syncPointTree_.get(t);return ve(r,"Missing sync point for query tag that we're tracking"),nC(r,n,Ug(e.pendingWriteTree_,t),null)}function dh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function yW(){return ve(qg,"Reference.ts has not been loaded"),qg}())(e._repo,e._path):e}class lC{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new lC(n)}node(){return this.node_}}class cC{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Wt(this.path_,t);return new cC(this.syncTree_,n)}node(){return Yg(this.syncTree_,this.path_)}}const NW=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},sP=function(e,t,n){return e&&"object"==typeof e?(ve(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?PW(e[".sv"],t,n):"object"==typeof e[".sv"]?RW(e[".sv"],t):void ve(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},PW=function(e,t,n){if("timestamp"===e)return n.timestamp;ve(!1,"Unexpected server value: "+e)},RW=function(e,t,n){e.hasOwnProperty("increment")||ve(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&ve(!1,"Unexpected increment value: "+r);const i=t.node();if(ve(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return"number"!=typeof a?r:a+r},aP=function(e,t,n,r){return dC(t,new cC(n,e),r)},uC=function(e,t,n){return dC(e,new lC(t),n)};function dC(e,t,n){const r=e.getPriority().val(),i=sP(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const a=e,l=sP(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new Pc(l,Xt(i)):e}{const a=e;return o=a,i!==a.getPriority().val()&&(o=o.updatePriority(new Pc(i))),a.forEachChild(Bt,(l,u)=>{const h=dC(u,t.getImmediateChild(l),n);h!==u&&(o=o.updateImmediateChild(l,h))}),o}}class hC{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Xg(e,t){let n=t instanceof vt?t:new vt(t),r=e,i=rt(n);for(;null!==i;){const o=Sc(r.node.children,i)||{children:{},childCount:0};r=new hC(i,r,o),n=Tt(n),i=rt(n)}return r}function ba(e){return e.node.value}function fC(e,t){e.node.value=t,pC(e)}function lP(e){return e.node.childCount>0}function Jg(e,t){Mn(e.node.children,(n,r)=>{t(new hC(n,e,r))})}function cP(e,t,n,r){n&&!r&&t(e),Jg(e,i=>{cP(i,t,!0,r)}),n&&r&&t(e)}function hh(e){return new vt(null===e.parent?e.name:hh(e.parent)+"/"+e.name)}function pC(e){null!==e.parent&&function kW(e,t,n){const r=function OW(e){return void 0===ba(e)&&!lP(e)}(n),i=Co(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,pC(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,pC(e))}(e.parent,e.name,e)}const LW=/[\[\].#$\/\u0000-\u001F\u007F]/,BW=/[\[\].#$\u0000-\u001F\u007F]/,gC=10485760,e0=function(e){return"string"==typeof e&&0!==e.length&&!LW.test(e)},uP=function(e){return"string"==typeof e&&0!==e.length&&!BW.test(e)},ph=function(e,t,n){const r=n instanceof vt?new t$(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+xa(r));if("function"==typeof t)throw new Error(e+"contains a function "+xa(r)+" with contents = "+t.toString());if(Ag(t))throw new Error(e+"contains "+t.toString()+" "+xa(r));if("string"==typeof t&&t.length>gC/3&&Dg(t)>gC)throw new Error(e+"contains a string greater than "+gC+" utf8 bytes "+xa(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(Mn(t,(a,l)=>{if(".value"===a)i=!0;else if(".priority"!==a&&".sv"!==a&&(o=!0,!e0(a)))throw new Error(e+" contains an invalid key ("+a+") "+xa(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function n$(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Dg(t),xN(e)})(r,a),ph(e,l,r),function r$(e){const t=e.parts_.pop();e.byteLength_-=Dg(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+xa(r)+" in addition to actual children.")}},_C=function(e,t,n,r){if(!(r&&void 0===n||uP(n)))throw new Error(Ic(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jW=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_C(e,t,n,r)},Yi=function(e,t){if(".info"===rt(t))throw new Error(e+" failed = Can't modify data under /.info/")};class UW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function t0(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!Nx(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Fr(e,t,n){t0(e,n),function pP(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(zW(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,r=>qr(r,t)||qr(t,r))}function zW(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();va&&Tn("event: "+n.toString()),Mc(r)}}}const $W=25;class WW{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new UW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bg(),this.transactionQueueTree_=new hC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mP(e){const n=e.infoData_.getNode(new vt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function mh(e){return NW({timestamp:mP(e)})}function _P(e,t,n,r,i){e.dataUpdateCount++;const o=new vt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const u=Eg(n,h=>Xt(h));a=function bW(e,t,n,r){const i=oC(e,r);if(i){const o=sC(i),a=o.path,l=o.queryId,u=rr(a,t),h=Vt.fromObject(n);return aC(e,a,new kc(Gx(l),u,h))}return[]}(e.serverSyncTree_,o,u,i)}else{const u=Xt(n);a=nP(e.serverSyncTree_,o,u,i)}else if(r){const u=Eg(n,h=>Xt(h));a=function wW(e,t,n){const r=Vt.fromObject(n);return Bc(e,new kc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,u)}else{const u=Xt(n);a=ch(e.serverSyncTree_,o,u)}let l=o;a.length>0&&(l=Hc(e,o)),Fr(e.eventQueue_,l,a)}function vP(e,t){vC(e,"connected",t),!1===t&&function YW(e){Vc(e,"onDisconnectEvents");const t=mh(e),n=Bg();zx(e.onDisconnect_,ht(),(i,o)=>{const a=aP(i,o,e.serverSyncTree_,t);Fc(n,i,a)});let r=[];zx(n,ht(),(i,o)=>{r=r.concat(ch(e.serverSyncTree_,i,o));const a=wC(e,i);Hc(e,a)}),e.onDisconnect_=Bg(),Fr(e.eventQueue_,ht(),r)}(e)}function vC(e,t,n){const r=new vt("/.info/"+t),i=Xt(n);e.infoData_.updateSnapshot(r,i);const o=ch(e.infoSyncTree_,r,i);Fr(e.eventQueue_,r,o)}function n0(e){return e.nextWriteId_++}function yC(e,t,n,r,i){Vc(e,"set",{path:t.toString(),value:n,priority:r});const o=mh(e),a=Xt(n,r),l=Yg(e.serverSyncTree_,t),u=uC(a,l,o),h=n0(e),p=rC(e.serverSyncTree_,t,u,h,!0);t0(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),(_,y)=>{const D="ok"===_;D||zn("set at "+t+" failed: "+_);const O=us(e.serverSyncTree_,h,!D);Fr(e.eventQueue_,t,O),function ds(e,t,n,r){t&&Mc(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const a=new Error(o);a.code=i,t(a)}})}(0,i,_,y)});const g=wC(e,t);Hc(e,g),Fr(e.eventQueue_,g,[])}function Vc(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Tn(n,...t)}function CC(e,t,n){return Yg(e.serverSyncTree_,t,n)||qe.EMPTY_NODE}function r0(e,t=e.transactionQueueTree_){if(t||o0(e,t),ba(t)){const n=wP(e,t);ve(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function rG(e,t,n){const r=n.map(h=>h.currentWriteId),i=CC(e,t,r);let o=i;const a=i.hash();for(let h=0;h<n.length;h++){const p=n[h];ve(0===p.status,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const g=rr(t,p.path);o=o.updateChild(g,p.currentOutputSnapshotRaw)}const l=o.val(!0),u=t;e.server_.put(u.toString(),l,h=>{Vc(e,"transaction put response",{path:u.toString(),status:h});let p=[];if("ok"===h){const g=[];for(let _=0;_<n.length;_++)n[_].status=2,p=p.concat(us(e.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&g.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();o0(e,Xg(e.transactionQueueTree_,t)),r0(e,e.transactionQueueTree_),Fr(e.eventQueue_,t,p);for(let _=0;_<g.length;_++)Mc(g[_])}else{if("datastale"===h)for(let g=0;g<n.length;g++)n[g].status=3===n[g].status?4:0;else{zn("transaction at "+u.toString()+" failed: "+h);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=h}Hc(e,t)}},a)}(e,hh(t),n)}else lP(t)&&Jg(t,n=>{r0(e,n)})}function Hc(e,t){const n=CP(e,t),r=hh(n);return function iG(e,t,n){if(0===t.length)return;const r=[];let i=[];const a=t.filter(l=>0===l.status).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const u=t[l],h=rr(n,u.path);let g,p=!1;if(ve(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)p=!0,g=u.abortReason,i=i.concat(us(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=$W)p=!0,g="maxretry",i=i.concat(us(e.serverSyncTree_,u.currentWriteId,!0));else{const _=CC(e,u.path,a);u.currentInputSnapshot=_;const y=t[l].update(_.val());if(void 0!==y){ph("transaction failed: Data returned ",y,u.path);let D=Xt(y);"object"==typeof y&&null!=y&&Co(y,".priority")||(D=D.updatePriority(_.getPriority()));const z=u.currentWriteId,te=mh(e),K=uC(D,_,te);u.currentOutputSnapshotRaw=D,u.currentOutputSnapshotResolved=K,u.currentWriteId=n0(e),a.splice(a.indexOf(z),1),i=i.concat(rC(e.serverSyncTree_,u.path,K,u.currentWriteId,u.applyLocally)),i=i.concat(us(e.serverSyncTree_,z,!0))}else p=!0,g="nodata",i=i.concat(us(e.serverSyncTree_,u.currentWriteId,!0))}Fr(e.eventQueue_,n,i),i=[],p&&(t[l].status=2,setTimeout(t[l].unwatcher,Math.floor(0)),t[l].onComplete&&r.push("nodata"===g?()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot):()=>t[l].onComplete(new Error(g),!1,null)))}o0(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Mc(r[l]);r0(e,e.transactionQueueTree_)}(e,wP(e,n),r),r}function CP(e,t){let n,r=e.transactionQueueTree_;for(n=rt(t);null!==n&&void 0===ba(r);)r=Xg(r,n),n=rt(t=Tt(t));return r}function wP(e,t){const n=[];return EP(e,t,n),n.sort((r,i)=>r.order-i.order),n}function EP(e,t,n){const r=ba(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Jg(t,i=>{EP(e,i,n)})}function o0(e,t){const n=ba(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,fC(t,n.length>0?n:void 0)}Jg(t,r=>{o0(e,r)})}function wC(e,t){const n=hh(CP(e,t)),r=Xg(e.transactionQueueTree_,t);return function FW(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{EC(e,i)}),EC(e,r),cP(r,i=>{EC(e,i)}),n}function EC(e,t){const n=ba(t);if(n){const r=[];let i=[],o=-1;for(let a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(ve(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(ve(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(us(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?fC(t,void 0):n.length=o+1,Fr(e.eventQueue_,hh(t),i);for(let a=0;a<r.length;a++)Mc(r[a])}}const DC=function(e,t){const n=aG(e),r=n.namespace;return"firebase.com"===n.domain&&Gi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Gi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&zn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Dx(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new vt(n.pathString)}},aG=function(e){let t="",n="",r="",i="",o="",a=!0,l="https",u=443;if("string"==typeof e){let h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));let p=e.indexOf("/");-1===p&&(p=e.length);let g=e.indexOf("?");-1===g&&(g=e.length),t=e.substring(0,Math.min(p,g)),p<g&&(i=function oG(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(p,g)));const _=function sG(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):zn(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,g)));h=t.indexOf(":"),h>=0?(a="https"===l||"wss"===l,u=parseInt(t.substring(h+1),10)):h=t.length;const y=t.slice(0,h);if("localhost"===y.toLowerCase())n="localhost";else if(y.split(".").length<=2)n=y;else{const D=t.indexOf(".");r=t.substring(0,D).toLowerCase(),n=t.substring(D+1),o=r}"ns"in _&&(o=_.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:o}};class bP{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Dn(this.snapshot.exportVal())}}class SP{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class bC{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return ve(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class kr{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return it(this._path)?null:Mx(this._path)}get ref(){return new hi(this._repo,this._path)}get _queryIdentifier(){const t=NN(this._queryParams),n=wx(t);return"{}"===n?"default":n}get _queryObject(){return NN(this._queryParams)}isEqual(t){if(!((t=Ac(t))instanceof kr))return!1;const n=this._repo===t._repo,r=Nx(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Jz(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class hi extends kr{constructor(t,n){super(t,n,new Vx,!1)}get parent(){const t=yN(this._path);return null===t?null:new hi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Sa{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new vt(t),r=jc(this.ref,t);return new Sa(this._node.getChild(n),r,Bt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new Sa(i,jc(this.ref,r),Bt)))}hasChild(t){const n=new vt(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ia(e,t){return(e=Ac(e))._checkNotDeleted("ref"),void 0!==t?jc(e._root,t):e._root}function jc(e,t){return null===rt((e=Ac(e))._path)?jW("child","path",t,!1):_C("child","path",t,!1),new hi(e._repo,Wt(e._path,t))}function l0(e,t){e=Ac(e),Yi("set",e._path),function(e,t,n,r){r&&void 0===t||ph(Ic(e,"value"),t,n)}("set",t,e._path,!1);const n=new Hd;return yC(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function SC(e){e=Ac(e);const t=new bC(()=>{}),n=new _h(t);return function qW(e,t,n){const r=function SW(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(h,p)=>{const g=rr(h,n);r=r||ls(p,g)});let i=e.syncPointTree_.get(n);i?r=r||ls(i,ht()):(i=new YN,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,a=o?new ss(r,!0,!1):null;return function cW(e){return jg(e.viewCache_)}(QN(i,t,Ug(e.pendingWriteTree_,t._path),o?a.getNode():qe.EMPTY_NODE,o))}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(i=>{const o=Xt(i).withIndex(t._queryParams.getIndex());let a;if(iC(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())a=ch(e.serverSyncTree_,t._path,o);else{const l=uh(e.serverSyncTree_,t);a=nP(e.serverSyncTree_,t._path,o,l)}return Fr(e.eventQueue_,t._path,a),Kg(e.serverSyncTree_,t,n,null,!0),o},i=>(Vc(e,"get for query "+Dn(t)+" failed: "+i),Promise.reject(new Error(i))))}(e._repo,e,n).then(r=>new Sa(r,new hi(e._repo,e._path),e._queryParams.getIndex()))}class _h{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new bP("value",this,new Sa(t.snapshotNode,new hi(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new SP(this,t,n):null}matches(t){return t instanceof _h&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}(function fW(e){ve(!Gg,"__referenceConstructor has already been defined"),Gg=e})(hi),function vW(e){ve(!qg,"__referenceConstructor has already been defined"),qg=e}(hi);const IC={};function MP(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Gi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tn("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let u,h,a=DC(o,i),l=a.repoInfo;typeof process<"u"&&process.env&&(h=process.env.FIREBASE_DATABASE_EMULATOR_HOST),h?(u=!0,o=`http://${h}?ns=${l.namespace}`,a=DC(o,i),l=a.repoInfo):u=!a.repoInfo.secure;const p=i&&u?new Qd(Qd.OWNER):new Az(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!e0(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),uP(e)}(n))throw new Error(Ic(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",a),it(a.path)||Gi("Database URL must point to the root of a Firebase Database (not including a child path).");const g=function DG(e,t,n,r){let i=IC[t.name];i||(i={},IC[t.name]=i);let o=i[e.toURLString()];return o&&Gi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new WW(e,false,n,r),i[e.toURLString()]=o,o}(l,e,p,new Iz(e.name,n));return new SG(g,e)}class SG{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function GW(e,t,n){if(e.stats_=Ix(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Lg(e.repoInfo_,(r,i,o,a)=>{_P(e,r,i,o,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>vP(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ca(e.repoInfo_,t,(r,i,o,a)=>{_P(e,r,i,o,a)},r=>{vP(e,r)},r=>{!function ZW(e,t){Mn(t,(n,r)=>{vC(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function Nz(e,t){const n=e.toString();return Sx[n]||(Sx[n]=t()),Sx[n]}(e.repoInfo_,()=>new N$(e.stats_,e.server_)),e.infoData_=new S$,e.infoSyncTree_=new tP({startListening:(r,i,o,a)=>{let l=[];const u=e.infoData_.getNode(r._path);return u.isEmpty()||(l=ch(e.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),vC(e,"connected",!1),e.serverSyncTree_=new tP({startListening:(r,i,o,a)=>(e.server_.listen(r,o,i,(l,u)=>{const h=a(l,u);Fr(e.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hi(this._repo,ht())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function EG(e,t){const n=IC[t];(!n||n[e.key]!==e)&&Gi(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function xP(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Gi("Cannot call "+t+" on a deleted database.")}}Ca.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ca.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function TG(e){(function kM(e){yx=e})("10.12.2"),Ig(new zd("database",(t,{instanceIdentifier:n})=>MP(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),ma(OM,"1.0.5",e),ma(OM,"1.0.5","esm2017")}(),ma("firebase","10.12.2","app");const Uc=function IG(e=function iz(e=Sg){const t=ga.get(e);if(!t&&e===Sg&&pM())return AM();if(!t)throw Zr.create("no-app",{appName:e});return t}(),t){const n=function IM(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=(e=>{var t,n;return null===(n=null===(t=xg())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("database");r&&function AG(e,t,n,r={}){(e=Ac(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Gi("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Gi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Qd(Qd.OWNER);else if(r.mockUserToken){const a="string"==typeof r.mockUserToken?r.mockUserToken:function HU(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[yg(JSON.stringify({alg:"none",type:"JWT"})),yg(JSON.stringify(a)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new Qd(a)}!function wG(e,t,n,r){e.repoInfo_=new Dx(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...r)}return n}(AM({apiKey:"AIzaSyDPZIzAYpKqLD-2KXWMVCpe7hoJnYYCZOI",authDomain:"night-crusade-titans-dfbcf.firebaseapp.com",databaseURL:"https://night-crusade-titans-dfbcf-default-rtdb.firebaseio.com",projectId:"night-crusade-titans-dfbcf",storageBucket:"night-crusade-titans-dfbcf.appspot.com",messagingSenderId:"147496896650",appId:"1:147496896650:web:6b0b87a76807f486ce4573"}));class u0{}class d0{}class Kr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),a=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Kr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Kr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Kr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let a=this.headers.get(n);if(!a)return;a=a.filter(l=>-1===o.indexOf(l)),0===a.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class FG{encodeKey(t){return PP(t)}encodeValue(t){return PP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const LG=/%(\d[a-f0-9])/gi,BG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PP(e){return encodeURIComponent(e).replace(LG,(t,n)=>BG[n]??t)}function h0(e){return`${e}`}class fs{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new FG,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kG(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[a,l]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],u=n.get(a)||[];u.push(l),n.set(a,u)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(h0):[h0(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new fs({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(h0(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(h0(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class VG{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function RP(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function OP(e){return typeof Blob<"u"&&e instanceof Blob}function FP(e){return typeof FormData<"u"&&e instanceof FormData}class yh{constructor(t,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function HG(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Kr),this.context||(this.context=new VG),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{const l=n.indexOf("?");this.urlWithParams=n+(-1===l?"?":l<n.length-1?"&":"")+a}}else this.params=new fs,this.urlWithParams=n}serializeBody(){return null===this.body?null:RP(this.body)||OP(this.body)||FP(this.body)||function jG(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||FP(this.body)?null:OP(this.body)?this.body.type||null:RP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,h=t.params||this.params;const p=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((g,_)=>g.set(_,t.setHeaders[_]),u)),t.setParams&&(h=Object.keys(t.setParams).reduce((g,_)=>g.set(_,t.setParams[_]),h)),new yh(n,r,o,{params:h,headers:u,context:p,reportProgress:l,responseType:i,withCredentials:a})}}var ps=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ps||{});class AC{constructor(t,n=200,r="OK"){this.headers=t.headers||new Kr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class f0 extends AC{constructor(t={}){super(t),this.type=ps.ResponseHeader}clone(t={}){return new f0({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Aa extends AC{constructor(t={}){super(t),this.type=ps.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Aa({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zc extends AC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function TC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let MC=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof yh)o=n;else{let u,h;u=i.headers instanceof Kr?i.headers:new Kr(i.headers),i.params&&(h=i.params instanceof fs?i.params:new fs({fromObject:i.params})),o=new yh(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Oe(o).pipe(dc(u=>this.handler.handle(u)));if(n instanceof yh||"events"===i.observe)return a;const l=a.pipe(vo(u=>u instanceof Aa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(lt(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(lt(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(lt(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return l.pipe(lt(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new fs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,TC(i,r))}post(n,r,i={}){return this.request("POST",n,TC(i,r))}put(n,r,i={}){return this.request("PUT",n,TC(i,r))}static#e=this.\u0275fac=function(r){return new(r||e)(Me(u0))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();function LP(e,t){return t(e)}function GG(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const qG=new _e(""),xh=new _e(""),BP=new _e(""),VP=new _e("");function KG(){let e=null;return(t,n)=>{null===e&&(e=(pe(qG,{optional:!0})??[]).reduceRight(GG,LP));const r=pe(Pp),i=r.add();return e(t,n).pipe(Sd(()=>r.remove(i)))}}let HP=(()=>{class e extends u0{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=pe(Pp);const i=pe(VP,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(xh),...this.injector.get(BP,[])]));this.chain=i.reduceRight((o,a)=>function ZG(e,t,n){return(r,i)=>zo(n,()=>t(r,o=>e(o,i)))}(o,a,this.injector),LP)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Sd(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(Me(d0),Me(Ar))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();const eZ=/^\)\]\}',?\n/;let UP=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new ae(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Nt(r.\u0275loadImpl()):Oe(null)).pipe(ar(()=>new Mt(o=>{const a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((O,z)=>a.setRequestHeader(O,z.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const O=n.detectContentTypeHeader();null!==O&&a.setRequestHeader("Content-Type",O)}if(n.responseType){const O=n.responseType.toLowerCase();a.responseType="json"!==O?O:"text"}const l=n.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const O=a.statusText||"OK",z=new Kr(a.getAllResponseHeaders()),te=function tZ(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return u=new f0({headers:z,status:a.status,statusText:O,url:te}),u},p=()=>{let{headers:O,status:z,statusText:te,url:K}=h(),xe=null;204!==z&&(xe=typeof a.response>"u"?a.responseText:a.response),0===z&&(z=xe?200:0);let Le=z>=200&&z<300;if("json"===n.responseType&&"string"==typeof xe){const Ye=xe;xe=xe.replace(eZ,"");try{xe=""!==xe?JSON.parse(xe):null}catch(yt){xe=Ye,Le&&(Le=!1,xe={error:yt,text:xe})}}Le?(o.next(new Aa({body:xe,headers:O,status:z,statusText:te,url:K||void 0})),o.complete()):o.error(new zc({error:xe,headers:O,status:z,statusText:te,url:K||void 0}))},g=O=>{const{url:z}=h(),te=new zc({error:O,status:a.status||0,statusText:a.statusText||"Unknown Error",url:z||void 0});o.error(te)};let _=!1;const y=O=>{_||(o.next(h()),_=!0);let z={type:ps.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(z.total=O.total),"text"===n.responseType&&a.responseText&&(z.partialText=a.responseText),o.next(z)},D=O=>{let z={type:ps.UploadProgress,loaded:O.loaded};O.lengthComputable&&(z.total=O.total),o.next(z)};return a.addEventListener("load",p),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),n.reportProgress&&(a.addEventListener("progress",y),null!==l&&a.upload&&a.upload.addEventListener("progress",D)),a.send(l),o.next({type:ps.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",p),a.removeEventListener("timeout",g),n.reportProgress&&(a.removeEventListener("progress",y),null!==l&&a.upload&&a.upload.removeEventListener("progress",D)),a.readyState!==a.DONE&&a.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(Me(OA))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();const RC=new _e("XSRF_ENABLED"),zP=new _e("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$P=new _e("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class WP{}let iZ=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=DA(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(Me(pr),Me(Qs),Me(zP))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac})}return e})();function oZ(e,t){const n=e.url.toLowerCase();if(!pe(RC)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=pe(WP).getToken(),i=pe($P);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var gs=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(gs||{});function sZ(...e){const t=[MC,UP,HP,{provide:u0,useExisting:HP},{provide:d0,useExisting:UP},{provide:xh,useValue:oZ,multi:!0},{provide:RC,useValue:!0},{provide:WP,useClass:iZ}];for(const n of e)t.push(...n.\u0275providers);return function Im(e){return{\u0275providers:e}}(t)}const GP=new _e("LEGACY_INTERCEPTOR_FN");function aZ(){return function Ta(e,t){return{\u0275kind:e,\u0275providers:t}}(gs.LegacyInterceptors,[{provide:GP,useFactory:KG},{provide:xh,useExisting:GP,multi:!0}])}let lZ=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=qn({type:e});static#n=this.\u0275inj=Zn({providers:[sZ(aZ())]})}return e})(),Ch=(()=>{class e{constructor(n){this.http=n,this.collectionKey="reports"}pull(){var n=this;return ln(function*(){const r=Ia(Uc,n.collectionKey),i=yield SC(r);let o=[];return i.exists()&&i.forEach(a=>{const l=a.val();o.push({...l,id:a.key})}),o})()}push(n){var r=this;return ln(function*(){const i=Ia(Uc,`${r.collectionKey}/${tx()}`);yield l0(i,n)})()}delete(n){var r=this;return ln(function*(){const i=Ia(Uc,`${r.collectionKey}/${n.id}`);yield function uG(e){return Yi("remove",e._path),l0(e,null)}(i)})()}generateId(){return tx()}static#e=this.\u0275fac=function(r){return new(r||e)(Me(MC))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),OC=(()=>{class e{sortReports(n){if(this.sortedReports=[],this.sortByReport){for(let r of n)r.distance=Math.sqrt(Math.pow(this.sortByReport.longitude-r.longitude,2)+Math.pow(this.sortByReport.latitude-r.latitude,2));return this.sortedReports=n.sort((r,i)=>r.distance>i.distance?1:-1),this.sortedReports}return n}constructor(n){this.reportService=n,this.sortedReports=[],this.reportUpdatedSource=new Nn,this.reportUpdated$=this.reportUpdatedSource.asObservable(),this.sortByReport=null}updateSortByReport(n){this.sortByReport=n,this.reportUpdatedSource.next(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Me(Ch))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),JP=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||e)(oe(lo),oe(Mr))};static#t=this.\u0275dir=Ue({type:e})}return e})(),Ma=(()=>{class e extends JP{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=An(e)))(i||e)}})();static#t=this.\u0275dir=Ue({type:e,features:[Ct]})}return e})();const Qi=new _e("NgValueAccessor"),mZ={provide:Qi,useExisting:xt(()=>wh),multi:!0},vZ=new _e("CompositionEventMode");let wh=(()=>{class e extends JP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _Z(){const e=Jo()?Jo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||e)(oe(lo),oe(Mr),oe(vZ,8))};static#t=this.\u0275dir=Ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&_t("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[$t([mZ]),Ct]})}return e})();function ms(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function tR(e){return null!=e&&"number"==typeof e.length}const $n=new _e("NgValidators"),_s=new _e("NgAsyncValidators"),yZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lr{static min(t){return nR(t)}static max(t){return rR(t)}static required(t){return function iR(e){return ms(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function oR(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function sR(e){return ms(e.value)||yZ.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function aR(e){return t=>ms(t.value)||!tR(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function lR(e){return t=>tR(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function cR(e){if(!e)return g0;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(ms(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return gR(t)}static composeAsync(t){return mR(t)}}function nR(e){return t=>{if(ms(t.value)||ms(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function rR(e){return t=>{if(ms(t.value)||ms(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function g0(e){return null}function uR(e){return null!=e}function dR(e){return hd(e)?Nt(e):e}function hR(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function fR(e,t){return t.map(n=>n(e))}function pR(e){return e.map(t=>function xZ(e){return!e.validate}(t)?t:n=>t.validate(n))}function gR(e){if(!e)return null;const t=e.filter(uR);return 0==t.length?null:function(n){return hR(fR(n,t))}}function FC(e){return null!=e?gR(pR(e)):null}function mR(e){if(!e)return null;const t=e.filter(uR);return 0==t.length?null:function(n){return function pZ(...e){const t=hn(e),{args:n,keys:r}=nT(e),i=new Mt(o=>{const{length:a}=n;if(!a)return void o.complete();const l=new Array(a);let u=a,h=a;for(let p=0;p<a;p++){let g=!1;Pn(n[p]).subscribe(Ce(o,_=>{g||(g=!0,h--),l[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(h||o.next(r?iT(r,l):l),o.complete())}))}});return t?i.pipe(rT(t)):i}(fR(n,t).map(dR)).pipe(lt(hR))}}function kC(e){return null!=e?mR(pR(e)):null}function _R(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function vR(e){return e._rawValidators}function yR(e){return e._rawAsyncValidators}function LC(e){return e?Array.isArray(e)?e:[e]:[]}function m0(e,t){return Array.isArray(e)?e.includes(t):e===t}function xR(e,t){const n=LC(t);return LC(e).forEach(i=>{m0(n,i)||n.push(i)}),n}function CR(e,t){return LC(t).filter(n=>!m0(e,n))}class wR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=FC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=kC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class ir extends wR{get formDirective(){return null}get path(){return null}}class vs extends wR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ER{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _0=(()=>{class e extends ER{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(oe(vs,2))};static#t=this.\u0275dir=Ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&dp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ct]})}return e})(),v0=(()=>{class e extends ER{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(oe(ir,10))};static#t=this.\u0275dir=Ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&dp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ct]})}return e})();const Eh="VALID",x0="INVALID",$c="PENDING",Dh="DISABLED";function HC(e){return(C0(e)?e.validators:e)||null}function jC(e,t){return(C0(t)?t.asyncValidators:e)||null}function C0(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class IR{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Eh}get invalid(){return this.status===x0}get pending(){return this.status==$c}get disabled(){return this.status===Dh}get enabled(){return this.status!==Dh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(xR(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(xR(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(CR(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(CR(t,this._rawAsyncValidators))}hasValidator(t){return m0(this._rawValidators,t)}hasAsyncValidator(t){return m0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=$c,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Dh,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Eh,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Eh||this.status===$c)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dh:Eh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=$c,this._hasOwnPendingAsyncValidator=!0;const n=dR(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ot,this.statusChanges=new Ot}_calculateStatus(){return this._allControlsDisabled()?Dh:this.errors?x0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($c)?$c:this._anyControlsHaveStatus(x0)?x0:Eh}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){C0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function DZ(e){return Array.isArray(e)?FC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function bZ(e){return Array.isArray(e)?kC(e):e||null}(this._rawAsyncValidators)}}class bh extends IR{constructor(t,n,r){super(HC(n),jC(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function SR(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new ae(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function bR(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new ae(1e3,"");if(!r[n])throw new ae(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Na=new _e("CallSetDisabledState",{providedIn:"root",factory:()=>Sh}),Sh="always";function w0(e,t){return[...t.path,e]}function Ih(e,t,n=Sh){UC(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function AZ(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&AR(e,t)})}(e,t),function MZ(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function TZ(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&AR(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function IZ(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function E0(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),b0(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function D0(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function UC(e,t){const n=vR(e);null!==t.validator?e.setValidators(_R(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=yR(e);null!==t.asyncValidator?e.setAsyncValidators(_R(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();D0(t._rawValidators,i),D0(t._rawAsyncValidators,i)}function b0(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=vR(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=yR(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(a=>a!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return D0(t._rawValidators,r),D0(t._rawAsyncValidators,r),n}function AR(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function TR(e,t){UC(e,t)}function $C(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function MR(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function WC(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===wh?n=o:function RZ(e){return Object.getPrototypeOf(e.constructor)===Ma}(o)?r=o:i=o}),i||r||n||null}const FZ={provide:ir,useExisting:xt(()=>S0)},Ah=(()=>Promise.resolve())();let S0=(()=>{class e extends ir{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ot,this.form=new bh({},FC(n),kC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ah.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ih(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ah.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ah.then(()=>{const r=this._findContainer(n.path),i=new bh({});TR(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ah.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ah.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,MR(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static#e=this.\u0275fac=function(r){return new(r||e)(oe($n,10),oe(_s,10),oe(Na,8))};static#t=this.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&_t("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([FZ]),Ct]})}return e})();function NR(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function PR(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const fi=class extends IR{constructor(t=null,n,r){super(HC(n),jC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),C0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=PR(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){NR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){NR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){PR(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},BZ={provide:vs,useExisting:xt(()=>GC)},FR=(()=>Promise.resolve())();let GC=(()=>{class e extends vs{constructor(n,r,i,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new fi,this._registered=!1,this.name="",this.update=new Ot,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=WC(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),$C(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ih(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){FR.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&lc(r);FR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?w0(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||e)(oe(ir,9),oe($n,10),oe(_s,10),oe(Qi,10),oe(qu,8),oe(Na,8))};static#t=this.\u0275dir=Ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([BZ]),Ct,jr]})}return e})(),I0=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return e})();const VZ={provide:Qi,useExisting:xt(()=>ZC),multi:!0};let ZC=(()=>{class e extends Ma{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=An(e)))(i||e)}})();static#t=this.\u0275dir=Ue({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&_t("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[$t([VZ]),Ct]})}return e})(),kR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=qn({type:e});static#n=this.\u0275inj=Zn({})}return e})();const qC=new _e("NgModelWithFormControlWarning"),$Z={provide:ir,useExisting:xt(()=>Th)};let Th=(()=>{class e extends ir{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ot,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(b0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Ih(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){E0(n.control||null,n,!1),function OZ(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,MR(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(E0(r||null,n),(e=>e instanceof fi)(i)&&(Ih(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);TR(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function NZ(e,t){return b0(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){UC(this.form,this),this._oldForm&&b0(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||e)(oe($n,10),oe(_s,10),oe(Na,8))};static#t=this.\u0275dir=Ue({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&_t("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([$Z]),Ct,jr]})}return e})();const ZZ={provide:vs,useExisting:xt(()=>A0)};let A0=(()=>{class e extends vs{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ot,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=WC(0,o)}ngOnChanges(n){this._added||this._setUpControl(),$C(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return w0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||e)(oe(ir,13),oe($n,10),oe(_s,10),oe(Qi,10),oe(qC,8))};static#n=this.\u0275dir=Ue({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$t([ZZ]),Ct,jr]})}return e})();const qZ={provide:Qi,useExisting:xt(()=>Mh),multi:!0};function jR(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Mh=(()=>{class e extends Ma{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=jR(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function KZ(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=An(e)))(i||e)}})();static#t=this.\u0275dir=Ue({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&_t("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$t([qZ]),Ct]})}return e})(),QC=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(jR(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||e)(oe(Mr),oe(lo),oe(Mh,9))};static#t=this.\u0275dir=Ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();const YZ={provide:Qi,useExisting:xt(()=>XC),multi:!0};function UR(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let XC=(()=>{class e extends Ma{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const a=o;for(let l=0;l<a.length;l++){const h=this._getOptionValue(a[l].value);i.push(h)}}else{const a=r.options;for(let l=0;l<a.length;l++){const u=a[l];if(u.selected){const h=this._getOptionValue(u.value);i.push(h)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function QZ(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=An(e)))(i||e)}})();static#t=this.\u0275dir=Ue({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&_t("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[$t([YZ]),Ct]})}return e})(),JC=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(UR(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(UR(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||e)(oe(Mr),oe(lo),oe(XC,9))};static#t=this.\u0275dir=Ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return e})();function $R(e){return"number"==typeof e?e:parseFloat(e)}let Pa=(()=>{class e{constructor(){this._validator=g0}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):g0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Ue({type:e,features:[jr]})}return e})();const XZ={provide:$n,useExisting:xt(()=>ew),multi:!0};let ew=(()=>{class e extends Pa{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>$R(n),this.createValidator=n=>rR(n)}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=An(e)))(i||e)}})();static#t=this.\u0275dir=Ue({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Vi("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[$t([XZ]),Ct]})}return e})();const JZ={provide:$n,useExisting:xt(()=>tw),multi:!0};let tw=(()=>{class e extends Pa{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>$R(n),this.createValidator=n=>nR(n)}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=An(e)))(i||e)}})();static#t=this.\u0275dir=Ue({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Vi("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[$t([JZ]),Ct]})}return e})(),YR=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=qn({type:e});static#n=this.\u0275inj=Zn({imports:[kR]})}return e})(),aq=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Na,useValue:n.callSetDisabledState??Sh}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=qn({type:e});static#n=this.\u0275inj=Zn({imports:[YR]})}return e})(),lq=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:qC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Na,useValue:n.callSetDisabledState??Sh}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=qn({type:e});static#n=this.\u0275inj=Zn({imports:[YR]})}return e})();var QR=I(874);let XR=(()=>{class e{constructor(){this.refreshMap$=new Nn}refreshMap(n){this.refreshMap$.next()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const cq=["table"];function uq(e,t){1&e&&Qt(0,"td")}function dq(e,t){1&e&&(Ae(0,"td",15),He(1,"Resolved"),Se())}function hq(e,t){1&e&&(Ae(0,"td",16),He(1,"Not Resolved"),Se())}function fq(e,t){if(1&e){const n=sd();Ae(0,"tr")(1,"td"),He(2),Se(),Ae(3,"td"),He(4),Se(),Ae(5,"td"),He(6),Ap(7,"date"),Se(),Pr(8,uq,1,0,"td",8)(9,dq,2,0,"ng-template",null,9,aa)(11,hq,2,0,"ng-template",null,10,aa),Ae(13,"td",11),_t("click",function(){const o=Ho(n).$implicit;return jo($r().moreInfo(o))}),He(14,"More Info"),Se(),Ae(15,"td",11),_t("click",function(){const o=Ho(n).$implicit;return jo($r().editReport(o))}),He(16,"Change Status"),Se(),Ae(17,"td"),function $w(){je.lFrame.currentNamespace=Sw}(),Ae(18,"svg",12),_t("click",function(){const o=Ho(n).$implicit;return jo($r().onReportDelete(o))}),Ae(19,"g")(20,"g"),Qt(21,"path",13)(22,"path",14),Se()()()()()}if(2&e){const n=t.$implicit,r=oa(10),i=oa(12);It(2),rc(n.locationName),It(2),rc(n.suspectName),It(2),rc(yv(7,6,n.timeReported,"medium")),It(2),kn("ngIf",n.resolved)("ngIfThen",r)("ngIfElse",i)}}let JR=(()=>{class e{constructor(n,r,i,o){this.reportService=n,this.sortReportsService=r,this.refreshMapService=i,this.router=o,this.coordinates=new Ot,this.moreInfoEvent=new Ot,this.editReportEvent=new Ot,this.reports=[],this.locationSortCounter=0,this.suspectSortCounter=0,this.timeSortCounter=0,this.statusSortCounter=0}ngOnInit(){this.loadReports(),this.subscription=this.sortReportsService.reportUpdated$.subscribe(n=>{this.loadReports()})}ngAfterViewInit(){this.subscription=this.sortReportsService.reportUpdated$.subscribe(()=>{this.table.nativeElement.scrollIntoView({behavior:"smooth"}),this.table.nativeElement.classList.add("glow"),setTimeout(()=>this.table.nativeElement.classList.remove("glow"),1e3)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadReports(){this.reportService.pull().then(n=>{console.log("Reports from server:",n),this.reports=n,this.reports=this.sortReportsService.sortReports(this.reports);for(let r of this.reports)this.coordinates.emit(r)}).catch(n=>{console.error("Error loading reports:",n)})}onReportDelete(n){let r=prompt("Please enter your password to delete this report");null!=r&&("fcab0453879a2b2281bc5073e3f5fe54"===(0,QR.MD5)(r).toString()?this.reportService.delete(n).then(()=>{this.refreshMapService.refreshMap(this.reports);for(let o of this.reports)this.coordinates.emit(o);this.loadReports()}).catch(o=>{console.error("Error deleting report:",o)}):alert("Incorrect password"))}moreInfo(n){this.moreInfoEvent.emit(n)}editReport(n){let r=prompt("Please enter your password to edit this report");null!=r&&("fcab0453879a2b2281bc5073e3f5fe54"===(0,QR.MD5)(r).toString()?this.editReportEvent.emit(n):alert("Incorrect password"))}jumpToMapTrigger(n){console.log(n)}sortByLocation(){if(this.suspectSortCounter=0,this.timeSortCounter=0,this.statusSortCounter=0,this.locationSortCounter=(this.locationSortCounter+1)%2,0==this.locationSortCounter)this.reports.sort((n,r)=>n.locationName>r.locationName?1:-1);else{if(1!=this.locationSortCounter)return;this.reports.sort((n,r)=>n.locationName<r.locationName?1:-1)}}sortBySuspect(){if(this.locationSortCounter=0,this.timeSortCounter=0,this.statusSortCounter=0,this.suspectSortCounter=(this.suspectSortCounter+1)%2,0==this.suspectSortCounter)this.reports.sort((n,r)=>n.suspectName>r.suspectName?1:-1);else{if(1!=this.suspectSortCounter)return;this.reports.sort((n,r)=>n.suspectName<r.suspectName?1:-1)}}sortByTime(){if(this.locationSortCounter=0,this.suspectSortCounter=0,this.statusSortCounter=0,this.timeSortCounter=(this.timeSortCounter+1)%2,0==this.timeSortCounter)this.reports.sort((n,r)=>n.timeReported>r.timeReported?1:-1);else{if(1!=this.timeSortCounter)return;this.reports.sort((n,r)=>n.timeReported<r.timeReported?1:-1)}}sortByStatus(){if(this.locationSortCounter=0,this.suspectSortCounter=0,this.timeSortCounter=0,this.statusSortCounter=(this.statusSortCounter+1)%2,0==this.statusSortCounter)this.reports.sort((n,r)=>n.resolved&&!r.resolved?-1:r.resolved&&!n.resolved?1:0);else{if(1!=this.statusSortCounter)return;this.reports.sort((n,r)=>n.resolved&&!r.resolved?1:r.resolved&&!n.resolved?-1:0)}}addReport(){this.router.navigate(["/report"])}static#e=this.\u0275fac=function(r){return new(r||e)(oe(Ch),oe(OC),oe(XR),oe(Or))};static#t=this.\u0275cmp=ti({type:e,selectors:[["app-report-list"]],viewQuery:function(r,i){if(1&r&&Mp(cq,5),2&r){let o;gd(o=md())&&(i.table=o.first)}},outputs:{coordinates:"coordinates",moreInfoEvent:"moreInfoEvent",editReportEvent:"editReportEvent"},decls:19,vars:1,consts:[["id","reports",1,"scrollable-table","table-striped","table","table-bordered"],["table",""],["id","locationHeader","tooltip","Sort by Location",1,"th-sm",3,"click"],["id","suspectHeader","tooltip","Sort by Suspect Name",1,"th-sm",3,"click"],["id","timeHeader","tooltip","Sort by Time Reported",1,"th-sm",3,"click"],["id","statusHeader","tooltip","Sort by Status",1,"th-sm",3,"click"],["id","addReportButton",1,"btn","btn-primary",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],["resolved",""],["notResolved",""],[1,"moreInfo",3,"click"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","30","height","40","viewBox","0 0 573.496 573.496",0,"xml","space","preserve",1,"reportCardRedButton",3,"click"],["d","M376.041,111.435V76.395H0v420.707h376.041V283.443l-38.615-145.965l-3.914-14.792l14.793-3.914L376.041,111.435z\n                            M105.392,439.65h-30.6V133.843h30.6V439.65z M203.318,439.65h-30.6V133.843h30.6V439.65z M301.248,439.65h-30.601V133.843h30.601\n                            V439.65z"],["d","M466.678,205.193l-7.396,1.955l-7.396,1.956l-25.195-95.243l-50.648,13.4l-23.826,6.304l23.826,90.056l72.35,273.478\n                            l74.475-19.703l-23.746-89.762l7.396-1.956l7.396-1.955l59.584-15.762l-47.23-178.53L466.678,205.193z M506.08,354.142\n                            l-7.395,1.956l-7.396,1.955l-31.58-119.368l7.396-1.956l7.396-1.955l30-7.938l31.58,119.367L506.08,354.142z"],[2,"color","green"],[2,"color","red"]],template:function(r,i){1&r&&(Ae(0,"table",0,1)(2,"thead")(3,"tr")(4,"th",2),_t("click",function(){return i.sortByLocation()}),He(5,"Location"),Se(),Ae(6,"th",3),_t("click",function(){return i.sortBySuspect()}),He(7,"Suspect Name"),Se(),Ae(8,"th",4),_t("click",function(){return i.sortByTime()}),He(9,"Time Reported"),Se(),Ae(10,"th",5),_t("click",function(){return i.sortByStatus()}),He(11,"Status"),Se(),Qt(12,"th")(13,"th"),Ae(14,"th")(15,"button",6),_t("click",function(){return i.addReport()}),He(16,"Add Report"),Se()()()(),Ae(17,"tbody"),Pr(18,fq,23,9,"tr",7),Se()()),2&r&&(It(18),kn("ngForOf",i.reports))},dependencies:[ay,Jp,uy],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}table[_ngcontent-%COMP%], #reports[_ngcontent-%COMP%]{width:100%;padding:none;border-radius:5px;overflow:hidden}span[_ngcontent-%COMP%]{text-align:center}.reportCardRedButton[_ngcontent-%COMP%]{fill:red;background:none;border:none;padding:0;margin:0;stroke-width:8;stroke:#000}.reportCardRedButton[_ngcontent-%COMP%]:hover{fill:#b30000}.moreInfo[_ngcontent-%COMP%]{text-decoration:underline}.moreInfo[_ngcontent-%COMP%]:hover{color:#00f;cursor:pointer}#locationHeader[_ngcontent-%COMP%]:hover, #suspectHeader[_ngcontent-%COMP%]:hover, #timeHeader[_ngcontent-%COMP%]:hover, #statusHeader[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return e})(),e2=(()=>{class e{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ti({type:e,selectors:[["app-header"]],decls:9,vars:0,consts:[["href","/"],[1,"headerLinks"],["routerLink","home","routerLinkActive","router-link-active",1,"h5","navbar-link"],["routerLink","/report",1,"h5"]],template:function(r,i){1&r&&(Ae(0,"head"),Qt(1,"base",0),Se(),Ae(2,"h2"),He(3,"The Night Crusade Titans"),Se(),Ae(4,"div",1)(5,"a",2),He(6,"Home"),Se(),Ae(7,"a",3),He(8,"Report"),Se()())},dependencies:[vg,eM],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100vw;padding:1%;background-color:#1f2937;color:#fff}a[_ngcontent-%COMP%]{text-decoration:none}.headerLinks[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;width:40%;gap:15%;padding-right:2%}a[_ngcontent-%COMP%]:hover{color:gray}@media screen and (max-width: 1200px){.headerLinks[_ngcontent-%COMP%]{gap:20%;padding-right:4%}}@media screen and (max-width: 700px){.headerLinks[_ngcontent-%COMP%]{gap:10%}}@media screen and (max-width: 600px){.headerLinks[_ngcontent-%COMP%]{gap:5%}}@media screen and (max-width: 450px){.headerLinks[_ngcontent-%COMP%]{gap:5%;padding-right:0}}"]})}return e})();var Ra=I(433);let pq=(()=>{class e{constructor(n,r,i){this.sortReportService=n,this.refreshMapService=r,this.reportService=i,this.markersLayer=Ra.layerGroup()}ngOnInit(){this.refreshMapService.refreshMap$.subscribe(()=>{this.reportService.pull().then(n=>{this.refreshMap(n)}).catch(n=>{console.error("Error loading reports:",n)})}),this.createMap()}createMap(){this.map=Ra.map("map").setView([49.205,-122.689897],9.8),Ra.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(this.map),this.markersLayer.addTo(this.map)}handleCoordinates(n){var r=this;return ln(function*(){let i=0;if(r.map){let o=Ra.marker([n.latitude,n.longitude],{riseOnHover:!0}).on("click",ln(function*(){r.map.flyTo([n.latitude,n.longitude],15),r.sortReportService.updateSortByReport(n);let a=yield r.reportService.pull();for(let l of a)l.locationName===n.locationName&&i++;1===i?o.bindPopup(`<b>${n.locationName}</b><br>${i} report`).openPopup():o.bindPopup(`<b>${n.locationName}</b><br>${i} reports`).openPopup()})).addTo(r.markersLayer)}})()}refreshMap(n){this.markersLayer.clearLayers(),n.forEach(r=>{this.handleCoordinates(r)})}static#e=this.\u0275fac=function(r){return new(r||e)(oe(OC),oe(XR),oe(Ch))};static#t=this.\u0275cmp=ti({type:e,selectors:[["app-map"]],decls:2,vars:0,consts:[["id","map"],[2,"display","none",3,"coordinates"]],template:function(r,i){1&r&&(Qt(0,"div",0),Ae(1,"app-report-list",1),_t("coordinates",function(a){return i.handleCoordinates(a)}),Se())},dependencies:[JR],styles:["#map[_ngcontent-%COMP%]{height:99%;width:100%;margin-top:10px;border-radius:10px}"]})}return e})(),gq=(()=>{class e{transform(n,...r){if("string"!=typeof n)return n;let i=n.replace(/\D/g,"");return 10===i.length&&(i=i.replace(/(\d{3})(\d{3})(\d{4})/,"($1)-$2-$3")),i}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Kn({name:"phoneNumber",type:e,pure:!0})}return e})();function mq(e,t){1&e&&Qt(0,"span")}function _q(e,t){1&e&&(Ae(0,"span",15),He(1,"Resolved"),Se())}function vq(e,t){1&e&&(Ae(0,"span",16),He(1,"Not Resolved"),Se())}function yq(e,t){1&e&&Qt(0,"span")}function xq(e,t){if(1&e&&(Ae(0,"strong"),He(1,"Description:"),Se(),Ae(2,"span",17),He(3),Se()),2&e){const n=$r(2);It(3),ho("\xa0\xa0",n.currentReport.extraInfo,"")}}function Cq(e,t){1&e&&Qt(0,"span")}function wq(e,t){if(1&e&&(Ae(0,"strong"),He(1," Picture:"),Se(),Qt(2,"img",18)),2&e){const n=$r(2);It(2),lv("src",n.currentReport.picture,i_)}}function Eq(e,t){if(1&e){const n=sd();Ae(0,"div",6)(1,"div",7)(2,"button",8),_t("click",function(){return Ho(n),jo($r().closeOverlay())}),Se()(),Ae(3,"span")(4,"strong"),He(5,"Suspect Name:"),Se(),He(6),Se(),Ae(7,"span")(8,"strong"),He(9,"Date Reported:"),Se(),He(10),Ap(11,"date"),Se(),Ae(12,"span")(13,"strong"),He(14,"Long-Lat:"),Se(),He(15),Se(),Ae(16,"span")(17,"strong"),He(18,"Status:"),Se(),He(19,"\xa0\xa0"),Pr(20,mq,1,0,"span",9),Se(),Pr(21,_q,2,0,"ng-template",null,10,aa)(23,vq,2,0,"ng-template",null,11,aa),Ae(25,"span")(26,"strong"),He(27,"Reporter Name:"),Se(),He(28),Se(),Ae(29,"span")(30,"strong"),He(31,"Reporter Phone:"),Se(),He(32),Ap(33,"phoneNumber"),Se(),Ae(34,"span")(35,"strong"),He(36,"Report ID:"),Se(),He(37),Se(),Pr(38,yq,1,0,"span",12)(39,xq,4,1,"ng-template",null,13,aa)(41,Cq,1,0,"span",12)(42,wq,3,1,"ng-template",null,14,aa),Se()}if(2&e){const n=oa(22),r=oa(24),i=oa(40),o=oa(43),a=$r();It(6),ho("\xa0\xa0",a.currentReport.suspectName," "),It(4),ho("\xa0\xa0",yv(11,14,a.currentReport.timeReported,"medium")," "),It(5),uv("\xa0\xa0",a.currentReport.longitude,", ",a.currentReport.latitude," "),It(5),kn("ngIf",a.currentReport.resolved)("ngIfThen",n)("ngIfElse",r),It(8),ho("\xa0\xa0",a.currentReport.reporterName," "),It(4),ho("\xa0\xa0",nI(33,17,a.currentReport.phoneNumber)," "),It(5),ho("\xa0\xa0",a.currentReport.id," "),It(1),kn("ngIf",a.currentReport.extraInfo)("ngIfThen",i),It(3),kn("ngIf",null!=a.currentReport.picture)("ngIfThen",o)}}function Dq(e,t){if(1&e){const n=sd();Ae(0,"div",19)(1,"form",20),_t("ngSubmit",function(){return Ho(n),jo($r().onSubmit())}),Ae(2,"label",21),He(3,"Case Status:"),Se(),Ae(4,"div",22)(5,"select",23),_t("ngModelChange",function(i){return Ho(n),jo($r().currentReportEdit.resolved=i)}),Ae(6,"option",24),He(7,"Resolved"),Se(),Ae(8,"option",25),He(9,"Not Resolved"),Se()(),Ae(10,"button",26),He(11,"Submit"),Se()()()()}if(2&e){const n=$r();It(5),kn("ngModel",n.currentReportEdit.resolved)}}let bq=(()=>{class e{constructor(n,r){this.reportService=n,this.sortReportsService=r,this.resolved=!1}ngOnInit(){}moreInfo(n){this.currentReport=n,console.log(this.currentReport);let r=document.getElementById("blur");r&&r.classList.toggle("active")}closeOverlay(){this.currentReport=void 0;let n=document.getElementById("blur");n&&n.classList.toggle("active")}editReport(n){this.currentReportEdit=n;let r=document.getElementById("blur");r&&r.classList.toggle("active"),this.resolved=n.resolved}onSubmit(){var n=this;return ln(function*(){let r=document.getElementById("status");if(r){let o;if(o="true"===r.value,n.currentReportEdit){let a=new IU(n.currentReportEdit.reporterName,n.currentReportEdit.phoneNumber,n.currentReportEdit.suspectName,n.currentReportEdit.locationName,n.currentReportEdit.longitude,n.currentReportEdit.latitude,n.currentReportEdit.picture||"",n.currentReportEdit.extraInfo,n.currentReportEdit.id,n.currentReportEdit.timeReported,o);console.log(a),yield n.reportService.delete(n.currentReportEdit),yield n.reportService.push(a),n.sortReportsService.updateSortByReport(n.currentReportEdit),n.currentReportEdit=void 0;let l=document.getElementById("blur");l&&l.classList.toggle("active")}}})()}static#e=this.\u0275fac=function(r){return new(r||e)(oe(Ch),oe(OC))};static#t=this.\u0275cmp=ti({type:e,selectors:[["app-home-page"]],decls:9,vars:2,consts:[["id","blur"],["id","mapContainer"],["id","reportList",1,"scrollable-table"],[3,"moreInfoEvent","editReportEvent"],["id","overlay","class","card",4,"ngIf"],["id","editOverlay","class","card p-3",4,"ngIf"],["id","overlay",1,"card"],[1,"d-flex","justify-content-end"],["id","closeButton","type","button","aria-label","Close",1,"btn-close",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],["resolved",""],["notResolved",""],[4,"ngIf","ngIfThen"],["description",""],["picture",""],[2,"color","green"],[2,"color","red"],["id","description"],["id","img",3,"src"],["id","editOverlay",1,"card","p-3"],[3,"ngSubmit"],["for","status",1,"form-label","me-2"],[1,"mb-3","d-flex","justify-content-start","align-items-center"],["id","status","name","status",1,"form-select","me-2",3,"ngModel","ngModelChange"],["value","true",2,"color","green"],["value","false",2,"color","red"],["type","submit",1,"btn","btn-primary"]],template:function(r,i){1&r&&(Ae(0,"body"),Qt(1,"app-header"),Ae(2,"div",0)(3,"div",1),Qt(4,"app-map"),Se(),Ae(5,"div",2)(6,"app-report-list",3),_t("moreInfoEvent",function(a){return i.moreInfo(a)})("editReportEvent",function(a){return i.editReport(a)}),Se()()(),Pr(7,Eq,44,19,"div",4)(8,Dq,12,1,"div",5),Se()),2&r&&(It(7),kn("ngIf",null!=i.currentReport),It(1),kn("ngIf",null!=i.currentReportEdit))},dependencies:[Jp,I0,QC,JC,Mh,_0,v0,GC,S0,JR,e2,pq,uy,gq],styles:["body[_ngcontent-%COMP%]{overflow:hidden;margin:0}#mapContainer[_ngcontent-%COMP%], #reportList[_ngcontent-%COMP%]{margin:18px 20px 16px;box-sizing:border-box}#mapContainer[_ngcontent-%COMP%]{height:calc(60vh - 52px)}#reportList[_ngcontent-%COMP%]{height:calc(35vh - 52px)}.scrollable-table[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;height:100%}#blur.active[_ngcontent-%COMP%]{filter:blur(20px);pointer-events:none;-webkit-user-select:none;user-select:none}#overlay[_ngcontent-%COMP%], #editOverlay[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:16px}#img[_ngcontent-%COMP%]{width:500px;height:auto}#closeButton[_ngcontent-%COMP%]{position:fixed;top:12px;right:10px}@media screen and (max-width: 600px){#overlay[_ngcontent-%COMP%], #editOverlay[_ngcontent-%COMP%]{width:90%;margin:2px}#img[_ngcontent-%COMP%]{width:100%;height:auto}button[_ngcontent-%COMP%]{top:0;right:0}}"]})}return e})(),t2=(()=>{class e{constructor(n){this.http=n,this.locationSubject=new Wn(null),this.collectionKey="locations"}getLocationUpdate(){return this.locationSubject.asObservable()}updateLocation(){this.locationSubject.next(null)}push(n){var r=this;return ln(function*(){const i=Ia(Uc,r.collectionKey),o=yield SC(i);o.exists()&&o.forEach(l=>{l.val().name!==n.name||alert("Location with that name already exists!")});const a=Ia(Uc,`${r.collectionKey}/${tx()}`);yield l0(a,n)})()}pull(){var n=this;return ln(function*(){const r=Ia(Uc,n.collectionKey),i=yield SC(r);let o=[];return i.exists()&&i.forEach(a=>{const l=a.val();o.push({...l,id:a.key})}),o})()}static#e=this.\u0275fac=function(r){return new(r||e)(Me(MC))};static#t=this.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sq=["mapContainer"];let Iq=(()=>{class e{constructor(n){this.locationService=n,this.locationCreated=new Ot;let r={longitude:new fi("",[Lr.required]),latitude:new fi("",[Lr.required]),name:new fi("",[Lr.required,Lr.minLength(2)])};this.form=new bh(r)}ngAfterViewInit(){this.initMap()}onSubmit(n){this.locationService.push(n).then(()=>{this.form.reset(),this.locationCreated.emit(n)})}initMap(){this.map=Ra.map(this.mapContainer.nativeElement).setView([49.193568,-122.689897],9.8),Ra.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(this.map),this.map.on("click",n=>{this.form.controls.longitude.setValue(n.latlng.lng.toFixed(4)),this.form.controls.latitude.setValue(n.latlng.lat.toFixed(4))}),this.form.controls.longitude.valueChanges.subscribe(n=>{this.updateMarker(this.form.controls.latitude.value,n)}),this.form.controls.latitude.valueChanges.subscribe(n=>{this.updateMarker(n,this.form.controls.longitude.value)})}updateMarker(n,r){n&&r&&(this.currentMarker&&this.map.removeLayer(this.currentMarker),this.currentMarker=Ra.marker([n,r]),this.currentMarker.addTo(this.map),this.map.flyTo([n,r],15))}closeOverlay(){this.locationService.updateLocation()}static#e=this.\u0275fac=function(r){return new(r||e)(oe(t2))};static#t=this.\u0275cmp=ti({type:e,selectors:[["app-add-location"]],viewQuery:function(r,i){if(1&r&&Mp(Sq,5),2&r){let o;gd(o=md())&&(i.mapContainer=o.first)}},outputs:{locationCreated:"locationCreated"},decls:21,vars:2,consts:[["id","overlay"],["id","createLocation",1,"card","p-3"],[3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-between"],["id","closeButton","type","button","aria-label","Close",1,"btn-close",3,"click"],["type","text","name","name","placeholder","Name of The Location","formControlName","name",2,"margin-bottom","8px"],[1,"requiredText"],[2,"height","40vh","width","100%","align-self","center","margin-bottom","8px"],["mapContainer",""],["id","longlat",2,"margin-bottom","12px"],["type","number","name","longitude","placeholder","Longitude of The Location","formControlName","longitude","min","-180","max","180",2,"width","50%"],["type","number","name","latitude","placeholder","Latitude of The Location","formControlName","latitude","min","-90","max","90",2,"width","50%"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(r,i){1&r&&(Ae(0,"div",0)(1,"div",1)(2,"form",2),_t("ngSubmit",function(){return i.onSubmit(i.form.value)}),Ae(3,"div",3)(4,"h4"),He(5,"Create Location"),Se(),Ae(6,"button",4),_t("click",function(){return i.closeOverlay()}),Se()(),Ae(7,"p"),He(8,"Select location on map:"),Se(),Qt(9,"input",5),Ae(10,"p",6),He(11,"*Required"),Se(),Qt(12,"div",7,8),Ae(14,"div",9),Qt(15,"input",10)(16,"input",11),Se(),Ae(17,"p",6),He(18,"*Required"),Se(),Ae(19,"button",12),He(20,"Create"),Se()()()()),2&r&&(It(2),kn("formGroup",i.form),It(17),kn("disabled",!i.form.valid))},dependencies:[I0,wh,ZC,_0,v0,tw,ew,Th,A0],styles:["#overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:1000}#createLocation[_ngcontent-%COMP%]{position:fixed;background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 0 10px #0003;width:60%;top:10vh}.requiredText[_ngcontent-%COMP%]{font-size:.9rem;color:#8f0000;margin-top:0;margin-bottom:10px;font-style:italic}"]})}return e})();const Aq=["mapContainer"];function Tq(e,t){if(1&e&&(Ae(0,"option",15),He(1),Se()),2&e){const n=t.$implicit;kn("value",n.name),It(1),rc(n.name)}}function Mq(e,t){if(1&e){const n=sd();Ae(0,"app-add-location",16),_t("locationCreated",function(i){return Ho(n),jo($r().onLocationCreated(i))}),Se()}}const Nq=[{path:"home",component:bq},{path:"report",component:(()=>{class e{constructor(n,r,i){this.reportService=n,this.router=r,this.locationService=i,this.currentImage="",this.createLocation=!1,this.showAddLocationPopup=!1;let o={reporterName:new fi("",[Lr.required,Lr.minLength(2)]),phoneNumber:new fi("",[Lr.required,Lr.minLength(10),Lr.maxLength(10),Lr.pattern("[0-9]*")]),suspectName:new fi("",[Lr.required,Lr.minLength(2)]),locationName:new fi(null,Lr.required),picture:new fi,extraInfo:new fi};this.form=new bh(o),this.locationService.pull().then(a=>{this.locations=a,this.locationNames=this.locations.map(l=>l.name)})}openAddLocationPopup(){this.showAddLocationPopup=!0}onLocationCreated(n){this.locationService.pull().then(r=>{this.locations=r,this.locationNames=this.locations.map(i=>i.name),this.showAddLocationPopup=!1,this.form.controls.locationName.setValue(n.name)})}ngOnInit(){this.locationService.getLocationUpdate().subscribe(()=>{this.showAddLocationPopup=!1})}onSubmit(n){n.id=this.reportService.generateId(),n.timeReported=(new Date).getTime(),n.resolved=!1,this.locationService.pull().then(r=>{this.locations=r;const i=this.locations.find(o=>o.name===n.locationName);i?(n.latitude=i.latitude,n.longitude=i.longitude,this.reportService.push(n),this.form.reset(),this.router.navigate(["/home"])):console.error("Selected location not found.")})}createNewLocation(){this.showAddLocationPopup=!0}static#e=this.\u0275fac=function(r){return new(r||e)(oe(Ch),oe(Or),oe(t2))};static#t=this.\u0275cmp=ti({type:e,selectors:[["app-report-page"]],viewQuery:function(r,i){if(1&r&&Mp(Aq,5),2&r){let o;gd(o=md())&&(i.mapContainer=o.first)}},decls:27,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"d-grid","gap-2","col-12"],["type","text","name","reporterName","placeholder","Reporter Name","formControlName","reporterName"],[1,"requiredText"],["type","text","name","phoneNumber","placeholder","Reporter Phone Number","formControlName","phoneNumber"],["type","text","name","suspectName","placeholder","Name of The Suspect","formControlName","suspectName"],[1,"d-flex","justify-content-between","align-items-center"],["for","locationName"],["type","button",1,"btn","btn-primary","btn-sm","float-right",3,"click"],["id","locationName","placeholder","Location","formControlName","locationName"],[3,"value",4,"ngFor","ngForOf"],[3,"locationCreated",4,"ngIf"],["type","text","name","picture","placeholder","URL to image","formControlName","picture",2,"margin-top","8px"],["type","text","name","extraInfo","placeholder","Extra Information","formControlName","extraInfo"],[3,"disabled"],[3,"value"],[3,"locationCreated"]],template:function(r,i){1&r&&(Ae(0,"body"),Qt(1,"app-header"),Ae(2,"form",0),_t("ngSubmit",function(){return i.onSubmit(i.form.value)}),Ae(3,"fieldset",1),Qt(4,"input",2),Ae(5,"div",3),He(6,"*Required"),Se(),Qt(7,"input",4),Ae(8,"div",3),He(9,"*Required, 10 numbers long, numbers only"),Se(),Qt(10,"input",5),Ae(11,"div",3),He(12,"*Required"),Se(),Ae(13,"div",6)(14,"label",7),He(15,"Location:"),Se(),Ae(16,"button",8),_t("click",function(){return i.createNewLocation()}),He(17,"Create New Location"),Se()(),Ae(18,"select",9),Pr(19,Tq,2,2,"option",10),Se(),Ae(20,"div",3),He(21,"*Required"),Se(),Pr(22,Mq,1,0,"app-add-location",11),Qt(23,"input",12)(24,"input",13),Se(),Ae(25,"button",14),He(26,"Submit"),Se()()()),2&r&&(It(2),kn("formGroup",i.form),It(17),kn("ngForOf",i.locations),It(3),kn("ngIf",i.showAddLocationPopup),It(3),kn("disabled",i.form.invalid))},dependencies:[ay,Jp,I0,QC,JC,wh,Mh,_0,v0,Th,A0,e2,Iq],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]{text-align:center;margin-top:5px}form[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:flex-start;width:60%;margin:2% auto 1%}.requiredText[_ngcontent-%COMP%]{font-size:.9rem;color:#8f0000;margin-top:0;margin-bottom:10px;font-style:italic}p[_ngcontent-%COMP%]{margin-bottom:0}@media screen and (max-width: 1400px){form[_ngcontent-%COMP%]{width:75%}}@media screen and (max-width: 800px){form[_ngcontent-%COMP%]{width:90%}}"]})}return e})()},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Pq=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=qn({type:e,bootstrap:[cM]});static#n=this.\u0275inj=Zn({imports:[NA,ex.forRoot(Nq),QA,ex]})}return e})(),Rq=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=qn({type:e,bootstrap:[cM]});static#n=this.\u0275inj=Zn({imports:[QA,ex,Pq,aq,lq,lZ]})}return e})();LH().bootstrapModule(Rq).catch(e=>console.error(e))},42:function(we,Ee,I){var U;we.exports=(U=I(12),I(506),I(873),I(66),I(270),function(){var x=U,V=x.lib.BlockCipher,le=x.algo,M=[],Q=[],w=[],A=[],F=[],b=[],P=[],C=[],R=[],N=[];!function(){for(var E=[],S=0;S<256;S++)E[S]=S<128?S<<1:S<<1^283;var $=0,H=0;for(S=0;S<256;S++){var G=H^H<<1^H<<2^H<<3^H<<4;M[$]=G=G>>>8^255&G^99,Q[G]=$;var ue,Z=E[$],he=E[Z],se=E[he];w[$]=(ue=257*E[G]^16843008*G)<<24|ue>>>8,A[$]=ue<<16|ue>>>16,F[$]=ue<<8|ue>>>24,b[$]=ue,P[G]=(ue=16843009*se^65537*he^257*Z^16843008*$)<<24|ue>>>8,C[G]=ue<<16|ue>>>16,R[G]=ue<<8|ue>>>24,N[G]=ue,$?($=Z^E[E[E[se^Z]]],H^=E[E[H]]):$=H=1}}();var j=[0,1,2,4,8,16,32,64,128,27,54],k=le.AES=V.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var S=this._keyPriorReset=this._key,$=S.words,H=S.sigBytes/4,Z=4*((this._nRounds=H+6)+1),he=this._keySchedule=[],se=0;se<Z;se++)se<H?he[se]=$[se]:(E=he[se-1],se%H?H>6&&se%H==4&&(E=M[E>>>24]<<24|M[E>>>16&255]<<16|M[E>>>8&255]<<8|M[255&E]):(E=M[(E=E<<8|E>>>24)>>>24]<<24|M[E>>>16&255]<<16|M[E>>>8&255]<<8|M[255&E],E^=j[se/H|0]<<24),he[se]=he[se-H]^E);for(var ue=this._invKeySchedule=[],be=0;be<Z;be++){if(se=Z-be,be%4)var E=he[se];else E=he[se-4];ue[be]=be<4||se<=4?E:P[M[E>>>24]]^C[M[E>>>16&255]]^R[M[E>>>8&255]]^N[M[255&E]]}}},encryptBlock:function(E,S){this._doCryptBlock(E,S,this._keySchedule,w,A,F,b,M)},decryptBlock:function(E,S){var $=E[S+1];E[S+1]=E[S+3],E[S+3]=$,this._doCryptBlock(E,S,this._invKeySchedule,P,C,R,N,Q),$=E[S+1],E[S+1]=E[S+3],E[S+3]=$},_doCryptBlock:function(E,S,$,H,G,Z,he,se){for(var ue=this._nRounds,be=E[S]^$[0],X=E[S+1]^$[1],fe=E[S+2]^$[2],ye=E[S+3]^$[3],ce=4,de=1;de<ue;de++){var Ne=H[be>>>24]^G[X>>>16&255]^Z[fe>>>8&255]^he[255&ye]^$[ce++],me=H[X>>>24]^G[fe>>>16&255]^Z[ye>>>8&255]^he[255&be]^$[ce++],Te=H[fe>>>24]^G[ye>>>16&255]^Z[be>>>8&255]^he[255&X]^$[ce++],ee=H[ye>>>24]^G[be>>>16&255]^Z[X>>>8&255]^he[255&fe]^$[ce++];be=Ne,X=me,fe=Te,ye=ee}Ne=(se[be>>>24]<<24|se[X>>>16&255]<<16|se[fe>>>8&255]<<8|se[255&ye])^$[ce++],me=(se[X>>>24]<<24|se[fe>>>16&255]<<16|se[ye>>>8&255]<<8|se[255&be])^$[ce++],Te=(se[fe>>>24]<<24|se[ye>>>16&255]<<16|se[be>>>8&255]<<8|se[255&X])^$[ce++],ee=(se[ye>>>24]<<24|se[be>>>16&255]<<16|se[X>>>8&255]<<8|se[255&fe])^$[ce++],E[S]=Ne,E[S+1]=me,E[S+2]=Te,E[S+3]=ee},keySize:8});x.AES=V._createHelper(k)}(),U.AES)},172:function(we,Ee,I){var U;we.exports=(U=I(12),I(506),I(873),I(66),I(270),function(){var x=U,V=x.lib.BlockCipher;const M=16,Q=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],w=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var A={pbox:[],sbox:[]};function F(N,j){let H=N.sbox[0][j>>24&255]+N.sbox[1][j>>16&255];return H^=N.sbox[2][j>>8&255],H+=N.sbox[3][255&j],H}function b(N,j,k){let $,E=j,S=k;for(let H=0;H<M;++H)E^=N.pbox[H],S=F(N,E)^S,$=E,E=S,S=$;return $=E,E=S,S=$,S^=N.pbox[M],E^=N.pbox[M+1],{left:E,right:S}}var R=x.algo.Blowfish=V.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var N=this._keyPriorReset=this._key;!function C(N,j,k){for(let G=0;G<4;G++){N.sbox[G]=[];for(let Z=0;Z<256;Z++)N.sbox[G][Z]=w[G][Z]}let E=0;for(let G=0;G<M+2;G++)N.pbox[G]=Q[G]^j[E],E++,E>=k&&(E=0);let S=0,$=0,H=0;for(let G=0;G<M+2;G+=2)H=b(N,S,$),S=H.left,$=H.right,N.pbox[G]=S,N.pbox[G+1]=$;for(let G=0;G<4;G++)for(let Z=0;Z<256;Z+=2)H=b(N,S,$),S=H.left,$=H.right,N.sbox[G][Z]=S,N.sbox[G][Z+1]=$;return!0}(A,N.words,N.sigBytes/4)}},encryptBlock:function(N,j){var k=b(A,N[j],N[j+1]);N[j]=k.left,N[j+1]=k.right},decryptBlock:function(N,j){var k=function P(N,j,k){let $,E=j,S=k;for(let H=M+1;H>1;--H)E^=N.pbox[H],S=F(N,E)^S,$=E,E=S,S=$;return $=E,E=S,S=$,S^=N.pbox[1],E^=N.pbox[0],{left:E,right:S}}(A,N[j],N[j+1]);N[j]=k.left,N[j+1]=k.right},blockSize:2,keySize:4,ivSize:2});x.Blowfish=V._createHelper(R)}(),U.Blowfish)},270:function(we,Ee,I){var q,V,le,M,Q,w,F,P,C,N,j,k,S,H,Z,he,ue,be,U;we.exports=(U=I(12),I(66),void(U.lib.Cipher||(q=U,V=q.lib,le=V.Base,M=V.WordArray,Q=V.BufferedBlockAlgorithm,w=q.enc,F=w.Base64,P=q.algo.EvpKDF,C=V.Cipher=Q.extend({cfg:le.extend(),createEncryptor:function(X,fe){return this.create(this._ENC_XFORM_MODE,X,fe)},createDecryptor:function(X,fe){return this.create(this._DEC_XFORM_MODE,X,fe)},init:function(X,fe,ye){this.cfg=this.cfg.extend(ye),this._xformMode=X,this._key=fe,this.reset()},reset:function(){Q.reset.call(this),this._doReset()},process:function(X){return this._append(X),this._process()},finalize:function(X){return X&&this._append(X),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function X(fe){return"string"==typeof fe?be:he}return function(fe){return{encrypt:function(ye,ce,de){return X(ce).encrypt(fe,ye,ce,de)},decrypt:function(ye,ce,de){return X(ce).decrypt(fe,ye,ce,de)}}}}()}),V.StreamCipher=C.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),N=q.mode={},j=V.BlockCipherMode=le.extend({createEncryptor:function(X,fe){return this.Encryptor.create(X,fe)},createDecryptor:function(X,fe){return this.Decryptor.create(X,fe)},init:function(X,fe){this._cipher=X,this._iv=fe}}),k=N.CBC=function(){var X=j.extend();function fe(ye,ce,de){var Ne,me=this._iv;me?(Ne=me,this._iv=undefined):Ne=this._prevBlock;for(var Te=0;Te<de;Te++)ye[ce+Te]^=Ne[Te]}return X.Encryptor=X.extend({processBlock:function(ye,ce){var de=this._cipher,Ne=de.blockSize;fe.call(this,ye,ce,Ne),de.encryptBlock(ye,ce),this._prevBlock=ye.slice(ce,ce+Ne)}}),X.Decryptor=X.extend({processBlock:function(ye,ce){var de=this._cipher,Ne=de.blockSize,me=ye.slice(ce,ce+Ne);de.decryptBlock(ye,ce),fe.call(this,ye,ce,Ne),this._prevBlock=me}}),X}(),S=(q.pad={}).Pkcs7={pad:function(X,fe){for(var ye=4*fe,ce=ye-X.sigBytes%ye,de=ce<<24|ce<<16|ce<<8|ce,Ne=[],me=0;me<ce;me+=4)Ne.push(de);var Te=M.create(Ne,ce);X.concat(Te)},unpad:function(X){X.sigBytes-=255&X.words[X.sigBytes-1>>>2]}},V.BlockCipher=C.extend({cfg:C.cfg.extend({mode:k,padding:S}),reset:function(){var X;C.reset.call(this);var fe=this.cfg,ye=fe.iv,ce=fe.mode;this._xformMode==this._ENC_XFORM_MODE?X=ce.createEncryptor:(X=ce.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==X?this._mode.init(this,ye&&ye.words):(this._mode=X.call(ce,this,ye&&ye.words),this._mode.__creator=X)},_doProcessBlock:function(X,fe){this._mode.processBlock(X,fe)},_doFinalize:function(){var X,fe=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(fe.pad(this._data,this.blockSize),X=this._process(!0)):(X=this._process(!0),fe.unpad(X)),X},blockSize:4}),H=V.CipherParams=le.extend({init:function(X){this.mixIn(X)},toString:function(X){return(X||this.formatter).stringify(this)}}),Z=(q.format={}).OpenSSL={stringify:function(X){var ye=X.ciphertext,ce=X.salt;return(ce?M.create([1398893684,1701076831]).concat(ce).concat(ye):ye).toString(F)},parse:function(X){var fe,ye=F.parse(X),ce=ye.words;return 1398893684==ce[0]&&1701076831==ce[1]&&(fe=M.create(ce.slice(2,4)),ce.splice(0,4),ye.sigBytes-=16),H.create({ciphertext:ye,salt:fe})}},he=V.SerializableCipher=le.extend({cfg:le.extend({format:Z}),encrypt:function(X,fe,ye,ce){ce=this.cfg.extend(ce);var de=X.createEncryptor(ye,ce),Ne=de.finalize(fe),me=de.cfg;return H.create({ciphertext:Ne,key:ye,iv:me.iv,algorithm:X,mode:me.mode,padding:me.padding,blockSize:X.blockSize,formatter:ce.format})},decrypt:function(X,fe,ye,ce){return ce=this.cfg.extend(ce),fe=this._parse(fe,ce.format),X.createDecryptor(ye,ce).finalize(fe.ciphertext)},_parse:function(X,fe){return"string"==typeof X?fe.parse(X,this):X}}),ue=(q.kdf={}).OpenSSL={execute:function(X,fe,ye,ce,de){if(ce||(ce=M.random(8)),de)var Ne=P.create({keySize:fe+ye,hasher:de}).compute(X,ce);else Ne=P.create({keySize:fe+ye}).compute(X,ce);var me=M.create(Ne.words.slice(fe),4*ye);return Ne.sigBytes=4*fe,H.create({key:Ne,iv:me,salt:ce})}},be=V.PasswordBasedCipher=he.extend({cfg:he.cfg.extend({kdf:ue}),encrypt:function(X,fe,ye,ce){var de=(ce=this.cfg.extend(ce)).kdf.execute(ye,X.keySize,X.ivSize,ce.salt,ce.hasher);ce.iv=de.iv;var Ne=he.encrypt.call(this,X,fe,de.key,ce);return Ne.mixIn(de),Ne},decrypt:function(X,fe,ye,ce){ce=this.cfg.extend(ce),fe=this._parse(fe,ce.format);var de=ce.kdf.execute(ye,X.keySize,X.ivSize,fe.salt,ce.hasher);return ce.iv=de.iv,he.decrypt.call(this,X,fe,de.key,ce)}}))))},12:function(we,Ee,I){var U;we.exports=(U=U||function(x,q){var V;if(typeof window<"u"&&window.crypto&&(V=window.crypto),typeof self<"u"&&self.crypto&&(V=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(V=globalThis.crypto),!V&&typeof window<"u"&&window.msCrypto&&(V=window.msCrypto),!V&&typeof global<"u"&&global.crypto&&(V=global.crypto),!V)try{V=I(480)}catch{}var le=function(){if(V){if("function"==typeof V.getRandomValues)try{return V.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof V.randomBytes)try{return V.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},M=Object.create||function(){function E(){}return function(S){var $;return E.prototype=S,$=new E,E.prototype=null,$}}(),Q={},w=Q.lib={},A=w.Base={extend:function(E){var S=M(this);return E&&S.mixIn(E),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var S in E)E.hasOwnProperty(S)&&(this[S]=E[S]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}},F=w.WordArray=A.extend({init:function(E,S){E=this.words=E||[],this.sigBytes=null!=S?S:4*E.length},toString:function(E){return(E||P).stringify(this)},concat:function(E){var S=this.words,$=E.words,H=this.sigBytes,G=E.sigBytes;if(this.clamp(),H%4)for(var Z=0;Z<G;Z++)S[H+Z>>>2]|=($[Z>>>2]>>>24-Z%4*8&255)<<24-(H+Z)%4*8;else for(var se=0;se<G;se+=4)S[H+se>>>2]=$[se>>>2];return this.sigBytes+=G,this},clamp:function(){var E=this.words,S=this.sigBytes;E[S>>>2]&=4294967295<<32-S%4*8,E.length=x.ceil(S/4)},clone:function(){var E=A.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var S=[],$=0;$<E;$+=4)S.push(le());return new F.init(S,E)}}),b=Q.enc={},P=b.Hex={stringify:function(E){for(var S=E.words,$=E.sigBytes,H=[],G=0;G<$;G++){var Z=S[G>>>2]>>>24-G%4*8&255;H.push((Z>>>4).toString(16)),H.push((15&Z).toString(16))}return H.join("")},parse:function(E){for(var S=E.length,$=[],H=0;H<S;H+=2)$[H>>>3]|=parseInt(E.substr(H,2),16)<<24-H%8*4;return new F.init($,S/2)}},C=b.Latin1={stringify:function(E){for(var S=E.words,$=E.sigBytes,H=[],G=0;G<$;G++)H.push(String.fromCharCode(S[G>>>2]>>>24-G%4*8&255));return H.join("")},parse:function(E){for(var S=E.length,$=[],H=0;H<S;H++)$[H>>>2]|=(255&E.charCodeAt(H))<<24-H%4*8;return new F.init($,S)}},R=b.Utf8={stringify:function(E){try{return decodeURIComponent(escape(C.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return C.parse(unescape(encodeURIComponent(E)))}},N=w.BufferedBlockAlgorithm=A.extend({reset:function(){this._data=new F.init,this._nDataBytes=0},_append:function(E){"string"==typeof E&&(E=R.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var S,$=this._data,H=$.words,G=$.sigBytes,Z=this.blockSize,se=G/(4*Z),ue=(se=E?x.ceil(se):x.max((0|se)-this._minBufferSize,0))*Z,be=x.min(4*ue,G);if(ue){for(var X=0;X<ue;X+=Z)this._doProcessBlock(H,X);S=H.splice(0,ue),$.sigBytes-=be}return new F.init(S,be)},clone:function(){var E=A.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0}),k=(w.Hasher=N.extend({cfg:A.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){N.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){return E&&this._append(E),this._doFinalize()},blockSize:16,_createHelper:function(E){return function(S,$){return new E.init($).finalize(S)}},_createHmacHelper:function(E){return function(S,$){return new k.HMAC.init(E,$).finalize(S)}}}),Q.algo={});return Q}(Math),U)},506:function(we,Ee,I){var U,V;we.exports=(U=I(12),V=U.lib.WordArray,U.enc.Base64={stringify:function(w){var A=w.words,F=w.sigBytes,b=this._map;w.clamp();for(var P=[],C=0;C<F;C+=3)for(var k=(A[C>>>2]>>>24-C%4*8&255)<<16|(A[C+1>>>2]>>>24-(C+1)%4*8&255)<<8|A[C+2>>>2]>>>24-(C+2)%4*8&255,E=0;E<4&&C+.75*E<F;E++)P.push(b.charAt(k>>>6*(3-E)&63));var S=b.charAt(64);if(S)for(;P.length%4;)P.push(S);return P.join("")},parse:function(w){var A=w.length,F=this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var P=0;P<F.length;P++)b[F.charCodeAt(P)]=P}var C=F.charAt(64);if(C){var R=w.indexOf(C);-1!==R&&(A=R)}return function Q(w,A,F){for(var b=[],P=0,C=0;C<A;C++)if(C%4){var R=F[w.charCodeAt(C-1)]<<C%4*2,N=F[w.charCodeAt(C)]>>>6-C%4*2;b[P>>>2]|=(R|N)<<24-P%4*8,P++}return V.create(b,P)}(w,A,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},U.enc.Base64)},523:function(we,Ee,I){var U,V;we.exports=(U=I(12),V=U.lib.WordArray,U.enc.Base64url={stringify:function(w,A){void 0===A&&(A=!0);var F=w.words,b=w.sigBytes,P=A?this._safe_map:this._map;w.clamp();for(var C=[],R=0;R<b;R+=3)for(var E=(F[R>>>2]>>>24-R%4*8&255)<<16|(F[R+1>>>2]>>>24-(R+1)%4*8&255)<<8|F[R+2>>>2]>>>24-(R+2)%4*8&255,S=0;S<4&&R+.75*S<b;S++)C.push(P.charAt(E>>>6*(3-S)&63));var $=P.charAt(64);if($)for(;C.length%4;)C.push($);return C.join("")},parse:function(w,A){void 0===A&&(A=!0);var F=w.length,b=A?this._safe_map:this._map,P=this._reverseMap;if(!P){P=this._reverseMap=[];for(var C=0;C<b.length;C++)P[b.charCodeAt(C)]=C}var R=b.charAt(64);if(R){var N=w.indexOf(R);-1!==N&&(F=N)}return function Q(w,A,F){for(var b=[],P=0,C=0;C<A;C++)if(C%4){var R=F[w.charCodeAt(C-1)]<<C%4*2,N=F[w.charCodeAt(C)]>>>6-C%4*2;b[P>>>2]|=(R|N)<<24-P%4*8,P++}return V.create(b,P)}(w,F,P)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},U.enc.Base64url)},454:function(we,Ee,I){var U;we.exports=(U=I(12),function(){var V=U.lib.WordArray,le=U.enc;function Q(w){return w<<8&4278255360|w>>>8&16711935}le.Utf16=le.Utf16BE={stringify:function(w){for(var A=w.words,F=w.sigBytes,b=[],P=0;P<F;P+=2)b.push(String.fromCharCode(A[P>>>2]>>>16-P%4*8&65535));return b.join("")},parse:function(w){for(var A=w.length,F=[],b=0;b<A;b++)F[b>>>1]|=w.charCodeAt(b)<<16-b%2*16;return V.create(F,2*A)}},le.Utf16LE={stringify:function(w){for(var A=w.words,F=w.sigBytes,b=[],P=0;P<F;P+=2){var C=Q(A[P>>>2]>>>16-P%4*8&65535);b.push(String.fromCharCode(C))}return b.join("")},parse:function(w){for(var A=w.length,F=[],b=0;b<A;b++)F[b>>>1]|=Q(w.charCodeAt(b)<<16-b%2*16);return V.create(F,2*A)}}}(),U.enc.Utf16)},66:function(we,Ee,I){var x,q,V,le,M,w,U;we.exports=(U=I(12),I(446),I(990),le=(q=(x=U).lib).WordArray,w=(M=x.algo).EvpKDF=(V=q.Base).extend({cfg:V.extend({keySize:4,hasher:M.MD5,iterations:1}),init:function(A){this.cfg=this.cfg.extend(A)},compute:function(A,F){for(var b,P=this.cfg,C=P.hasher.create(),R=le.create(),N=R.words,j=P.keySize,k=P.iterations;N.length<j;){b&&C.update(b),b=C.update(A).finalize(F),C.reset();for(var E=1;E<k;E++)b=C.finalize(b),C.reset();R.concat(b)}return R.sigBytes=4*j,R}}),x.EvpKDF=function(A,F,b){return w.create(b).compute(A,F)},U.EvpKDF)},826:function(we,Ee,I){var U,le,Q;we.exports=(U=I(12),I(270),le=U.lib.CipherParams,Q=U.enc.Hex,U.format.Hex={stringify:function(F){return F.ciphertext.toString(Q)},parse:function(F){var b=Q.parse(F);return le.create({ciphertext:b})}},U.format.Hex)},990:function(we,Ee,I){var U,M;we.exports=(U=I(12),M=U.enc.Utf8,void(U.algo.HMAC=U.lib.Base.extend({init:function(A,F){A=this._hasher=new A.init,"string"==typeof F&&(F=M.parse(F));var b=A.blockSize,P=4*b;F.sigBytes>P&&(F=A.finalize(F)),F.clamp();for(var C=this._oKey=F.clone(),R=this._iKey=F.clone(),N=C.words,j=R.words,k=0;k<b;k++)N[k]^=1549556828,j[k]^=909522486;C.sigBytes=R.sigBytes=P,this.reset()},reset:function(){var A=this._hasher;A.reset(),A.update(this._iKey)},update:function(A){return this._hasher.update(A),this},finalize:function(A){var F=this._hasher,b=F.finalize(A);return F.reset(),F.finalize(this._oKey.clone().concat(b))}})))},874:function(we,Ee,I){var U;we.exports=(U=I(12),I(802),I(37),I(454),I(506),I(523),I(873),I(446),I(78),I(811),I(870),I(913),I(545),I(558),I(990),I(538),I(66),I(270),I(228),I(392),I(584),I(15),I(594),I(237),I(501),I(4),I(297),I(738),I(826),I(42),I(769),I(195),I(969),I(848),I(172),U)},37:function(we,Ee,I){var U;we.exports=(U=I(12),function(){if("function"==typeof ArrayBuffer){var V=U.lib.WordArray,le=V.init,M=V.init=function(Q){if(Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q)),(Q instanceof Int8Array||typeof Uint8ClampedArray<"u"&&Q instanceof Uint8ClampedArray||Q instanceof Int16Array||Q instanceof Uint16Array||Q instanceof Int32Array||Q instanceof Uint32Array||Q instanceof Float32Array||Q instanceof Float64Array)&&(Q=new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength)),Q instanceof Uint8Array){for(var w=Q.byteLength,A=[],F=0;F<w;F++)A[F>>>2]|=Q[F]<<24-F%4*8;le.call(this,A,w)}else le.apply(this,arguments)};M.prototype=V}}(),U.lib.WordArray)},873:function(we,Ee,I){var U;we.exports=(U=I(12),function(x){var q=U,V=q.lib,le=V.WordArray,M=V.Hasher,Q=q.algo,w=[];!function(){for(var R=0;R<64;R++)w[R]=4294967296*x.abs(x.sin(R+1))|0}();var A=Q.MD5=M.extend({_doReset:function(){this._hash=new le.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(R,N){for(var j=0;j<16;j++){var k=N+j,E=R[k];R[k]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8)}var S=this._hash.words,$=R[N+0],H=R[N+1],G=R[N+2],Z=R[N+3],he=R[N+4],se=R[N+5],ue=R[N+6],be=R[N+7],X=R[N+8],fe=R[N+9],ye=R[N+10],ce=R[N+11],de=R[N+12],Ne=R[N+13],me=R[N+14],Te=R[N+15],ee=S[0],re=S[1],ne=S[2],Y=S[3];ee=F(ee,re,ne,Y,$,7,w[0]),Y=F(Y,ee,re,ne,H,12,w[1]),ne=F(ne,Y,ee,re,G,17,w[2]),re=F(re,ne,Y,ee,Z,22,w[3]),ee=F(ee,re,ne,Y,he,7,w[4]),Y=F(Y,ee,re,ne,se,12,w[5]),ne=F(ne,Y,ee,re,ue,17,w[6]),re=F(re,ne,Y,ee,be,22,w[7]),ee=F(ee,re,ne,Y,X,7,w[8]),Y=F(Y,ee,re,ne,fe,12,w[9]),ne=F(ne,Y,ee,re,ye,17,w[10]),re=F(re,ne,Y,ee,ce,22,w[11]),ee=F(ee,re,ne,Y,de,7,w[12]),Y=F(Y,ee,re,ne,Ne,12,w[13]),ne=F(ne,Y,ee,re,me,17,w[14]),ee=b(ee,re=F(re,ne,Y,ee,Te,22,w[15]),ne,Y,H,5,w[16]),Y=b(Y,ee,re,ne,ue,9,w[17]),ne=b(ne,Y,ee,re,ce,14,w[18]),re=b(re,ne,Y,ee,$,20,w[19]),ee=b(ee,re,ne,Y,se,5,w[20]),Y=b(Y,ee,re,ne,ye,9,w[21]),ne=b(ne,Y,ee,re,Te,14,w[22]),re=b(re,ne,Y,ee,he,20,w[23]),ee=b(ee,re,ne,Y,fe,5,w[24]),Y=b(Y,ee,re,ne,me,9,w[25]),ne=b(ne,Y,ee,re,Z,14,w[26]),re=b(re,ne,Y,ee,X,20,w[27]),ee=b(ee,re,ne,Y,Ne,5,w[28]),Y=b(Y,ee,re,ne,G,9,w[29]),ne=b(ne,Y,ee,re,be,14,w[30]),ee=P(ee,re=b(re,ne,Y,ee,de,20,w[31]),ne,Y,se,4,w[32]),Y=P(Y,ee,re,ne,X,11,w[33]),ne=P(ne,Y,ee,re,ce,16,w[34]),re=P(re,ne,Y,ee,me,23,w[35]),ee=P(ee,re,ne,Y,H,4,w[36]),Y=P(Y,ee,re,ne,he,11,w[37]),ne=P(ne,Y,ee,re,be,16,w[38]),re=P(re,ne,Y,ee,ye,23,w[39]),ee=P(ee,re,ne,Y,Ne,4,w[40]),Y=P(Y,ee,re,ne,$,11,w[41]),ne=P(ne,Y,ee,re,Z,16,w[42]),re=P(re,ne,Y,ee,ue,23,w[43]),ee=P(ee,re,ne,Y,fe,4,w[44]),Y=P(Y,ee,re,ne,de,11,w[45]),ne=P(ne,Y,ee,re,Te,16,w[46]),ee=C(ee,re=P(re,ne,Y,ee,G,23,w[47]),ne,Y,$,6,w[48]),Y=C(Y,ee,re,ne,be,10,w[49]),ne=C(ne,Y,ee,re,me,15,w[50]),re=C(re,ne,Y,ee,se,21,w[51]),ee=C(ee,re,ne,Y,de,6,w[52]),Y=C(Y,ee,re,ne,Z,10,w[53]),ne=C(ne,Y,ee,re,ye,15,w[54]),re=C(re,ne,Y,ee,H,21,w[55]),ee=C(ee,re,ne,Y,X,6,w[56]),Y=C(Y,ee,re,ne,Te,10,w[57]),ne=C(ne,Y,ee,re,ue,15,w[58]),re=C(re,ne,Y,ee,Ne,21,w[59]),ee=C(ee,re,ne,Y,he,6,w[60]),Y=C(Y,ee,re,ne,ce,10,w[61]),ne=C(ne,Y,ee,re,G,15,w[62]),re=C(re,ne,Y,ee,fe,21,w[63]),S[0]=S[0]+ee|0,S[1]=S[1]+re|0,S[2]=S[2]+ne|0,S[3]=S[3]+Y|0},_doFinalize:function(){var R=this._data,N=R.words,j=8*this._nDataBytes,k=8*R.sigBytes;N[k>>>5]|=128<<24-k%32;var E=x.floor(j/4294967296),S=j;N[15+(k+64>>>9<<4)]=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),N[14+(k+64>>>9<<4)]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8),R.sigBytes=4*(N.length+1),this._process();for(var $=this._hash,H=$.words,G=0;G<4;G++){var Z=H[G];H[G]=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8)}return $},clone:function(){var R=M.clone.call(this);return R._hash=this._hash.clone(),R}});function F(R,N,j,k,E,S,$){var H=R+(N&j|~N&k)+E+$;return(H<<S|H>>>32-S)+N}function b(R,N,j,k,E,S,$){var H=R+(N&k|j&~k)+E+$;return(H<<S|H>>>32-S)+N}function P(R,N,j,k,E,S,$){var H=R+(N^j^k)+E+$;return(H<<S|H>>>32-S)+N}function C(R,N,j,k,E,S,$){var H=R+(j^(N|~k))+E+$;return(H<<S|H>>>32-S)+N}q.MD5=M._createHelper(A),q.HmacMD5=M._createHmacHelper(A)}(Math),U.MD5)},228:function(we,Ee,I){var U;we.exports=(U=I(12),I(270),U.mode.CFB=function(){var x=U.lib.BlockCipherMode.extend();function q(V,le,M,Q){var w,A=this._iv;A?(w=A.slice(0),this._iv=void 0):w=this._prevBlock,Q.encryptBlock(w,0);for(var F=0;F<M;F++)V[le+F]^=w[F]}return x.Encryptor=x.extend({processBlock:function(V,le){var M=this._cipher,Q=M.blockSize;q.call(this,V,le,Q,M),this._prevBlock=V.slice(le,le+Q)}}),x.Decryptor=x.extend({processBlock:function(V,le){var M=this._cipher,Q=M.blockSize,w=V.slice(le,le+Q);q.call(this,V,le,Q,M),this._prevBlock=w}}),x}(),U.mode.CFB)},584:function(we,Ee,I){var U;we.exports=(U=I(12),I(270),U.mode.CTRGladman=function(){var x=U.lib.BlockCipherMode.extend();function q(M){if(255==(M>>24&255)){var Q=M>>16&255,w=M>>8&255,A=255&M;255===Q?(Q=0,255===w?(w=0,255===A?A=0:++A):++w):++Q,M=0,M+=Q<<16,M+=w<<8,M+=A}else M+=1<<24;return M}var le=x.Encryptor=x.extend({processBlock:function(M,Q){var w=this._cipher,A=w.blockSize,F=this._iv,b=this._counter;F&&(b=this._counter=F.slice(0),this._iv=void 0),function V(M){return 0===(M[0]=q(M[0]))&&(M[1]=q(M[1])),M}(b);var P=b.slice(0);w.encryptBlock(P,0);for(var C=0;C<A;C++)M[Q+C]^=P[C]}});return x.Decryptor=le,x}(),U.mode.CTRGladman)},392:function(we,Ee,I){var x,q,U;we.exports=(U=I(12),I(270),U.mode.CTR=(q=(x=U.lib.BlockCipherMode.extend()).Encryptor=x.extend({processBlock:function(V,le){var M=this._cipher,Q=M.blockSize,w=this._iv,A=this._counter;w&&(A=this._counter=w.slice(0),this._iv=void 0);var F=A.slice(0);M.encryptBlock(F,0),A[Q-1]=A[Q-1]+1|0;for(var b=0;b<Q;b++)V[le+b]^=F[b]}}),x.Decryptor=q,x),U.mode.CTR)},594:function(we,Ee,I){var x,U;we.exports=(U=I(12),I(270),U.mode.ECB=((x=U.lib.BlockCipherMode.extend()).Encryptor=x.extend({processBlock:function(q,V){this._cipher.encryptBlock(q,V)}}),x.Decryptor=x.extend({processBlock:function(q,V){this._cipher.decryptBlock(q,V)}}),x),U.mode.ECB)},15:function(we,Ee,I){var x,q,U;we.exports=(U=I(12),I(270),U.mode.OFB=(q=(x=U.lib.BlockCipherMode.extend()).Encryptor=x.extend({processBlock:function(V,le){var M=this._cipher,Q=M.blockSize,w=this._iv,A=this._keystream;w&&(A=this._keystream=w.slice(0),this._iv=void 0),M.encryptBlock(A,0);for(var F=0;F<Q;F++)V[le+F]^=A[F]}}),x.Decryptor=q,x),U.mode.OFB)},237:function(we,Ee,I){var U;we.exports=(U=I(12),I(270),U.pad.AnsiX923={pad:function(x,q){var V=x.sigBytes,le=4*q,M=le-V%le,Q=V+M-1;x.clamp(),x.words[Q>>>2]|=M<<24-Q%4*8,x.sigBytes+=M},unpad:function(x){x.sigBytes-=255&x.words[x.sigBytes-1>>>2]}},U.pad.Ansix923)},501:function(we,Ee,I){var U;we.exports=(U=I(12),I(270),U.pad.Iso10126={pad:function(x,q){var V=4*q,le=V-x.sigBytes%V;x.concat(U.lib.WordArray.random(le-1)).concat(U.lib.WordArray.create([le<<24],1))},unpad:function(x){x.sigBytes-=255&x.words[x.sigBytes-1>>>2]}},U.pad.Iso10126)},4:function(we,Ee,I){var U;we.exports=(U=I(12),I(270),U.pad.Iso97971={pad:function(x,q){x.concat(U.lib.WordArray.create([2147483648],1)),U.pad.ZeroPadding.pad(x,q)},unpad:function(x){U.pad.ZeroPadding.unpad(x),x.sigBytes--}},U.pad.Iso97971)},738:function(we,Ee,I){var U;we.exports=(U=I(12),I(270),U.pad.NoPadding={pad:function(){},unpad:function(){}},U.pad.NoPadding)},297:function(we,Ee,I){var U;we.exports=(U=I(12),I(270),U.pad.ZeroPadding={pad:function(x,q){var V=4*q;x.clamp(),x.sigBytes+=V-(x.sigBytes%V||V)},unpad:function(x){var q=x.words,V=x.sigBytes-1;for(V=x.sigBytes-1;V>=0;V--)if(q[V>>>2]>>>24-V%4*8&255){x.sigBytes=V+1;break}}},U.pad.ZeroPadding)},538:function(we,Ee,I){var x,q,V,le,M,w,A,U;we.exports=(U=I(12),I(78),I(990),le=(q=(x=U).lib).WordArray,w=(M=x.algo).HMAC,A=M.PBKDF2=(V=q.Base).extend({cfg:V.extend({keySize:4,hasher:M.SHA256,iterations:25e4}),init:function(F){this.cfg=this.cfg.extend(F)},compute:function(F,b){for(var P=this.cfg,C=w.create(P.hasher,F),R=le.create(),N=le.create([1]),j=R.words,k=N.words,E=P.keySize,S=P.iterations;j.length<E;){var $=C.update(b).finalize(N);C.reset();for(var H=$.words,G=H.length,Z=$,he=1;he<S;he++){Z=C.finalize(Z),C.reset();for(var se=Z.words,ue=0;ue<G;ue++)H[ue]^=se[ue]}R.concat($),k[0]++}return R.sigBytes=4*E,R}}),x.PBKDF2=function(F,b,P){return A.create(P).compute(F,b)},U.PBKDF2)},848:function(we,Ee,I){var U;we.exports=(U=I(12),I(506),I(873),I(66),I(270),function(){var x=U,V=x.lib.StreamCipher,M=[],Q=[],w=[],A=x.algo.RabbitLegacy=V.extend({_doReset:function(){var b=this._key.words,P=this.cfg.iv,C=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],R=this._C=[b[2]<<16|b[2]>>>16,4294901760&b[0]|65535&b[1],b[3]<<16|b[3]>>>16,4294901760&b[1]|65535&b[2],b[0]<<16|b[0]>>>16,4294901760&b[2]|65535&b[3],b[1]<<16|b[1]>>>16,4294901760&b[3]|65535&b[0]];this._b=0;for(var N=0;N<4;N++)F.call(this);for(N=0;N<8;N++)R[N]^=C[N+4&7];if(P){var j=P.words,k=j[0],E=j[1],S=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),$=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),H=S>>>16|4294901760&$,G=$<<16|65535&S;for(R[0]^=S,R[1]^=H,R[2]^=$,R[3]^=G,R[4]^=S,R[5]^=H,R[6]^=$,R[7]^=G,N=0;N<4;N++)F.call(this)}},_doProcessBlock:function(b,P){var C=this._X;F.call(this),M[0]=C[0]^C[5]>>>16^C[3]<<16,M[1]=C[2]^C[7]>>>16^C[5]<<16,M[2]=C[4]^C[1]>>>16^C[7]<<16,M[3]=C[6]^C[3]>>>16^C[1]<<16;for(var R=0;R<4;R++)M[R]=16711935&(M[R]<<8|M[R]>>>24)|4278255360&(M[R]<<24|M[R]>>>8),b[P+R]^=M[R]},blockSize:4,ivSize:2});function F(){for(var b=this._X,P=this._C,C=0;C<8;C++)Q[C]=P[C];for(P[0]=P[0]+1295307597+this._b|0,P[1]=P[1]+3545052371+(P[0]>>>0<Q[0]>>>0?1:0)|0,P[2]=P[2]+886263092+(P[1]>>>0<Q[1]>>>0?1:0)|0,P[3]=P[3]+1295307597+(P[2]>>>0<Q[2]>>>0?1:0)|0,P[4]=P[4]+3545052371+(P[3]>>>0<Q[3]>>>0?1:0)|0,P[5]=P[5]+886263092+(P[4]>>>0<Q[4]>>>0?1:0)|0,P[6]=P[6]+1295307597+(P[5]>>>0<Q[5]>>>0?1:0)|0,P[7]=P[7]+3545052371+(P[6]>>>0<Q[6]>>>0?1:0)|0,this._b=P[7]>>>0<Q[7]>>>0?1:0,C=0;C<8;C++){var R=b[C]+P[C],N=65535&R,j=R>>>16;w[C]=((N*N>>>17)+N*j>>>15)+j*j^((4294901760&R)*R|0)+((65535&R)*R|0)}b[0]=w[0]+(w[7]<<16|w[7]>>>16)+(w[6]<<16|w[6]>>>16)|0,b[1]=w[1]+(w[0]<<8|w[0]>>>24)+w[7]|0,b[2]=w[2]+(w[1]<<16|w[1]>>>16)+(w[0]<<16|w[0]>>>16)|0,b[3]=w[3]+(w[2]<<8|w[2]>>>24)+w[1]|0,b[4]=w[4]+(w[3]<<16|w[3]>>>16)+(w[2]<<16|w[2]>>>16)|0,b[5]=w[5]+(w[4]<<8|w[4]>>>24)+w[3]|0,b[6]=w[6]+(w[5]<<16|w[5]>>>16)+(w[4]<<16|w[4]>>>16)|0,b[7]=w[7]+(w[6]<<8|w[6]>>>24)+w[5]|0}x.RabbitLegacy=V._createHelper(A)}(),U.RabbitLegacy)},969:function(we,Ee,I){var U;we.exports=(U=I(12),I(506),I(873),I(66),I(270),function(){var x=U,V=x.lib.StreamCipher,M=[],Q=[],w=[],A=x.algo.Rabbit=V.extend({_doReset:function(){for(var b=this._key.words,P=this.cfg.iv,C=0;C<4;C++)b[C]=16711935&(b[C]<<8|b[C]>>>24)|4278255360&(b[C]<<24|b[C]>>>8);var R=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],N=this._C=[b[2]<<16|b[2]>>>16,4294901760&b[0]|65535&b[1],b[3]<<16|b[3]>>>16,4294901760&b[1]|65535&b[2],b[0]<<16|b[0]>>>16,4294901760&b[2]|65535&b[3],b[1]<<16|b[1]>>>16,4294901760&b[3]|65535&b[0]];for(this._b=0,C=0;C<4;C++)F.call(this);for(C=0;C<8;C++)N[C]^=R[C+4&7];if(P){var j=P.words,k=j[0],E=j[1],S=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8),$=16711935&(E<<8|E>>>24)|4278255360&(E<<24|E>>>8),H=S>>>16|4294901760&$,G=$<<16|65535&S;for(N[0]^=S,N[1]^=H,N[2]^=$,N[3]^=G,N[4]^=S,N[5]^=H,N[6]^=$,N[7]^=G,C=0;C<4;C++)F.call(this)}},_doProcessBlock:function(b,P){var C=this._X;F.call(this),M[0]=C[0]^C[5]>>>16^C[3]<<16,M[1]=C[2]^C[7]>>>16^C[5]<<16,M[2]=C[4]^C[1]>>>16^C[7]<<16,M[3]=C[6]^C[3]>>>16^C[1]<<16;for(var R=0;R<4;R++)M[R]=16711935&(M[R]<<8|M[R]>>>24)|4278255360&(M[R]<<24|M[R]>>>8),b[P+R]^=M[R]},blockSize:4,ivSize:2});function F(){for(var b=this._X,P=this._C,C=0;C<8;C++)Q[C]=P[C];for(P[0]=P[0]+1295307597+this._b|0,P[1]=P[1]+3545052371+(P[0]>>>0<Q[0]>>>0?1:0)|0,P[2]=P[2]+886263092+(P[1]>>>0<Q[1]>>>0?1:0)|0,P[3]=P[3]+1295307597+(P[2]>>>0<Q[2]>>>0?1:0)|0,P[4]=P[4]+3545052371+(P[3]>>>0<Q[3]>>>0?1:0)|0,P[5]=P[5]+886263092+(P[4]>>>0<Q[4]>>>0?1:0)|0,P[6]=P[6]+1295307597+(P[5]>>>0<Q[5]>>>0?1:0)|0,P[7]=P[7]+3545052371+(P[6]>>>0<Q[6]>>>0?1:0)|0,this._b=P[7]>>>0<Q[7]>>>0?1:0,C=0;C<8;C++){var R=b[C]+P[C],N=65535&R,j=R>>>16;w[C]=((N*N>>>17)+N*j>>>15)+j*j^((4294901760&R)*R|0)+((65535&R)*R|0)}b[0]=w[0]+(w[7]<<16|w[7]>>>16)+(w[6]<<16|w[6]>>>16)|0,b[1]=w[1]+(w[0]<<8|w[0]>>>24)+w[7]|0,b[2]=w[2]+(w[1]<<16|w[1]>>>16)+(w[0]<<16|w[0]>>>16)|0,b[3]=w[3]+(w[2]<<8|w[2]>>>24)+w[1]|0,b[4]=w[4]+(w[3]<<16|w[3]>>>16)+(w[2]<<16|w[2]>>>16)|0,b[5]=w[5]+(w[4]<<8|w[4]>>>24)+w[3]|0,b[6]=w[6]+(w[5]<<16|w[5]>>>16)+(w[4]<<16|w[4]>>>16)|0,b[7]=w[7]+(w[6]<<8|w[6]>>>24)+w[5]|0}x.Rabbit=V._createHelper(A)}(),U.Rabbit)},195:function(we,Ee,I){var U;we.exports=(U=I(12),I(506),I(873),I(66),I(270),function(){var x=U,V=x.lib.StreamCipher,le=x.algo,M=le.RC4=V.extend({_doReset:function(){for(var A=this._key,F=A.words,b=A.sigBytes,P=this._S=[],C=0;C<256;C++)P[C]=C;C=0;for(var R=0;C<256;C++){var N=C%b,k=P[C];P[C]=P[R=(R+P[C]+(F[N>>>2]>>>24-N%4*8&255))%256],P[R]=k}this._i=this._j=0},_doProcessBlock:function(A,F){A[F]^=Q.call(this)},keySize:8,ivSize:0});function Q(){for(var A=this._S,F=this._i,b=this._j,P=0,C=0;C<4;C++){var R=A[F=(F+1)%256];A[F]=A[b=(b+A[F])%256],A[b]=R,P|=A[(A[F]+A[b])%256]<<24-8*C}return this._i=F,this._j=b,P}x.RC4=V._createHelper(M);var w=le.RC4Drop=M.extend({cfg:M.cfg.extend({drop:192}),_doReset:function(){M._doReset.call(this);for(var A=this.cfg.drop;A>0;A--)Q.call(this)}});x.RC4Drop=V._createHelper(w)}(),U.RC4)},558:function(we,Ee,I){var U;we.exports=(U=I(12),function(x){var q=U,V=q.lib,le=V.WordArray,M=V.Hasher,Q=q.algo,w=le.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),A=le.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),F=le.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),b=le.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),P=le.create([0,1518500249,1859775393,2400959708,2840853838]),C=le.create([1352829926,1548603684,1836072691,2053994217,0]),R=Q.RIPEMD160=M.extend({_doReset:function(){this._hash=le.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(H,G){for(var Z=0;Z<16;Z++){var he=G+Z,se=H[he];H[he]=16711935&(se<<8|se>>>24)|4278255360&(se<<24|se>>>8)}var Ne,me,Te,ee,re,ne,Y,Pe,st,Ht,We,ue=this._hash.words,be=P.words,X=C.words,fe=w.words,ye=A.words,ce=F.words,de=b.words;for(ne=Ne=ue[0],Y=me=ue[1],Pe=Te=ue[2],st=ee=ue[3],Ht=re=ue[4],Z=0;Z<80;Z+=1)We=Ne+H[G+fe[Z]]|0,We+=Z<16?N(me,Te,ee)+be[0]:Z<32?j(me,Te,ee)+be[1]:Z<48?k(me,Te,ee)+be[2]:Z<64?E(me,Te,ee)+be[3]:S(me,Te,ee)+be[4],We=(We=$(We|=0,ce[Z]))+re|0,Ne=re,re=ee,ee=$(Te,10),Te=me,me=We,We=ne+H[G+ye[Z]]|0,We+=Z<16?S(Y,Pe,st)+X[0]:Z<32?E(Y,Pe,st)+X[1]:Z<48?k(Y,Pe,st)+X[2]:Z<64?j(Y,Pe,st)+X[3]:N(Y,Pe,st)+X[4],We=(We=$(We|=0,de[Z]))+Ht|0,ne=Ht,Ht=st,st=$(Pe,10),Pe=Y,Y=We;We=ue[1]+Te+st|0,ue[1]=ue[2]+ee+Ht|0,ue[2]=ue[3]+re+ne|0,ue[3]=ue[4]+Ne+Y|0,ue[4]=ue[0]+me+Pe|0,ue[0]=We},_doFinalize:function(){var H=this._data,G=H.words,Z=8*this._nDataBytes,he=8*H.sigBytes;G[he>>>5]|=128<<24-he%32,G[14+(he+64>>>9<<4)]=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8),H.sigBytes=4*(G.length+1),this._process();for(var se=this._hash,ue=se.words,be=0;be<5;be++){var X=ue[be];ue[be]=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8)}return se},clone:function(){var H=M.clone.call(this);return H._hash=this._hash.clone(),H}});function N(H,G,Z){return H^G^Z}function j(H,G,Z){return H&G|~H&Z}function k(H,G,Z){return(H|~G)^Z}function E(H,G,Z){return H&Z|G&~Z}function S(H,G,Z){return H^(G|~Z)}function $(H,G){return H<<G|H>>>32-G}q.RIPEMD160=M._createHelper(R),q.HmacRIPEMD160=M._createHmacHelper(R)}(Math),U.RIPEMD160)},446:function(we,Ee,I){var x,q,V,le,Q,w,U;we.exports=(U=I(12),V=(q=(x=U).lib).WordArray,Q=[],w=x.algo.SHA1=(le=q.Hasher).extend({_doReset:function(){this._hash=new V.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,F){for(var b=this._hash.words,P=b[0],C=b[1],R=b[2],N=b[3],j=b[4],k=0;k<80;k++){if(k<16)Q[k]=0|A[F+k];else{var E=Q[k-3]^Q[k-8]^Q[k-14]^Q[k-16];Q[k]=E<<1|E>>>31}var S=(P<<5|P>>>27)+j+Q[k];S+=k<20?1518500249+(C&R|~C&N):k<40?1859775393+(C^R^N):k<60?(C&R|C&N|R&N)-1894007588:(C^R^N)-899497514,j=N,N=R,R=C<<30|C>>>2,C=P,P=S}b[0]=b[0]+P|0,b[1]=b[1]+C|0,b[2]=b[2]+R|0,b[3]=b[3]+N|0,b[4]=b[4]+j|0},_doFinalize:function(){var A=this._data,F=A.words,b=8*this._nDataBytes,P=8*A.sigBytes;return F[P>>>5]|=128<<24-P%32,F[14+(P+64>>>9<<4)]=Math.floor(b/4294967296),F[15+(P+64>>>9<<4)]=b,A.sigBytes=4*F.length,this._process(),this._hash},clone:function(){var A=le.clone.call(this);return A._hash=this._hash.clone(),A}}),x.SHA1=le._createHelper(w),x.HmacSHA1=le._createHmacHelper(w),U.SHA1)},811:function(we,Ee,I){var x,V,le,M,Q,U;we.exports=(U=I(12),I(78),V=(x=U).lib.WordArray,Q=(le=x.algo).SHA224=(M=le.SHA256).extend({_doReset:function(){this._hash=new V.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var w=M._doFinalize.call(this);return w.sigBytes-=4,w}}),x.SHA224=M._createHelper(Q),x.HmacSHA224=M._createHmacHelper(Q),U.SHA224)},78:function(we,Ee,I){var U;we.exports=(U=I(12),function(x){var q=U,V=q.lib,le=V.WordArray,M=V.Hasher,Q=q.algo,w=[],A=[];!function(){function P(j){for(var k=x.sqrt(j),E=2;E<=k;E++)if(!(j%E))return!1;return!0}function C(j){return 4294967296*(j-(0|j))|0}for(var R=2,N=0;N<64;)P(R)&&(N<8&&(w[N]=C(x.pow(R,.5))),A[N]=C(x.pow(R,1/3)),N++),R++}();var F=[],b=Q.SHA256=M.extend({_doReset:function(){this._hash=new le.init(w.slice(0))},_doProcessBlock:function(P,C){for(var R=this._hash.words,N=R[0],j=R[1],k=R[2],E=R[3],S=R[4],$=R[5],H=R[6],G=R[7],Z=0;Z<64;Z++){if(Z<16)F[Z]=0|P[C+Z];else{var he=F[Z-15],ue=F[Z-2];F[Z]=((he<<25|he>>>7)^(he<<14|he>>>18)^he>>>3)+F[Z-7]+((ue<<15|ue>>>17)^(ue<<13|ue>>>19)^ue>>>10)+F[Z-16]}var fe=N&j^N&k^j&k,de=G+((S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25))+(S&$^~S&H)+A[Z]+F[Z];G=H,H=$,$=S,S=E+de|0,E=k,k=j,j=N,N=de+(((N<<30|N>>>2)^(N<<19|N>>>13)^(N<<10|N>>>22))+fe)|0}R[0]=R[0]+N|0,R[1]=R[1]+j|0,R[2]=R[2]+k|0,R[3]=R[3]+E|0,R[4]=R[4]+S|0,R[5]=R[5]+$|0,R[6]=R[6]+H|0,R[7]=R[7]+G|0},_doFinalize:function(){var P=this._data,C=P.words,R=8*this._nDataBytes,N=8*P.sigBytes;return C[N>>>5]|=128<<24-N%32,C[14+(N+64>>>9<<4)]=x.floor(R/4294967296),C[15+(N+64>>>9<<4)]=R,P.sigBytes=4*C.length,this._process(),this._hash},clone:function(){var P=M.clone.call(this);return P._hash=this._hash.clone(),P}});q.SHA256=M._createHelper(b),q.HmacSHA256=M._createHmacHelper(b)}(Math),U.SHA256)},545:function(we,Ee,I){var U;we.exports=(U=I(12),I(802),function(x){var q=U,V=q.lib,le=V.WordArray,M=V.Hasher,w=q.x64.Word,A=q.algo,F=[],b=[],P=[];!function(){for(var N=1,j=0,k=0;k<24;k++){F[N+5*j]=(k+1)*(k+2)/2%64;var S=(2*N+3*j)%5;N=j%5,j=S}for(N=0;N<5;N++)for(j=0;j<5;j++)b[N+5*j]=j+(2*N+3*j)%5*5;for(var $=1,H=0;H<24;H++){for(var G=0,Z=0,he=0;he<7;he++){if(1&$){var se=(1<<he)-1;se<32?Z^=1<<se:G^=1<<se-32}128&$?$=$<<1^113:$<<=1}P[H]=w.create(G,Z)}}();var C=[];!function(){for(var N=0;N<25;N++)C[N]=w.create()}();var R=A.SHA3=M.extend({cfg:M.cfg.extend({outputLength:512}),_doReset:function(){for(var N=this._state=[],j=0;j<25;j++)N[j]=new w.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(N,j){for(var k=this._state,E=this.blockSize/2,S=0;S<E;S++){var $=N[j+2*S],H=N[j+2*S+1];$=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8),(G=k[S]).high^=H=16711935&(H<<8|H>>>24)|4278255360&(H<<24|H>>>8),G.low^=$}for(var Z=0;Z<24;Z++){for(var he=0;he<5;he++){for(var se=0,ue=0,be=0;be<5;be++)se^=(G=k[he+5*be]).high,ue^=G.low;var X=C[he];X.high=se,X.low=ue}for(he=0;he<5;he++){var fe=C[(he+4)%5],ye=C[(he+1)%5],ce=ye.high,de=ye.low;for(se=fe.high^(ce<<1|de>>>31),ue=fe.low^(de<<1|ce>>>31),be=0;be<5;be++)(G=k[he+5*be]).high^=se,G.low^=ue}for(var Ne=1;Ne<25;Ne++){var me=(G=k[Ne]).high,Te=G.low,ee=F[Ne];ee<32?(se=me<<ee|Te>>>32-ee,ue=Te<<ee|me>>>32-ee):(se=Te<<ee-32|me>>>64-ee,ue=me<<ee-32|Te>>>64-ee);var re=C[b[Ne]];re.high=se,re.low=ue}var ne=C[0],Y=k[0];for(ne.high=Y.high,ne.low=Y.low,he=0;he<5;he++)for(be=0;be<5;be++){var Pe=C[Ne=he+5*be],st=C[(he+1)%5+5*be],Ht=C[(he+2)%5+5*be];(G=k[Ne]).high=Pe.high^~st.high&Ht.high,G.low=Pe.low^~st.low&Ht.low}var G,We=P[Z];(G=k[0]).high^=We.high,G.low^=We.low}},_doFinalize:function(){var N=this._data,j=N.words,E=8*N.sigBytes,S=32*this.blockSize;j[E>>>5]|=1<<24-E%32,j[(x.ceil((E+1)/S)*S>>>5)-1]|=128,N.sigBytes=4*j.length,this._process();for(var $=this._state,H=this.cfg.outputLength/8,G=H/8,Z=[],he=0;he<G;he++){var se=$[he],ue=se.high,be=se.low;ue=16711935&(ue<<8|ue>>>24)|4278255360&(ue<<24|ue>>>8),Z.push(be=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8)),Z.push(ue)}return new le.init(Z,H)},clone:function(){for(var N=M.clone.call(this),j=N._state=this._state.slice(0),k=0;k<25;k++)j[k]=j[k].clone();return N}});q.SHA3=M._createHelper(R),q.HmacSHA3=M._createHmacHelper(R)}(Math),U.SHA3)},913:function(we,Ee,I){var x,q,V,le,M,Q,w,U;we.exports=(U=I(12),I(802),I(870),V=(q=(x=U).x64).Word,le=q.WordArray,w=(M=x.algo).SHA384=(Q=M.SHA512).extend({_doReset:function(){this._hash=new le.init([new V.init(3418070365,3238371032),new V.init(1654270250,914150663),new V.init(2438529370,812702999),new V.init(355462360,4144912697),new V.init(1731405415,4290775857),new V.init(2394180231,1750603025),new V.init(3675008525,1694076839),new V.init(1203062813,3204075428)])},_doFinalize:function(){var A=Q._doFinalize.call(this);return A.sigBytes-=16,A}}),x.SHA384=Q._createHelper(w),x.HmacSHA384=Q._createHmacHelper(w),U.SHA384)},870:function(we,Ee,I){var U;we.exports=(U=I(12),I(802),function(){var x=U,V=x.lib.Hasher,le=x.x64,M=le.Word,Q=le.WordArray,w=x.algo;function A(){return M.create.apply(M,arguments)}var F=[A(1116352408,3609767458),A(1899447441,602891725),A(3049323471,3964484399),A(3921009573,2173295548),A(961987163,4081628472),A(1508970993,3053834265),A(2453635748,2937671579),A(2870763221,3664609560),A(3624381080,2734883394),A(310598401,1164996542),A(607225278,1323610764),A(1426881987,3590304994),A(1925078388,4068182383),A(2162078206,991336113),A(2614888103,633803317),A(3248222580,3479774868),A(3835390401,2666613458),A(4022224774,944711139),A(264347078,2341262773),A(604807628,2007800933),A(770255983,1495990901),A(1249150122,1856431235),A(1555081692,3175218132),A(1996064986,2198950837),A(2554220882,3999719339),A(2821834349,766784016),A(2952996808,2566594879),A(3210313671,3203337956),A(3336571891,1034457026),A(3584528711,2466948901),A(113926993,3758326383),A(338241895,168717936),A(666307205,1188179964),A(773529912,1546045734),A(1294757372,1522805485),A(1396182291,2643833823),A(1695183700,2343527390),A(1986661051,1014477480),A(2177026350,1206759142),A(2456956037,344077627),A(2730485921,1290863460),A(2820302411,3158454273),A(3259730800,3505952657),A(3345764771,106217008),A(3516065817,3606008344),A(3600352804,1432725776),A(4094571909,1467031594),A(275423344,851169720),A(430227734,3100823752),A(506948616,1363258195),A(659060556,3750685593),A(883997877,3785050280),A(958139571,3318307427),A(1322822218,3812723403),A(1537002063,2003034995),A(1747873779,3602036899),A(1955562222,1575990012),A(2024104815,1125592928),A(2227730452,2716904306),A(2361852424,442776044),A(2428436474,593698344),A(2756734187,3733110249),A(3204031479,2999351573),A(3329325298,3815920427),A(3391569614,3928383900),A(3515267271,566280711),A(3940187606,3454069534),A(4118630271,4000239992),A(116418474,1914138554),A(174292421,2731055270),A(289380356,3203993006),A(460393269,320620315),A(685471733,587496836),A(852142971,1086792851),A(1017036298,365543100),A(1126000580,2618297676),A(1288033470,3409855158),A(1501505948,4234509866),A(1607167915,987167468),A(1816402316,1246189591)],b=[];!function(){for(var C=0;C<80;C++)b[C]=A()}();var P=w.SHA512=V.extend({_doReset:function(){this._hash=new Q.init([new M.init(1779033703,4089235720),new M.init(3144134277,2227873595),new M.init(1013904242,4271175723),new M.init(2773480762,1595750129),new M.init(1359893119,2917565137),new M.init(2600822924,725511199),new M.init(528734635,4215389547),new M.init(1541459225,327033209)])},_doProcessBlock:function(C,R){for(var N=this._hash.words,j=N[0],k=N[1],E=N[2],S=N[3],$=N[4],H=N[5],G=N[6],Z=N[7],he=j.high,se=j.low,ue=k.high,be=k.low,X=E.high,fe=E.low,ye=S.high,ce=S.low,de=$.high,Ne=$.low,me=H.high,Te=H.low,ee=G.high,re=G.low,ne=Z.high,Y=Z.low,Pe=he,st=se,Ht=ue,We=be,gi=X,mr=fe,Yr=ye,mi=ce,et=de,cn=Ne,Qr=me,_r=Te,Gt=ee,_i=re,Xi=ne,Br=Y,Jt=0;Jt<80;Jt++){var un,vr,vi=b[Jt];if(Jt<16)vr=vi.high=0|C[R+2*Jt],un=vi.low=0|C[R+2*Jt+1];else{var Do=b[Jt-15],Xr=Do.high,yi=Do.low,yr=(yi>>>1|Xr<<31)^(yi>>>8|Xr<<24)^(yi>>>7|Xr<<25),xi=b[Jt-2],Ci=xi.high,Vr=xi.low,Ji=(Vr>>>19|Ci<<13)^(Vr<<3|Ci>>>29)^(Vr>>>6|Ci<<26),Oa=b[Jt-7],Fa=b[Jt-16],Cs=Fa.low;vi.high=vr=(vr=(vr=((Xr>>>1|yi<<31)^(Xr>>>8|yi<<24)^Xr>>>7)+Oa.high+((un=yr+Oa.low)>>>0<yr>>>0?1:0))+((Ci>>>19|Vr<<13)^(Ci<<3|Vr>>>29)^Ci>>>6)+((un+=Ji)>>>0<Ji>>>0?1:0))+Fa.high+((un+=Cs)>>>0<Cs>>>0?1:0),vi.low=un}var bn,Io=et&Qr^~et&Gt,Cr=cn&_r^~cn&_i,Gc=Pe&Ht^Pe&gi^Ht&gi,ws=(st>>>28|Pe<<4)^(st<<30|Pe>>>2)^(st<<25|Pe>>>7),La=F[Jt],Ds=La.low,tt=Xi+((et>>>14|cn<<18)^(et>>>18|cn<<14)^(et<<23|cn>>>9))+((bn=Br+((cn>>>14|et<<18)^(cn>>>18|et<<14)^(cn<<23|et>>>9)))>>>0<Br>>>0?1:0),Ce=ws+(st&We^st&mr^We&mr);Xi=Gt,Br=_i,Gt=Qr,_i=_r,Qr=et,_r=cn,et=Yr+(tt=(tt=(tt=tt+Io+((bn+=Cr)>>>0<Cr>>>0?1:0))+La.high+((bn+=Ds)>>>0<Ds>>>0?1:0))+vr+((bn+=un)>>>0<un>>>0?1:0))+((cn=mi+bn|0)>>>0<mi>>>0?1:0)|0,Yr=gi,mi=mr,gi=Ht,mr=We,Ht=Pe,We=st,Pe=tt+(((Pe>>>28|st<<4)^(Pe<<30|st>>>2)^(Pe<<25|st>>>7))+Gc+(Ce>>>0<ws>>>0?1:0))+((st=bn+Ce|0)>>>0<bn>>>0?1:0)|0}se=j.low=se+st,j.high=he+Pe+(se>>>0<st>>>0?1:0),be=k.low=be+We,k.high=ue+Ht+(be>>>0<We>>>0?1:0),fe=E.low=fe+mr,E.high=X+gi+(fe>>>0<mr>>>0?1:0),ce=S.low=ce+mi,S.high=ye+Yr+(ce>>>0<mi>>>0?1:0),Ne=$.low=Ne+cn,$.high=de+et+(Ne>>>0<cn>>>0?1:0),Te=H.low=Te+_r,H.high=me+Qr+(Te>>>0<_r>>>0?1:0),re=G.low=re+_i,G.high=ee+Gt+(re>>>0<_i>>>0?1:0),Y=Z.low=Y+Br,Z.high=ne+Xi+(Y>>>0<Br>>>0?1:0)},_doFinalize:function(){var C=this._data,R=C.words,N=8*this._nDataBytes,j=8*C.sigBytes;return R[j>>>5]|=128<<24-j%32,R[30+(j+128>>>10<<5)]=Math.floor(N/4294967296),R[31+(j+128>>>10<<5)]=N,C.sigBytes=4*R.length,this._process(),this._hash.toX32()},clone:function(){var C=V.clone.call(this);return C._hash=this._hash.clone(),C},blockSize:32});x.SHA512=V._createHelper(P),x.HmacSHA512=V._createHmacHelper(P)}(),U.SHA512)},769:function(we,Ee,I){var U;we.exports=(U=I(12),I(506),I(873),I(66),I(270),function(){var x=U,q=x.lib,V=q.WordArray,le=q.BlockCipher,M=x.algo,Q=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],w=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],A=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],F=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],b=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],P=M.DES=le.extend({_doReset:function(){for(var k=this._key.words,E=[],S=0;S<56;S++){var $=Q[S]-1;E[S]=k[$>>>5]>>>31-$%32&1}for(var H=this._subKeys=[],G=0;G<16;G++){var Z=H[G]=[],he=A[G];for(S=0;S<24;S++)Z[S/6|0]|=E[(w[S]-1+he)%28]<<31-S%6,Z[4+(S/6|0)]|=E[28+(w[S+24]-1+he)%28]<<31-S%6;for(Z[0]=Z[0]<<1|Z[0]>>>31,S=1;S<7;S++)Z[S]=Z[S]>>>4*(S-1)+3;Z[7]=Z[7]<<5|Z[7]>>>27}var se=this._invSubKeys=[];for(S=0;S<16;S++)se[S]=H[15-S]},encryptBlock:function(j,k){this._doCryptBlock(j,k,this._subKeys)},decryptBlock:function(j,k){this._doCryptBlock(j,k,this._invSubKeys)},_doCryptBlock:function(j,k,E){this._lBlock=j[k],this._rBlock=j[k+1],C.call(this,4,252645135),C.call(this,16,65535),R.call(this,2,858993459),R.call(this,8,16711935),C.call(this,1,1431655765);for(var S=0;S<16;S++){for(var $=E[S],H=this._lBlock,G=this._rBlock,Z=0,he=0;he<8;he++)Z|=F[he][((G^$[he])&b[he])>>>0];this._lBlock=G,this._rBlock=H^Z}var se=this._lBlock;this._lBlock=this._rBlock,this._rBlock=se,C.call(this,1,1431655765),R.call(this,8,16711935),R.call(this,2,858993459),C.call(this,16,65535),C.call(this,4,252645135),j[k]=this._lBlock,j[k+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function C(j,k){var E=(this._lBlock>>>j^this._rBlock)&k;this._rBlock^=E,this._lBlock^=E<<j}function R(j,k){var E=(this._rBlock>>>j^this._lBlock)&k;this._lBlock^=E,this._rBlock^=E<<j}x.DES=le._createHelper(P);var N=M.TripleDES=le.extend({_doReset:function(){var k=this._key.words;if(2!==k.length&&4!==k.length&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=k.slice(0,2),S=k.length<4?k.slice(0,2):k.slice(2,4),$=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=P.createEncryptor(V.create(E)),this._des2=P.createEncryptor(V.create(S)),this._des3=P.createEncryptor(V.create($))},encryptBlock:function(j,k){this._des1.encryptBlock(j,k),this._des2.decryptBlock(j,k),this._des3.encryptBlock(j,k)},decryptBlock:function(j,k){this._des3.decryptBlock(j,k),this._des2.encryptBlock(j,k),this._des1.decryptBlock(j,k)},keySize:6,ivSize:2,blockSize:2});x.TripleDES=le._createHelper(N)}(),U.TripleDES)},802:function(we,Ee,I){var V,le,M,Q,U;we.exports=(U=I(12),le=(V=U.lib).Base,M=V.WordArray,(Q=U.x64={}).Word=le.extend({init:function(F,b){this.high=F,this.low=b}}),Q.WordArray=le.extend({init:function(F,b){F=this.words=F||[],this.sigBytes=null!=b?b:8*F.length},toX32:function(){for(var F=this.words,b=F.length,P=[],C=0;C<b;C++){var R=F[C];P.push(R.high),P.push(R.low)}return M.create(P,this.sigBytes)},clone:function(){for(var F=le.clone.call(this),b=F.words=this.words.slice(0),P=b.length,C=0;C<P;C++)b[C]=b[C].clone();return F}}),U)},433:function(we,Ee){!function(I){"use strict";function x(s){var c,d,f,m;for(d=1,f=arguments.length;d<f;d++)for(c in m=arguments[d])s[c]=m[c];return s}var q=Object.create||function(){function s(){}return function(c){return s.prototype=c,new s}}();function V(s,c){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var f=d.call(arguments,2);return function(){return s.apply(c,f.length?f.concat(d.call(arguments)):arguments)}}var le=0;function M(s){return"_leaflet_id"in s||(s._leaflet_id=++le),s._leaflet_id}function Q(s,c,d){var f,m,v,T;return T=function(){f=!1,m&&(v.apply(d,m),m=!1)},v=function(){f?m=arguments:(s.apply(d,arguments),setTimeout(T,c),f=!0)},v}function w(s,c,d){var f=c[1],m=c[0],v=f-m;return s===f&&d?s:((s-m)%v+v)%v+m}function A(){return!1}function F(s,c){if(!1===c)return s;var d=Math.pow(10,void 0===c?6:c);return Math.round(s*d)/d}function b(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function P(s){return b(s).split(/\s+/)}function C(s,c){for(var d in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?q(s.options):{}),c)s.options[d]=c[d];return s.options}function R(s,c,d){var f=[];for(var m in s)f.push(encodeURIComponent(d?m.toUpperCase():m)+"="+encodeURIComponent(s[m]));return(c&&-1!==c.indexOf("?")?"&":"?")+f.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function j(s,c){return s.replace(N,function(d,f){var m=c[f];if(void 0===m)throw new Error("No value provided for variable "+d);return"function"==typeof m&&(m=m(c)),m})}var k=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function E(s,c){for(var d=0;d<s.length;d++)if(s[d]===c)return d;return-1}var S="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var H=0;function G(s){var c=+new Date,d=Math.max(0,16-(c-H));return H=c+d,window.setTimeout(s,d)}var Z=window.requestAnimationFrame||$("RequestAnimationFrame")||G,he=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function se(s,c,d){if(!d||Z!==G)return Z.call(window,V(s,c));s.call(c)}function ue(s){s&&he.call(window,s)}var be={__proto__:null,extend:x,create:q,bind:V,get lastId(){return le},stamp:M,throttle:Q,wrapNum:w,falseFn:A,formatNum:F,trim:b,splitWords:P,setOptions:C,getParamString:R,template:j,isArray:k,indexOf:E,emptyImageUrl:S,requestFn:Z,cancelFn:he,requestAnimFrame:se,cancelAnimFrame:ue};function X(){}X.extend=function(s){var c=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=c.__super__=this.prototype,f=q(d);for(var m in f.constructor=c,c.prototype=f,this)Object.prototype.hasOwnProperty.call(this,m)&&"prototype"!==m&&"__super__"!==m&&(c[m]=this[m]);return s.statics&&x(c,s.statics),s.includes&&(function fe(s){if(!(typeof L>"u")&&L&&L.Mixin){s=k(s)?s:[s];for(var c=0;c<s.length;c++)s[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(s.includes),x.apply(null,[f].concat(s.includes))),x(f,s),delete f.statics,delete f.includes,f.options&&(f.options=d.options?q(d.options):{},x(f.options,s.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,T=f._initHooks.length;v<T;v++)f._initHooks[v].call(this)}},c},X.include=function(s){var c=this.prototype.options;return x(this.prototype,s),s.options&&(this.prototype.options=c,this.mergeOptions(s.options)),this},X.mergeOptions=function(s){return x(this.prototype.options,s),this},X.addInitHook=function(s){var c=Array.prototype.slice.call(arguments,1),d="function"==typeof s?s:function(){this[s].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};var ye={on:function(s,c,d){if("object"==typeof s)for(var f in s)this._on(f,s[f],c);else for(var m=0,v=(s=P(s)).length;m<v;m++)this._on(s[m],c,d);return this},off:function(s,c,d){if(arguments.length)if("object"==typeof s)for(var f in s)this._off(f,s[f],c);else{s=P(s);for(var m=1===arguments.length,v=0,T=s.length;v<T;v++)m?this._off(s[v]):this._off(s[v],c,d)}else delete this._events;return this},_on:function(s,c,d,f){if("function"==typeof c){if(!1===this._listens(s,c,d)){d===this&&(d=void 0);var m={fn:c,ctx:d};f&&(m.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(m)}}else console.warn("wrong listener type: "+typeof c)},_off:function(s,c,d){var f,m,v;if(this._events&&(f=this._events[s])){if(1===arguments.length){if(this._firingCount)for(m=0,v=f.length;m<v;m++)f[m].fn=A;return void delete this._events[s]}if("function"!=typeof c)return void console.warn("wrong listener type: "+typeof c);var T=this._listens(s,c,d);!1!==T&&(this._firingCount&&(f[T].fn=A,this._events[s]=f=f.slice()),f.splice(T,1))}},fire:function(s,c,d){if(!this.listens(s,d))return this;var f=x({},c,{type:s,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var m=this._events[s];if(m){this._firingCount=this._firingCount+1||1;for(var v=0,T=m.length;v<T;v++){var B=m[v],W=B.fn;B.once&&this.off(s,W,B.ctx),W.call(B.ctx||this,f)}this._firingCount--}}return d&&this._propagateEvent(f),this},listens:function(s,c,d,f){"string"!=typeof s&&console.warn('"string" type argument expected');var m=c;"function"!=typeof c&&(f=!!c,m=void 0,d=void 0);var v=this._events&&this._events[s];if(v&&v.length&&!1!==this._listens(s,m,d))return!0;if(f)for(var T in this._eventParents)if(this._eventParents[T].listens(s,c,d,f))return!0;return!1},_listens:function(s,c,d){if(!this._events)return!1;var f=this._events[s]||[];if(!c)return!!f.length;d===this&&(d=void 0);for(var m=0,v=f.length;m<v;m++)if(f[m].fn===c&&f[m].ctx===d)return m;return!1},once:function(s,c,d){if("object"==typeof s)for(var f in s)this._on(f,s[f],c,!0);else for(var m=0,v=(s=P(s)).length;m<v;m++)this._on(s[m],c,d,!0);return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[M(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[M(s)],this},_propagateEvent:function(s){for(var c in this._eventParents)this._eventParents[c].fire(s.type,x({layer:s.target,propagatedFrom:s.target},s),!0)}};ye.addEventListener=ye.on,ye.removeEventListener=ye.clearAllEventListeners=ye.off,ye.addOneTimeEventListener=ye.once,ye.fireEvent=ye.fire,ye.hasEventListeners=ye.listens;var ce=X.extend(ye);function de(s,c,d){this.x=d?Math.round(s):s,this.y=d?Math.round(c):c}var Ne=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};function me(s,c,d){return s instanceof de?s:k(s)?new de(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new de(s.x,s.y):new de(s,c,d)}function Te(s,c){if(s)for(var d=c?[s,c]:s,f=0,m=d.length;f<m;f++)this.extend(d[f])}function ee(s,c){return!s||s instanceof Te?s:new Te(s,c)}function re(s,c){if(s)for(var d=c?[s,c]:s,f=0,m=d.length;f<m;f++)this.extend(d[f])}function ne(s,c){return s instanceof re?s:new re(s,c)}function Y(s,c,d){if(isNaN(s)||isNaN(c))throw new Error("Invalid LatLng object: ("+s+", "+c+")");this.lat=+s,this.lng=+c,void 0!==d&&(this.alt=+d)}function Pe(s,c,d){return s instanceof Y?s:k(s)&&"object"!=typeof s[0]?3===s.length?new Y(s[0],s[1],s[2]):2===s.length?new Y(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new Y(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===c?null:new Y(s,c,d)}de.prototype={clone:function(){return new de(this.x,this.y)},add:function(s){return this.clone()._add(me(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(me(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new de(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new de(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ne(this.x),this.y=Ne(this.y),this},distanceTo:function(s){var c=(s=me(s)).x-this.x,d=s.y-this.y;return Math.sqrt(c*c+d*d)},equals:function(s){return(s=me(s)).x===this.x&&s.y===this.y},contains:function(s){return s=me(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+F(this.x)+", "+F(this.y)+")"}},Te.prototype={extend:function(s){var c,d;if(!s)return this;if(s instanceof de||"number"==typeof s[0]||"x"in s)c=d=me(s);else if(d=(s=ee(s)).max,!(c=s.min)||!d)return this;return this.min||this.max?(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)):(this.min=c.clone(),this.max=d.clone()),this},getCenter:function(s){return me((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return me(this.min.x,this.max.y)},getTopRight:function(){return me(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var c,d;return(s="number"==typeof s[0]||s instanceof de?me(s):ee(s))instanceof Te?(c=s.min,d=s.max):c=d=s,c.x>=this.min.x&&d.x<=this.max.x&&c.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=ee(s);var c=this.min,d=this.max,f=s.min,m=s.max;return m.x>=c.x&&f.x<=d.x&&m.y>=c.y&&f.y<=d.y},overlaps:function(s){s=ee(s);var c=this.min,d=this.max,f=s.min,m=s.max;return m.x>c.x&&f.x<d.x&&m.y>c.y&&f.y<d.y},isValid:function(){return!(!this.min||!this.max)},pad:function(s){var c=this.min,d=this.max,f=Math.abs(c.x-d.x)*s,m=Math.abs(c.y-d.y)*s;return ee(me(c.x-f,c.y-m),me(d.x+f,d.y+m))},equals:function(s){return!!s&&(s=ee(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight()))}},re.prototype={extend:function(s){var f,m,c=this._southWest,d=this._northEast;if(s instanceof Y)f=s,m=s;else{if(!(s instanceof re))return s?this.extend(Pe(s)||ne(s)):this;if(m=s._northEast,!(f=s._southWest)||!m)return this}return c||d?(c.lat=Math.min(f.lat,c.lat),c.lng=Math.min(f.lng,c.lng),d.lat=Math.max(m.lat,d.lat),d.lng=Math.max(m.lng,d.lng)):(this._southWest=new Y(f.lat,f.lng),this._northEast=new Y(m.lat,m.lng)),this},pad:function(s){var c=this._southWest,d=this._northEast,f=Math.abs(c.lat-d.lat)*s,m=Math.abs(c.lng-d.lng)*s;return new re(new Y(c.lat-f,c.lng-m),new Y(d.lat+f,d.lng+m))},getCenter:function(){return new Y((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Y(this.getNorth(),this.getWest())},getSouthEast:function(){return new Y(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s="number"==typeof s[0]||s instanceof Y||"lat"in s?Pe(s):ne(s);var f,m,c=this._southWest,d=this._northEast;return s instanceof re?(f=s.getSouthWest(),m=s.getNorthEast()):f=m=s,f.lat>=c.lat&&m.lat<=d.lat&&f.lng>=c.lng&&m.lng<=d.lng},intersects:function(s){s=ne(s);var c=this._southWest,d=this._northEast,f=s.getSouthWest(),m=s.getNorthEast();return m.lat>=c.lat&&f.lat<=d.lat&&m.lng>=c.lng&&f.lng<=d.lng},overlaps:function(s){s=ne(s);var c=this._southWest,d=this._northEast,f=s.getSouthWest(),m=s.getNorthEast();return m.lat>c.lat&&f.lat<d.lat&&m.lng>c.lng&&f.lng<d.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,c){return!!s&&(s=ne(s),this._southWest.equals(s.getSouthWest(),c)&&this._northEast.equals(s.getNorthEast(),c))},isValid:function(){return!(!this._southWest||!this._northEast)}},Y.prototype={equals:function(s,c){return!!s&&(s=Pe(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===c?1e-9:c))},toString:function(s){return"LatLng("+F(this.lat,s)+", "+F(this.lng,s)+")"},distanceTo:function(s){return Ht.distance(this,Pe(s))},wrap:function(){return Ht.wrapLatLng(this)},toBounds:function(s){var c=180*s/40075017,d=c/Math.cos(Math.PI/180*this.lat);return ne([this.lat-c,this.lng-d],[this.lat+c,this.lng+d])},clone:function(){return new Y(this.lat,this.lng,this.alt)}};var s,st={latLngToPoint:function(s,c){var d=this.projection.project(s),f=this.scale(c);return this.transformation._transform(d,f)},pointToLatLng:function(s,c){var d=this.scale(c),f=this.transformation.untransform(s,d);return this.projection.unproject(f)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var c=this.projection.bounds,d=this.scale(s);return new Te(this.transformation.transform(c.min,d),this.transformation.transform(c.max,d))},infinite:!1,wrapLatLng:function(s){var c=this.wrapLng?w(s.lng,this.wrapLng,!0):s.lng;return new Y(this.wrapLat?w(s.lat,this.wrapLat,!0):s.lat,c,s.alt)},wrapLatLngBounds:function(s){var c=s.getCenter(),d=this.wrapLatLng(c),f=c.lat-d.lat,m=c.lng-d.lng;if(0===f&&0===m)return s;var v=s.getSouthWest(),T=s.getNorthEast();return new re(new Y(v.lat-f,v.lng-m),new Y(T.lat-f,T.lng-m))}},Ht=x({},st,{wrapLng:[-180,180],R:6371e3,distance:function(s,c){var d=Math.PI/180,f=s.lat*d,m=c.lat*d,v=Math.sin((c.lat-s.lat)*d/2),T=Math.sin((c.lng-s.lng)*d/2),B=v*v+Math.cos(f)*Math.cos(m)*T*T,W=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*W}}),gi={R:6378137,MAX_LATITUDE:85.0511287798,project:function(s){var c=Math.PI/180,d=this.MAX_LATITUDE,f=Math.max(Math.min(d,s.lat),-d),m=Math.sin(f*c);return new de(this.R*s.lng*c,this.R*Math.log((1+m)/(1-m))/2)},unproject:function(s){var c=180/Math.PI;return new Y((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*c,s.x*c/this.R)},bounds:(s=6378137*Math.PI,new Te([-s,-s],[s,s]))};function mr(s,c,d,f){if(k(s))return this._a=s[0],this._b=s[1],this._c=s[2],void(this._d=s[3]);this._a=s,this._b=c,this._c=d,this._d=f}function Yr(s,c,d,f){return new mr(s,c,d,f)}mr.prototype={transform:function(s,c){return this._transform(s.clone(),c)},_transform:function(s,c){return s.x=(c=c||1)*(this._a*s.x+this._b),s.y=c*(this._c*s.y+this._d),s},untransform:function(s,c){return new de((s.x/(c=c||1)-this._b)/this._a,(s.y/c-this._d)/this._c)}};var mi=x({},Ht,{code:"EPSG:3857",projection:gi,transformation:function(){var s=.5/(Math.PI*gi.R);return Yr(s,.5,-s,.5)}()}),et=x({},mi,{code:"EPSG:900913"});function cn(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Qr(s,c){var f,m,v,T,B,W,d="";for(f=0,v=s.length;f<v;f++){for(m=0,T=(B=s[f]).length;m<T;m++)d+=(m?"L":"M")+(W=B[m]).x+" "+W.y;d+=c?Ce.svg?"z":"x":""}return d||"M0 0"}var _r=document.documentElement.style,Gt="ActiveXObject"in window,_i=Gt&&!document.addEventListener,Xi="msLaunchUri"in navigator&&!("documentMode"in document),Br=tt("webkit"),Jt=tt("android"),un=tt("android 2")||tt("android 3"),vr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),vi=Jt&&tt("Google")&&vr<537&&!("AudioNode"in window),Do=!!window.opera,Xr=!Xi&&tt("chrome"),yi=tt("gecko")&&!Br&&!Do&&!Gt,ys=!Xr&&tt("safari"),yr=tt("phantom"),xi="OTransition"in _r,Ci=0===navigator.platform.indexOf("Win"),Vr=Gt&&"transition"in _r,xs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!un,Ji="MozPerspective"in _r,Oa=!window.L_DISABLE_3D&&(Vr||xs||Ji)&&!xi&&!yr,xr=typeof orientation<"u"||tt("mobile"),bo=xr&&Br,Fa=xr&&xs,So=!window.PointerEvent&&window.MSPointerEvent,Cs=!(!window.PointerEvent&&!So),Io="ontouchstart"in window||!!window.TouchEvent,Cr=!window.L_NO_TOUCH&&(Io||Cs),Gc=xr&&Do,ka=xr&&yi,Mt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ws=function(){var s=!1;try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",A,c),window.removeEventListener("testPassiveEventSupport",A,c)}catch{}return s}(),Zc=!!document.createElement("canvas").getContext,Es=!(!document.createElementNS||!cn("svg").createSVGRect),La=!!Es&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(s.firstChild&&s.firstChild.namespaceURI)}(),Nn=!Es&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var c=s.firstChild;return c.style.behavior="url(#default#VML)",c&&"object"==typeof c.adj}catch{return!1}}();function tt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ce={ie:Gt,ielt9:_i,edge:Xi,webkit:Br,android:Jt,android23:un,androidStock:vi,opera:Do,chrome:Xr,gecko:yi,safari:ys,phantom:yr,opera12:xi,win:Ci,ie3d:Vr,webkit3d:xs,gecko3d:Ji,any3d:Oa,mobile:xr,mobileWebkit:bo,mobileWebkit3d:Fa,msPointer:So,pointer:Cs,touch:Cr,touchNative:Io,mobileOpera:Gc,mobileGecko:ka,retina:Mt,passiveEvents:ws,canvas:Zc,svg:Es,vml:Nn,inlineSvg:La,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Ba=Ce.msPointer?"MSPointerDown":"pointerdown",lt=Ce.msPointer?"MSPointerMove":"pointermove",Va=Ce.msPointer?"MSPointerUp":"pointerup",Nh=Ce.msPointer?"MSPointerCancel":"pointercancel",bs={touchstart:Ba,touchmove:lt,touchend:Va,touchcancel:Nh},Ph={touchstart:function qc(s,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&hn(c),Ha(s,c)},touchmove:Ha,touchend:Ha,touchcancel:Ha},Ao={},Rh=!1;function rw(s,c,d){return"touchstart"===c&&function Fh(){Rh||(document.addEventListener(Ba,ow,!0),document.addEventListener(lt,sw,!0),document.addEventListener(Va,Oh,!0),document.addEventListener(Nh,Oh,!0),Rh=!0)}(),Ph[c]?(d=Ph[c].bind(this,d),s.addEventListener(bs[c],d,!1),d):(console.warn("wrong event specified:",c),A)}function ow(s){Ao[s.pointerId]=s}function sw(s){Ao[s.pointerId]&&(Ao[s.pointerId]=s)}function Oh(s){delete Ao[s.pointerId]}function Ha(s,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){for(var d in c.touches=[],Ao)c.touches.push(Ao[d]);c.changedTouches=[c],s(c)}}var Kc=200;var No,Ts,za,Pn,eu,Yc=As(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ss=As(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Jr="webkitTransition"===Ss||"OTransition"===Ss?Ss+"End":"transitionend";function Qc(s){return"string"==typeof s?document.getElementById(s):s}function Is(s,c){var d=s.style[c]||s.currentStyle&&s.currentStyle[c];if((!d||"auto"===d)&&document.defaultView){var f=document.defaultView.getComputedStyle(s,null);d=f?f[c]:null}return"auto"===d?null:d}function ct(s,c,d){var f=document.createElement(s);return f.className=c||"",d&&d.appendChild(f),f}function jt(s){var c=s.parentNode;c&&c.removeChild(s)}function ja(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function To(s){var c=s.parentNode;c&&c.lastChild!==s&&c.appendChild(s)}function Mo(s){var c=s.parentNode;c&&c.firstChild!==s&&c.insertBefore(s,c.firstChild)}function Xc(s,c){if(void 0!==s.classList)return s.classList.contains(c);var d=Ua(s);return d.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(d)}function Ke(s,c){if(void 0!==s.classList)for(var d=P(c),f=0,m=d.length;f<m;f++)s.classList.add(d[f]);else if(!Xc(s,c)){var v=Ua(s);Jc(s,(v?v+" ":"")+c)}}function Zt(s,c){void 0!==s.classList?s.classList.remove(c):Jc(s,b((" "+Ua(s)+" ").replace(" "+c+" "," ")))}function Jc(s,c){void 0===s.className.baseVal?s.className=c:s.className.baseVal=c}function Ua(s){return s.correspondingElement&&(s=s.correspondingElement),void 0===s.className.baseVal?s.className:s.className.baseVal}function or(s,c){"opacity"in s.style?s.style.opacity=c:"filter"in s.style&&function aw(s,c){var d=!1,f="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(f)}catch{if(1===c)return}c=Math.round(100*c),d?(d.Enabled=100!==c,d.Opacity=c):s.style.filter+=" progid:"+f+"(opacity="+c+")"}(s,c)}function As(s){for(var c=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in c)return s[d];return!1}function wi(s,c,d){var f=c||new de(0,0);s.style[Yc]=(Ce.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(d?" scale("+d+")":"")}function qt(s,c){s._leaflet_pos=c,Ce.any3d?wi(s,c):(s.style.left=c.x+"px",s.style.top=c.y+"px")}function Ei(s){return s._leaflet_pos||new de(0,0)}if("onselectstart"in document)No=function(){Ge(window,"selectstart",hn)},Ts=function(){wt(window,"selectstart",hn)};else{var Po=As(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);No=function(){if(Po){var s=document.documentElement.style;za=s[Po],s[Po]="none"}},Ts=function(){Po&&(document.documentElement.style[Po]=za,za=void 0)}}function $a(){Ge(window,"dragstart",hn)}function Wa(){wt(window,"dragstart",hn)}function tu(s){for(;-1===s.tabIndex;)s=s.parentNode;s.style&&(Ga(),Pn=s,eu=s.style.outlineStyle,s.style.outlineStyle="none",Ge(window,"keydown",Ga))}function Ga(){Pn&&(Pn.style.outlineStyle=eu,Pn=void 0,eu=void 0,wt(window,"keydown",Ga))}function Lh(s){do{s=s.parentNode}while(!(s.offsetWidth&&s.offsetHeight||s===document.body));return s}function Za(s){var c=s.getBoundingClientRect();return{x:c.width/s.offsetWidth||1,y:c.height/s.offsetHeight||1,boundingClientRect:c}}var N0={__proto__:null,TRANSFORM:Yc,TRANSITION:Ss,TRANSITION_END:Jr,get:Qc,getStyle:Is,create:ct,remove:jt,empty:ja,toFront:To,toBack:Mo,hasClass:Xc,addClass:Ke,removeClass:Zt,setClass:Jc,getClass:Ua,setOpacity:or,testProp:As,setTransform:wi,setPosition:qt,getPosition:Ei,get disableTextSelection(){return No},get enableTextSelection(){return Ts},disableImageDrag:$a,enableImageDrag:Wa,preventOutline:tu,restoreOutline:Ga,getSizedParentNode:Lh,getScale:Za};function Ge(s,c,d,f){if(c&&"object"==typeof c)for(var m in c)sr(s,m,c[m],d);else for(var v=0,T=(c=P(c)).length;v<T;v++)sr(s,c[v],d,f);return this}var dn="_leaflet_events";function wt(s,c,d,f){if(1===arguments.length)_n(s),delete s[dn];else if(c&&"object"==typeof c)for(var m in c)Bh(s,m,c[m],d);else if(c=P(c),2===arguments.length)_n(s,function(B){return-1!==E(c,B)});else for(var v=0,T=c.length;v<T;v++)Bh(s,c[v],d,f);return this}function _n(s,c){for(var d in s[dn]){var f=d.split(/\d/)[0];(!c||c(f))&&Bh(s,f,null,null,d)}}var Di={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function sr(s,c,d,f){var m=c+M(d)+(f?"_"+M(f):"");if(s[dn]&&s[dn][m])return this;var v=function(B){return d.call(f||s,B||window.event)},T=v;!Ce.touchNative&&Ce.pointer&&0===c.indexOf("touch")?v=rw(s,c,v):Ce.touch&&"dblclick"===c?v=function kh(s,c){s.addEventListener("dblclick",c);var f,d=0;function m(v){if(1===v.detail){if("mouse"!==v.pointerType&&(!v.sourceCapabilities||v.sourceCapabilities.firesTouchEvents)){var T=Vh(v);if(!T.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})||T.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement})){var B=Date.now();B-d<=Kc?2==++f&&c(function T0(s){var d,f,c={};for(f in s)c[f]=(d=s[f])&&d.bind?d.bind(s):d;return s=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}(v)):f=1,d=B}}}else f=v.detail}return s.addEventListener("click",m),{dblclick:c,simDblclick:m}}(s,v):"addEventListener"in s?"touchstart"===c||"touchmove"===c||"wheel"===c||"mousewheel"===c?s.addEventListener(Di[c]||c,v,!!Ce.passiveEvents&&{passive:!1}):"mouseenter"===c||"mouseleave"===c?s.addEventListener(Di[c],v=function(B){B=B||window.event,iu(s,B)&&T(B)},!1):s.addEventListener(c,T,!1):s.attachEvent("on"+c,v),s[dn]=s[dn]||{},s[dn][m]=v}function Bh(s,c,d,f,m){m=m||c+M(d)+(f?"_"+M(f):"");var v=s[dn]&&s[dn][m];if(!v)return this;!Ce.touchNative&&Ce.pointer&&0===c.indexOf("touch")?function iw(s,c,d){bs[c]?s.removeEventListener(bs[c],d,!1):console.warn("wrong event specified:",c)}(s,c,v):Ce.touch&&"dblclick"===c?function M0(s,c){s.removeEventListener("dblclick",c.dblclick),s.removeEventListener("click",c.simDblclick)}(s,v):"removeEventListener"in s?s.removeEventListener(Di[c]||c,v,!1):s.detachEvent("on"+c,v),s[dn][m]=null}function eo(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function nu(s){return sr(s,"wheel",eo),this}function to(s){return Ge(s,"mousedown touchstart dblclick contextmenu",eo),s._leaflet_disable_click=!0,this}function hn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function wr(s){return hn(s),eo(s),this}function Vh(s){if(s.composedPath)return s.composedPath();for(var c=[],d=s.target;d;)c.push(d),d=d.parentNode;return c}function ru(s,c){if(!c)return new de(s.clientX,s.clientY);var d=Za(c),f=d.boundingClientRect;return new de((s.clientX-f.left)/d.x-c.clientLeft,(s.clientY-f.top)/d.y-c.clientTop)}var Hh=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function jh(s){return Ce.edge?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/Hh:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}function iu(s,c){var d=c.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var P0={__proto__:null,on:Ge,off:wt,stopPropagation:eo,disableScrollPropagation:nu,disableClickPropagation:to,preventDefault:hn,stop:wr,getPropagationPath:Vh,getMousePosition:ru,getWheelDelta:jh,isExternalTarget:iu,addListener:Ge,removeListener:wt},Uh=ce.extend({run:function(s,c,d,f){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Ei(s),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=se(this._animate,this),this._step()},_step:function(s){var c=+new Date-this._startTime,d=1e3*this._duration;c<d?this._runFrame(this._easeOut(c/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,c){var d=this._startPos.add(this._offset.multiplyBy(s));c&&d._round(),qt(this._el,d),this.fire("step")},_complete:function(){ue(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),at=ce.extend({options:{crs:mi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,c){c=C(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=V(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),void 0!==c.zoom&&(this._zoom=this._limitZoom(c.zoom)),c.center&&void 0!==c.zoom&&this.setView(Pe(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ss&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ge(this._proxy,Jr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,c,d){return c=void 0===c?this._zoom:this._limitZoom(c),s=this._limitCenter(Pe(s),c,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&!0!==d&&(void 0!==d.animate&&(d.zoom=x({animate:d.animate},d.zoom),d.pan=x({animate:d.animate,duration:d.duration},d.pan)),this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,c,d.zoom):this._tryAnimatedPan(s,d.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,c,d.pan&&d.pan.noMoveStart),this)},setZoom:function(s,c){return this._loaded?this.setView(this.getCenter(),s,{zoom:c}):(this._zoom=s,this)},zoomIn:function(s,c){return this.setZoom(this._zoom+(s=s||(Ce.any3d?this.options.zoomDelta:1)),c)},zoomOut:function(s,c){return this.setZoom(this._zoom-(s=s||(Ce.any3d?this.options.zoomDelta:1)),c)},setZoomAround:function(s,c,d){var f=this.getZoomScale(c),m=this.getSize().divideBy(2),T=(s instanceof de?s:this.latLngToContainerPoint(s)).subtract(m).multiplyBy(1-1/f),B=this.containerPointToLatLng(m.add(T));return this.setView(B,c,{zoom:d})},_getBoundsCenterZoom:function(s,c){c=c||{},s=s.getBounds?s.getBounds():ne(s);var d=me(c.paddingTopLeft||c.padding||[0,0]),f=me(c.paddingBottomRight||c.padding||[0,0]),m=this.getBoundsZoom(s,!1,d.add(f));if((m="number"==typeof c.maxZoom?Math.min(c.maxZoom,m):m)===1/0)return{center:s.getCenter(),zoom:m};var v=f.subtract(d).divideBy(2),T=this.project(s.getSouthWest(),m),B=this.project(s.getNorthEast(),m);return{center:this.unproject(T.add(B).divideBy(2).add(v),m),zoom:m}},fitBounds:function(s,c){if(!(s=ne(s)).isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,c);return this.setView(d.center,d.zoom,c)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,c){return this.setView(s,this._zoom,{pan:c})},panBy:function(s,c){if(c=c||{},!(s=me(s).round()).x&&!s.y)return this.fire("moveend");if(!0!==c.animate&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Uh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),!1!==c.animate){Ke(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,c.duration||.25,c.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,c,d){if(!1===(d=d||{}).animate||!Ce.any3d)return this.setView(s,c,d);this._stop();var f=this.project(this.getCenter()),m=this.project(s),v=this.getSize(),T=this._zoom;s=Pe(s),c=void 0===c?T:c;var B=Math.max(v.x,v.y),W=B*this.getZoomScale(T,c),ie=m.distanceTo(f)||1,De=1.42,Be=De*De;function Je(tn){var gu=(W*W-B*B+(tn?-1:1)*Be*Be*ie*ie)/(2*(tn?W:B)*Be*ie),qn=Math.sqrt(gu*gu+1)-gu;return qn<1e-9?-18:Math.log(qn)}function Sn(tn){return(Math.exp(tn)-Math.exp(-tn))/2}function fn(tn){return(Math.exp(tn)+Math.exp(-tn))/2}var Pt=Je(0);function nf(tn){return B*(fn(Pt)*function cr(tn){return Sn(tn)/fn(tn)}(Pt+De*tn)-Sn(Pt))/Be}var q0=Date.now(),rf=(Je(1)-Pt)/De,K0=d.duration?1e3*d.duration:1e3*rf*.8;return this._moveStart(!0,d.noMoveStart),function pu(){var tn=(Date.now()-q0)/K0,sl=function Z0(tn){return 1-Math.pow(1-tn,1.5)}(tn)*rf;tn<=1?(this._flyToFrame=se(pu,this),this._move(this.unproject(f.add(m.subtract(f).multiplyBy(nf(sl)/ie)),T),this.getScaleZoom(B/function Lo(tn){return B*(fn(Pt)/fn(Pt+De*tn))}(sl),T),{flyTo:!0})):this._move(s,c)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,c){var d=this._getBoundsCenterZoom(s,c);return this.flyTo(d.center,d.zoom,c)},setMaxBounds:function(s){return s=ne(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var c=this.options.minZoom;return this.options.minZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var c=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,c){this._enforcingBounds=!0;var d=this.getCenter(),f=this._limitCenter(d,this._zoom,ne(s));return d.equals(f)||this.panTo(f,c),this._enforcingBounds=!1,this},panInside:function(s,c){var d=me((c=c||{}).paddingTopLeft||c.padding||[0,0]),f=me(c.paddingBottomRight||c.padding||[0,0]),m=this.project(this.getCenter()),v=this.project(s),T=this.getPixelBounds(),B=ee([T.min.add(d),T.max.subtract(f)]),W=B.getSize();if(!B.contains(v)){this._enforcingBounds=!0;var ie=v.subtract(B.getCenter()),De=B.extend(v).getSize().subtract(W);m.x+=ie.x<0?-De.x:De.x,m.y+=ie.y<0?-De.y:De.y,this.panTo(this.unproject(m),c),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=x({animate:!1,pan:!0},!0===s?{animate:!0}:s);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),f=c.divideBy(2).round(),m=d.divideBy(2).round(),v=f.subtract(m);return v.x||v.y?(s.animate&&s.pan?this.panBy(v):(s.pan&&this._rawPanBy(v),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(V(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:d})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=x({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=V(this._handleGeolocationResponse,this),d=V(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,d,s):navigator.geolocation.getCurrentPosition(c,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var c=s.code,d=s.message||(1===c?"permission denied":2===c?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var f=new Y(s.coords.latitude,s.coords.longitude),m=f.toBounds(2*s.coords.accuracy),v=this._locateOptions;if(v.setView){var T=this.getBoundsZoom(m);this.setView(f,v.maxZoom?Math.min(T,v.maxZoom):T)}var B={latlng:f,bounds:m,timestamp:s.timestamp};for(var W in s.coords)"number"==typeof s.coords[W]&&(B[W]=s.coords[W]);this.fire("locationfound",B)}},addHandler:function(s,c){if(!c)return this;var d=this[s]=new c(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var s;for(s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ue(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)jt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,c){var f=ct("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),c||this._mapPane);return s&&(this._panes[s]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new re(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,c,d){s=ne(s),d=me(d||[0,0]);var f=this.getZoom()||0,m=this.getMinZoom(),v=this.getMaxZoom(),T=s.getNorthWest(),B=s.getSouthEast(),W=this.getSize().subtract(d),ie=ee(this.project(B,f),this.project(T,f)).getSize(),De=Ce.any3d?this.options.zoomSnap:1,Be=W.x/ie.x,Je=W.y/ie.y,Sn=c?Math.max(Be,Je):Math.min(Be,Je);return f=this.getScaleZoom(Sn,f),De&&(f=Math.round(f/(De/100))*(De/100),f=c?Math.ceil(f/De)*De:Math.floor(f/De)*De),Math.max(m,Math.min(v,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new de(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,c){var d=this._getTopLeftPoint(s,c);return new Te(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,c){var d=this.options.crs;return c=void 0===c?this._zoom:c,d.scale(s)/d.scale(c)},getScaleZoom:function(s,c){var d=this.options.crs,f=d.zoom(s*d.scale(c=void 0===c?this._zoom:c));return isNaN(f)?1/0:f},project:function(s,c){return c=void 0===c?this._zoom:c,this.options.crs.latLngToPoint(Pe(s),c)},unproject:function(s,c){return c=void 0===c?this._zoom:c,this.options.crs.pointToLatLng(me(s),c)},layerPointToLatLng:function(s){var c=me(s).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(s){return this.project(Pe(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Pe(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ne(s))},distance:function(s,c){return this.options.crs.distance(Pe(s),Pe(c))},containerPointToLayerPoint:function(s){return me(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return me(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var c=this.containerPointToLayerPoint(me(s));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Pe(s)))},mouseEventToContainerPoint:function(s){return ru(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var c=this._container=Qc(s);if(!c)throw new Error("Map container not found.");if(c._leaflet_id)throw new Error("Map container is already initialized.");Ge(c,"scroll",this._onScroll,this),this._containerId=M(c)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,Ke(s,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Is(s,"position");"absolute"!==c&&"relative"!==c&&"fixed"!==c&&"sticky"!==c&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qt(this._mapPane,new de(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ke(s.markerPane,"leaflet-zoom-hide"),Ke(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,c,d){qt(this._mapPane,new de(0,0));var f=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var m=this._zoom!==c;this._moveStart(m,d)._move(s,c)._moveEnd(m),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(s,c){return s&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(s,c,d,f){void 0===c&&(c=this._zoom);var m=this._zoom!==c;return this._zoom=c,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),f?d&&d.pinch&&this.fire("zoom",d):((m||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ue(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){qt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[M(this._container)]=this;var c=s?wt:Ge;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ue(this._resizeRequest),this._resizeRequest=se(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,c){for(var f,d=[],m="mouseout"===c||"mouseover"===c,v=s.target||s.srcElement,T=!1;v;){if((f=this._targets[M(v)])&&("click"===c||"preclick"===c)&&this._draggableMoved(f)){T=!0;break}if(f&&f.listens(c,!0)&&(m&&!iu(v,s)||(d.push(f),m))||v===this._container)break;v=v.parentNode}return!d.length&&!T&&!m&&this.listens(c,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var c=s.target||s.srcElement;if(!(!this._loaded||c._leaflet_disable_events||"click"===s.type&&this._isClickDisabled(c))){var d=s.type;"mousedown"===d&&tu(c),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,c,d){if("click"===s.type){var f=x({},s);f.type="preclick",this._fireDOMEvent(f,f.type,d)}var m=this._findEventTargets(s,c);if(d){for(var v=[],T=0;T<d.length;T++)d[T].listens(c,!0)&&v.push(d[T]);m=v.concat(m)}if(m.length){"contextmenu"===c&&hn(s);var B=m[0],W={originalEvent:s};if("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type){var ie=B.getLatLng&&(!B._radius||B._radius<=10);W.containerPoint=ie?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(s),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=ie?B.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(T=0;T<m.length;T++)if(m[T].fire(c,W,!0),W.originalEvent._stopped||!1===m[T].options.bubblingMouseEvents&&-1!==E(this._mouseEvents,c))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,c=this._handlers.length;s<c;s++)this._handlers[s].disable()},whenReady:function(s,c){return this._loaded?s.call(c||this,{target:this}):this.on("load",s,c),this},_getMapPanePos:function(){return Ei(this._mapPane)||new de(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,c){return(s&&void 0!==c?this._getNewPixelOrigin(s,c):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,c){var d=this.getSize()._divideBy(2);return this.project(s,c)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,c,d){var f=this._getNewPixelOrigin(d,c);return this.project(s,c)._subtract(f)},_latLngBoundsToNewLayerBounds:function(s,c,d){var f=this._getNewPixelOrigin(d,c);return ee([this.project(s.getSouthWest(),c)._subtract(f),this.project(s.getNorthWest(),c)._subtract(f),this.project(s.getSouthEast(),c)._subtract(f),this.project(s.getNorthEast(),c)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,c,d){if(!d)return s;var f=this.project(s,c),m=this.getSize().divideBy(2),v=new Te(f.subtract(m),f.add(m)),T=this._getBoundsOffset(v,d,c);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?s:this.unproject(f.add(T),c)},_limitOffset:function(s,c){if(!c)return s;var d=this.getPixelBounds(),f=new Te(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(f,c))},_getBoundsOffset:function(s,c,d){var f=ee(this.project(c.getNorthEast(),d),this.project(c.getSouthWest(),d)),m=f.min.subtract(s.min),v=f.max.subtract(s.max);return new de(this._rebound(m.x,-v.x),this._rebound(m.y,-v.y))},_rebound:function(s,c){return s+c>0?Math.round(s-c)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(c))},_limitZoom:function(s){var c=this.getMinZoom(),d=this.getMaxZoom(),f=Ce.any3d?this.options.zoomSnap:1;return f&&(s=Math.round(s/f)*f),Math.max(c,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Zt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,c){var d=this._getCenterOffset(s)._trunc();return!(!0!==(c&&c.animate)&&!this.getSize().contains(d)||(this.panBy(d,c),0))},_createAnimProxy:function(){var s=this._proxy=ct("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(c){var d=Yc,f=this._proxy.style[d];wi(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),f===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),c=this.getZoom();wi(this._proxy,this.project(s,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,c,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||!1===d.animate||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(c),m=this._getCenterOffset(s)._divideBy(1-1/f);return!(!0!==d.animate&&!this.getSize().contains(m)||(se(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,c,!0)},this),0))},_animateZoom:function(s,c,d,f){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=c,Ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:c,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(V(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Zt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Er=X.extend({options:{position:"topright"},initialize:function(s){C(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var c=this._map;return c&&c.removeControl(this),this.options.position=s,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var c=this._container=this.onAdd(s),d=this.getPosition(),f=s._controlCorners[d];return Ke(c,"leaflet-control"),-1!==d.indexOf("bottom")?f.insertBefore(c,f.firstChild):f.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Nt=function(s){return new Er(s)};at.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},c="leaflet-",d=this._controlContainer=ct("div",c+"control-container",this._container);function f(m,v){s[m+v]=ct("div",c+m+" "+c+v,d)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)jt(this._controlCorners[s]);jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zh=Er.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,c,d,f){return d<f?-1:f<d?1:0}},initialize:function(s,c,d){for(var f in C(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,s)this._addLayer(s[f],f);for(f in c)this._addLayer(c[f],f,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Er.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,c){return this._addLayer(s,c),this._map?this._update():this},addOverlay:function(s,c){return this._addLayer(s,c,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var c=this._getLayer(M(s));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ke(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ke(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Zt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Zt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",c=this._container=ct("div",s),d=this.options.collapsed;c.setAttribute("aria-haspopup",!0),to(c),nu(c);var f=this._section=ct("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Ge(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var m=this._layersLink=ct("a",s+"-toggle",c);m.href="#",m.title="Layers",m.setAttribute("role","button"),Ge(m,{keydown:function(v){13===v.keyCode&&this._expandSafely()},click:function(v){hn(v),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=ct("div",s+"-base",f),this._separator=ct("div",s+"-separator",f),this._overlaysList=ct("div",s+"-overlays",f),c.appendChild(f)},_getLayer:function(s){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&M(this._layers[c].layer)===s)return this._layers[c]},_addLayer:function(s,c,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:c,overlay:d}),this.options.sortLayers&&this._layers.sort(V(function(f,m){return this.options.sortFunction(f.layer,m.layer,f.name,m.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ja(this._baseLayersList),ja(this._overlaysList),this._layerControlInputs=[];var s,c,d,f,m=0;for(d=0;d<this._layers.length;d++)this._addItem(f=this._layers[d]),c=c||f.overlay,s=s||!f.overlay,m+=f.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&m>1)?"":"none"),this._separator.style.display=c&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var c=this._getLayer(M(s.target)),d=c.overlay?"add"===s.type?"overlayadd":"overlayremove":"add"===s.type?"baselayerchange":null;d&&this._map.fire(d,c)},_createRadioElement:function(s,c){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(c?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=d,f.firstChild},_addItem:function(s){var f,c=document.createElement("label"),d=this._map.hasLayer(s.layer);s.overlay?((f=document.createElement("input")).type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=d):f=this._createRadioElement("leaflet-base-layers_"+M(this),d),this._layerControlInputs.push(f),f.layerId=M(s.layer),Ge(f,"click",this._onInputClick,this);var m=document.createElement("span");m.innerHTML=" "+s.name;var v=document.createElement("span");return c.appendChild(v),v.appendChild(f),v.appendChild(m),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var c,d,s=this._layerControlInputs,f=[],m=[];this._handlingClick=!0;for(var v=s.length-1;v>=0;v--)d=this._getLayer((c=s[v]).layerId).layer,c.checked?f.push(d):c.checked||m.push(d);for(v=0;v<m.length;v++)this._map.hasLayer(m[v])&&this._map.removeLayer(m[v]);for(v=0;v<f.length;v++)this._map.hasLayer(f[v])||this._map.addLayer(f[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var c,d,s=this._layerControlInputs,f=this._map.getZoom(),m=s.length-1;m>=0;m--)d=this._getLayer((c=s[m]).layerId).layer,c.disabled=void 0!==d.options.minZoom&&f<d.options.minZoom||void 0!==d.options.maxZoom&&f>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Ge(s,"click",hn),this.expand();var c=this;setTimeout(function(){wt(s,"click",hn),c._preventClick=!1})}}),Oe=Er.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var c="leaflet-control-zoom",d=ct("div",c+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,c+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,c+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,c,d,f,m){var v=ct("a",d,f);return v.innerHTML=s,v.href="#",v.title=c,v.setAttribute("role","button"),v.setAttribute("aria-label",c),to(v),Ge(v,"click",wr),Ge(v,"click",m,this),Ge(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var s=this._map,c="leaflet-disabled";Zt(this._zoomInButton,c),Zt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ke(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ke(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});at.mergeOptions({zoomControl:!0}),at.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Oe,this.addControl(this.zoomControl))});var qa=Er.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var c="leaflet-control-scale",d=ct("div",c),f=this.options;return this._addScales(f,c+"-line",d),s.on(f.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,c,d){s.metric&&(this._mScale=ct("div",c,d)),s.imperial&&(this._iScale=ct("div",c,d))},_update:function(){var s=this._map,c=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,c]),s.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var c=this._getRoundNum(s);this._updateScale(this._mScale,c<1e3?c+" m":c/1e3+" km",c/s)},_updateImperial:function(s){var d,f,m,c=3.2808399*s;c>5280?(f=this._getRoundNum(d=c/5280),this._updateScale(this._iScale,f+" mi",f/d)):(m=this._getRoundNum(c),this._updateScale(this._iScale,m+" ft",m/c))},_updateScale:function(s,c,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=c},_getRoundNum:function(s){var c=Math.pow(10,(Math.floor(s)+"").length-1),d=s/c;return c*(d>=10?10:d>=5?5:d>=3?3:d>=2?2:1)}}),ou=Er.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(s){C(this,s),this._attributions={}},onAdd:function(s){for(var c in s.attributionControl=this,this._container=ct("div","leaflet-control-attribution"),to(this._container),s._layers)s._layers[c].getAttribution&&this.addAttribution(s._layers[c].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var c in this._attributions)this._attributions[c]&&s.push(c);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});at.mergeOptions({attributionControl:!0}),at.addInitHook(function(){this.options.attributionControl&&(new ou).addTo(this)});Er.Layers=zh,Er.Zoom=Oe,Er.Scale=qa,Er.Attribution=ou,Nt.layers=function(s,c,d){return new zh(s,c,d)},Nt.zoom=function(s){return new Oe(s)},Nt.scale=function(s){return new qa(s)},Nt.attribution=function(s){return new ou(s)};var Gn=X.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gn.addTo=function(s,c){return s.addHandler(c,this),this};var en={Events:ye},Ka=Ce.touch?"touchstart mousedown":"mousedown",no=ce.extend({options:{clickTolerance:3},initialize:function(s,c,d,f){C(this,f),this._element=s,this._dragStartTarget=c||s,this._preventOutline=d},enable:function(){this._enabled||(Ge(this._dragStartTarget,Ka,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(no._dragging===this&&this.finishDrag(!0),wt(this._dragStartTarget,Ka,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Xc(this._element,"leaflet-zoom-anim"))){if(s.touches&&1!==s.touches.length)return void(no._dragging===this&&this.finishDrag());if(!(no._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches||(no._dragging=this,this._preventOutline&&tu(this._element),$a(),No(),this._moving))){this.fire("down");var c=s.touches?s.touches[0]:s,d=Lh(this._element);this._startPoint=new de(c.clientX,c.clientY),this._startPos=Ei(this._element),this._parentScale=Za(d);var f="mousedown"===s.type;Ge(document,f?"mousemove":"touchmove",this._onMove,this),Ge(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1)return void(this._moved=!0);var c=s.touches&&1===s.touches.length?s.touches[0]:s,d=new de(c.clientX,c.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,hn(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ke(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),qt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Zt(document.body,"leaflet-dragging"),this._lastTarget&&(Zt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),wt(document,"mousemove touchmove",this._onMove,this),wt(document,"mouseup touchend touchcancel",this._onUp,this),Wa(),Ts();var c=this._moved&&this._moving;this._moving=!1,no._dragging=!1,c&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Wh(s,c,d){var f,v,T,B,W,ie,De,Be,Je,m=[1,4,2,8];for(v=0,De=s.length;v<De;v++)s[v]._code=Rn(s[v],c);for(B=0;B<4;B++){for(Be=m[B],f=[],v=0,T=(De=s.length)-1;v<De;T=v++)ie=s[T],(W=s[v])._code&Be?ie._code&Be||((Je=Ns(ie,W,Be,c,d))._code=Rn(Je,c),f.push(Je)):(ie._code&Be&&((Je=Ns(ie,W,Be,c,d))._code=Rn(Je,c),f.push(Je)),f.push(W));s=f}return s}function xt(s,c){var d,f,m,v,T,B,W,ie;if(!s||0===s.length)throw new Error("latlngs not passed");Re(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Be=Pe([0,0]),Je=ne(s);Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest())<1700&&(Be=ke(s));var fn=s.length,cr=[];for(d=0;d<fn;d++){var Pt=Pe(s[d]);cr.push(c.project(Pe([Pt.lat-Be.lat,Pt.lng-Be.lng])))}for(B=W=ie=0,d=0,f=fn-1;d<fn;f=d++)W+=((m=cr[d]).x+(v=cr[f]).x)*(T=m.y*v.x-v.y*m.x),ie+=(m.y+v.y)*T,B+=3*T;var Lo=c.unproject(me(0===B?cr[0]:[W/B,ie/B]));return Pe([Lo.lat+Be.lat,Lo.lng+Be.lng])}function ke(s){for(var c=0,d=0,f=0,m=0;m<s.length;m++){var v=Pe(s[m]);c+=v.lat,d+=v.lng,f++}return Pe([c/f,d/f])}var Xa,Ya={__proto__:null,clipPolygon:Wh,polygonCenter:xt,centroid:ke};function Qa(s,c){if(!c||!s.length)return s.slice();var d=c*c;return function ae(s,c){var d=s.length,m=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(d);m[0]=m[d-1]=1,bi(s,m,c,0,d-1);var v,T=[];for(v=0;v<d;v++)m[v]&&T.push(s[v]);return T}(s=function Ms(s,c){for(var d=[s[0]],f=1,m=0,v=s.length;f<v;f++)Ps(s[f],s[m])>c&&(d.push(s[f]),m=f);return m<v-1&&d.push(s[v-1]),d}(s,d),d)}function F0(s,c,d){return Math.sqrt(Ro(s,c,d,!0))}function bi(s,c,d,f,m){var T,B,W,v=0;for(B=f+1;B<=m-1;B++)(W=Ro(s[B],s[f],s[m],!0))>v&&(T=B,v=W);v>d&&(c[T]=1,bi(s,c,d,f,T),bi(s,c,d,T,m))}function Ja(s,c,d,f,m){var B,W,ie,v=f?Xa:Rn(s,d),T=Rn(c,d);for(Xa=T;;){if(!(v|T))return[s,c];if(v&T)return!1;ie=Rn(W=Ns(s,c,B=v||T,d,m),d),B===v?(s=W,v=ie):(c=W,T=ie)}}function Ns(s,c,d,f,m){var ie,De,v=c.x-s.x,T=c.y-s.y,B=f.min,W=f.max;return 8&d?(ie=s.x+v*(W.y-s.y)/T,De=W.y):4&d?(ie=s.x+v*(B.y-s.y)/T,De=B.y):2&d?(ie=W.x,De=s.y+T*(W.x-s.x)/v):1&d&&(ie=B.x,De=s.y+T*(B.x-s.x)/v),new de(ie,De,m)}function Rn(s,c){var d=0;return s.x<c.min.x?d|=1:s.x>c.max.x&&(d|=2),s.y<c.min.y?d|=4:s.y>c.max.y&&(d|=8),d}function Ps(s,c){var d=c.x-s.x,f=c.y-s.y;return d*d+f*f}function Ro(s,c,d,f){var ie,m=c.x,v=c.y,T=d.x-m,B=d.y-v,W=T*T+B*B;return W>0&&((ie=((s.x-m)*T+(s.y-v)*B)/W)>1?(m=d.x,v=d.y):ie>0&&(m+=T*ie,v+=B*ie)),T=s.x-m,B=s.y-v,f?T*T+B*B:new de(m,v)}function Re(s){return!k(s[0])||"object"!=typeof s[0][0]&&typeof s[0][0]<"u"}function dt(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Re(s)}function k0(s,c){var d,f,m,v,T,B,W,ie;if(!s||0===s.length)throw new Error("latlngs not passed");Re(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var De=Pe([0,0]),Be=ne(s);Be.getNorthWest().distanceTo(Be.getSouthWest())*Be.getNorthEast().distanceTo(Be.getNorthWest())<1700&&(De=ke(s));var Sn=s.length,fn=[];for(d=0;d<Sn;d++){var cr=Pe(s[d]);fn.push(c.project(Pe([cr.lat-De.lat,cr.lng-De.lng])))}for(d=0,f=0;d<Sn-1;d++)f+=fn[d].distanceTo(fn[d+1])/2;if(0===f)ie=fn[0];else for(d=0,v=0;d<Sn-1;d++)if((v+=m=(T=fn[d]).distanceTo(B=fn[d+1]))>f){ie=[B.x-(W=(v-f)/m)*(B.x-T.x),B.y-W*(B.y-T.y)];break}var Pt=c.unproject(me(ie));return Pe([Pt.lat+De.lat,Pt.lng+De.lng])}var L0={__proto__:null,simplify:Qa,pointToSegmentDistance:F0,closestPointOnSegment:function Gh(s,c,d){return Ro(s,c,d)},clipSegment:Ja,_getEdgeIntersection:Ns,_getBitCode:Rn,_sqClosestPointOnSegment:Ro,isFlat:Re,_flat:dt,polylineCenter:k0},su={project:function(s){return new de(s.lng,s.lat)},unproject:function(s){return new Y(s.y,s.x)},bounds:new Te([-180,-90],[180,90])},Zh={R:6378137,R_MINOR:6356752.314245179,bounds:new Te([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var c=Math.PI/180,d=this.R,f=s.lat*c,m=this.R_MINOR/d,v=Math.sqrt(1-m*m),T=v*Math.sin(f),B=Math.tan(Math.PI/4-f/2)/Math.pow((1-T)/(1+T),v/2);return f=-d*Math.log(Math.max(B,1e-10)),new de(s.lng*c*d,f)},unproject:function(s){for(var ie,c=180/Math.PI,d=this.R,f=this.R_MINOR/d,m=Math.sqrt(1-f*f),v=Math.exp(-s.y/d),T=Math.PI/2-2*Math.atan(v),B=0,W=.1;B<15&&Math.abs(W)>1e-7;B++)ie=m*Math.sin(T),ie=Math.pow((1-ie)/(1+ie),m/2),T+=W=Math.PI/2-2*Math.atan(v*ie)-T;return new Y(T*c,s.x*c/d)}},B0={__proto__:null,LonLat:su,Mercator:Zh,SphericalMercator:gi},au=x({},Ht,{code:"EPSG:3395",projection:Zh,transformation:function(){var s=.5/(Math.PI*Zh.R);return Yr(s,.5,-s,.5)}()}),Ln=x({},Ht,{code:"EPSG:4326",projection:su,transformation:Yr(1/180,1,-1/180,.5)}),lw=x({},st,{projection:su,transformation:Yr(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,c){var d=c.lng-s.lng,f=c.lat-s.lat;return Math.sqrt(d*d+f*f)},infinite:!0});st.Earth=Ht,st.EPSG3395=au,st.EPSG3857=mi,st.EPSG900913=et,st.EPSG4326=Ln,st.Simple=lw;var Dr=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[M(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[M(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var c=s.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var d=this.getEvents();c.on(d,this),this.once("remove",function(){c.off(d,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});at.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var c=M(s);return this._layers[c]||(this._layers[c]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this},removeLayer:function(s){var c=M(s);return this._layers[c]?(this._loaded&&s.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return M(s)in this._layers},eachLayer:function(s,c){for(var d in this._layers)s.call(c,this._layers[d]);return this},_addLayers:function(s){for(var c=0,d=(s=s?k(s)?s:[s]:[]).length;c<d;c++)this.addLayer(s[c])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[M(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var c=M(s);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,c=-1/0,d=this._getZoomSpan();for(var f in this._zoomBoundLayers){var m=this._zoomBoundLayers[f].options;s=void 0===m.minZoom?s:Math.min(s,m.minZoom),c=void 0===m.maxZoom?c:Math.max(c,m.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rs=Dr.extend({initialize:function(s,c){var d,f;if(C(this,c),this._layers={},s)for(d=0,f=s.length;d<f;d++)this.addLayer(s[d])},addLayer:function(s){var c=this.getLayerId(s);return this._layers[c]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var c=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(s){return("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var d,f,c=Array.prototype.slice.call(arguments,1);for(d in this._layers)(f=this._layers[d])[s]&&f[s].apply(f,c);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,c){for(var d in this._layers)s.call(c,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return M(s)}}),Ii=Rs.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Rs.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Rs.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new re;for(var c in this._layers){var d=this._layers[c];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Os=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){C(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,c){var d=this._getIconUrl(s);if(!d){if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(d,c&&"IMG"===c.tagName?c:null);return this._setIconStyles(f,s),(this.options.crossOrigin||""===this.options.crossOrigin)&&(f.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),f},_setIconStyles:function(s,c){var d=this.options,f=d[c+"Size"];"number"==typeof f&&(f=[f,f]);var m=me(f),v=me("shadow"===c&&d.shadowAnchor||d.iconAnchor||m&&m.divideBy(2,!0));s.className="leaflet-marker-"+c+" "+(d.className||""),v&&(s.style.marginLeft=-v.x+"px",s.style.marginTop=-v.y+"px"),m&&(s.style.width=m.x+"px",s.style.height=m.y+"px")},_createImg:function(s,c){return(c=c||document.createElement("img")).src=s,c},_getIconUrl:function(s){return Ce.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});var Fs=Os.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return"string"!=typeof Fs.imagePath&&(Fs.imagePath=this._detectIconPath()),(this.options.imagePath||Fs.imagePath)+Os.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var c=function(d,f,m){var v=f.exec(d);return v&&v[m]};return(s=c(s,/^url\((['"])?(.+)\1\)$/,2))&&c(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ct("div","leaflet-default-icon-path",document.body),c=Is(s,"background-image")||Is(s,"backgroundImage");if(document.body.removeChild(s),c=this._stripUrl(c))return c;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),V0=Gn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new no(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ke(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Zt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var c=this._marker,d=c._map,f=this._marker.options.autoPanSpeed,m=this._marker.options.autoPanPadding,v=Ei(c._icon),T=d.getPixelBounds(),B=d.getPixelOrigin(),W=ee(T.min._subtract(B).add(m),T.max._subtract(B).subtract(m));if(!W.contains(v)){var ie=me((Math.max(W.max.x,v.x)-W.max.x)/(T.max.x-W.max.x)-(Math.min(W.min.x,v.x)-W.min.x)/(T.min.x-W.min.x),(Math.max(W.max.y,v.y)-W.max.y)/(T.max.y-W.max.y)-(Math.min(W.min.y,v.y)-W.min.y)/(T.min.y-W.min.y)).multiplyBy(f);d.panBy(ie,{animate:!1}),this._draggable._newPos._add(ie),this._draggable._startPos._add(ie),qt(c._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=se(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ue(this._panRequest),this._panRequest=se(this._adjustPan.bind(this,s)))},_onDrag:function(s){var c=this._marker,d=c._shadow,f=Ei(c._icon),m=c._map.layerPointToLatLng(f);d&&qt(d,f),c._latlng=m,s.latlng=m,s.oldLatLng=this._oldLatLng,c.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ue(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),el=Dr.extend({options:{icon:new Fs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,c){C(this,c),this._latlng=Pe(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var c=this._latlng;return this._latlng=Pe(s),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),f=!1;d!==this._icon&&(this._icon&&this._removeIcon(),f=!0,s.title&&(d.title=s.title),"IMG"===d.tagName&&(d.alt=s.alt||"")),Ke(d,c),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(d,"focus",this._panOnFocus,this);var m=s.icon.createShadow(this._shadow),v=!1;m!==this._shadow&&(this._removeShadow(),v=!0),m&&(Ke(m,c),m.alt=""),this._shadow=m,s.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),m&&v&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wt(this._icon,"focus",this._panOnFocus,this),jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&jt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&qt(this._icon,s),this._shadow&&qt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),V0)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new V0(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&or(this._icon,s),this._shadow&&or(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var c=this.options.icon.options,d=c.iconSize?me(c.iconSize):me(0,0),f=c.iconAnchor?me(c.iconAnchor):me(0,0);s.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:d.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Kt=Dr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return C(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fe=Kt.extend({options:{fill:!0,radius:10},initialize:function(s,c){C(this,c),this._latlng=Pe(s),this._radius=this.options.radius},setLatLng:function(s){var c=this._latlng;return this._latlng=Pe(s),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var c=s&&s.radius||this._radius;return Kt.prototype.setStyle.call(this,s),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,c=this._radiusY||s,d=this._clickTolerance(),f=[s+d,c+d];this._pxBounds=new Te(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var qh=Fe.extend({initialize:function(s,c,d){if("number"==typeof c&&(c=x({},d,{radius:c})),C(this,c),this._latlng=Pe(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new re(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Kt.prototype.setStyle,_project:function(){var s=this._latlng.lng,c=this._latlng.lat,d=this._map,f=d.options.crs;if(f.distance===Ht.distance){var m=Math.PI/180,v=this._mRadius/Ht.R/m,T=d.project([c+v,s]),B=d.project([c-v,s]),W=T.add(B).divideBy(2),ie=d.unproject(W).lat,De=Math.acos((Math.cos(v*m)-Math.sin(c*m)*Math.sin(ie*m))/(Math.cos(c*m)*Math.cos(ie*m)))/m;(isNaN(De)||0===De)&&(De=v/Math.cos(Math.PI/180*c)),this._point=W.subtract(d.getPixelOrigin()),this._radius=isNaN(De)?0:W.x-d.project([ie,s-De]).x,this._radiusY=W.y-T.y}else{var Be=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Be).x}this._updateBounds()}});var Ai=Kt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,c){C(this,c),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var m,v,c=1/0,d=null,f=Ro,T=0,B=this._parts.length;T<B;T++)for(var W=this._parts[T],ie=1,De=W.length;ie<De;ie++){var Be=f(s,m=W[ie-1],v=W[ie],!0);Be<c&&(c=Be,d=f(s,m,v))}return d&&(d.distance=Math.sqrt(c)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return k0(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,c){return c=c||this._defaultShape(),s=Pe(s),c.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new re,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Re(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var c=[],d=Re(s),f=0,m=s.length;f<m;f++)d?(c[f]=Pe(s[f]),this._bounds.extend(c[f])):c[f]=this._convertLatLngs(s[f]);return c},_project:function(){var s=new Te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),c=new de(s,s);this._rawPxBounds&&(this._pxBounds=new Te([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(s,c,d){var v,T,m=s.length;if(s[0]instanceof Y){for(T=[],v=0;v<m;v++)T[v]=this._map.latLngToLayerPoint(s[v]),d.extend(T[v]);c.push(T)}else for(v=0;v<m;v++)this._projectLatlngs(s[v],c,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);var d,f,m,v,T,B,W,c=this._parts;for(d=0,m=0,v=this._rings.length;d<v;d++)for(f=0,T=(W=this._rings[d]).length;f<T-1;f++)(B=Ja(W[f],W[f+1],s,f,!0))&&(c[m]=c[m]||[],c[m].push(B[0]),(B[1]!==W[f+1]||f===T-2)&&(c[m].push(B[1]),m++))}},_simplifyPoints:function(){for(var s=this._parts,c=this.options.smoothFactor,d=0,f=s.length;d<f;d++)s[d]=Qa(s[d],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,c){var d,f,m,v,T,B,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,v=this._parts.length;d<v;d++)for(f=0,m=(T=(B=this._parts[d]).length)-1;f<T;m=f++)if((c||0!==f)&&F0(s,B[m],B[f])<=W)return!0;return!1}});Ai._flat=dt;var ks=Ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var c=Ai.prototype._convertLatLngs.call(this,s),d=c.length;return d>=2&&c[0]instanceof Y&&c[0].equals(c[d-1])&&c.pop(),c},_setLatLngs:function(s){Ai.prototype._setLatLngs.call(this,s),Re(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Re(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,c=this.options.weight,d=new de(c,c);if(s=new Te(s.min.subtract(d),s.max.add(d)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);for(var v,f=0,m=this._rings.length;f<m;f++)(v=Wh(this._rings[f],s,!0)).length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var d,f,m,v,T,B,W,ie,c=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(v=0,W=this._parts.length;v<W;v++)for(T=0,B=(ie=(d=this._parts[v]).length)-1;T<ie;B=T++)(f=d[T]).y>s.y!=(m=d[B]).y>s.y&&s.x<(m.x-f.x)*(s.y-f.y)/(m.y-f.y)+f.x&&(c=!c);return c||Ai.prototype._containsPoint.call(this,s,!0)}});var lr=Ii.extend({initialize:function(s,c){C(this,c),this._layers={},s&&this.addData(s)},addData:function(s){var d,f,m,c=k(s)?s:s.features;if(c){for(d=0,f=c.length;d<f;d++)((m=c[d]).geometries||m.geometry||m.features||m.coordinates)&&this.addData(m);return this}var v=this.options;if(v.filter&&!v.filter(s))return this;var T=tl(s,v);return T?(T.feature=nl(s),T.defaultOptions=T.options,this.resetStyle(T),v.onEachFeature&&v.onEachFeature(s,T),this.addLayer(T)):this},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=x({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(c){this._setLayerStyle(c,s)},this)},_setLayerStyle:function(s,c){s.setStyle&&("function"==typeof c&&(c=c(s.feature)),s.setStyle(c))}});function tl(s,c){var B,W,ie,De,d="Feature"===s.type?s.geometry:s,f=d?d.coordinates:null,m=[],v=c&&c.pointToLayer,T=c&&c.coordsToLatLng||cu;if(!f&&!d)return null;switch(d.type){case"Point":return lu(v,s,B=T(f),c);case"MultiPoint":for(ie=0,De=f.length;ie<De;ie++)B=T(f[ie]),m.push(lu(v,s,B,c));return new Ii(m);case"LineString":case"MultiLineString":return W=ro(f,"LineString"===d.type?0:1,T),new Ai(W,c);case"Polygon":case"MultiPolygon":return W=ro(f,"Polygon"===d.type?1:2,T),new ks(W,c);case"GeometryCollection":for(ie=0,De=d.geometries.length;ie<De;ie++){var Be=tl({geometry:d.geometries[ie],type:"Feature",properties:s.properties},c);Be&&m.push(Be)}return new Ii(m);case"FeatureCollection":for(ie=0,De=d.features.length;ie<De;ie++){var Je=tl(d.features[ie],c);Je&&m.push(Je)}return new Ii(m);default:throw new Error("Invalid GeoJSON object.")}}function lu(s,c,d,f){return s?s(c,d):new el(d,f&&f.markersInheritOptions&&f)}function cu(s){return new Y(s[1],s[0],s[2])}function ro(s,c,d){for(var T,f=[],m=0,v=s.length;m<v;m++)T=c?ro(s[m],c-1,d):(d||cu)(s[m]),f.push(T);return f}function Oo(s,c){return void 0!==(s=Pe(s)).alt?[F(s.lng,c),F(s.lat,c),F(s.alt,c)]:[F(s.lng,c),F(s.lat,c)]}function Fo(s,c,d,f){for(var m=[],v=0,T=s.length;v<T;v++)m.push(c?Fo(s[v],Re(s[v])?0:c-1,d,f):Oo(s[v],f));return!c&&d&&m.length>0&&m.push(m[0].slice()),m}function io(s,c){return s.feature?x({},s.feature,{geometry:c}):nl(c)}function nl(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}var Qe={toGeoJSON:function(s){return io(this,{type:"Point",coordinates:Oo(this.getLatLng(),s)})}};function rl(s,c){return new lr(s,c)}el.include(Qe),qh.include(Qe),Fe.include(Qe),Ai.include({toGeoJSON:function(s){var c=!Re(this._latlngs);return io(this,{type:(c?"Multi":"")+"LineString",coordinates:Fo(this._latlngs,c?1:0,!1,s)})}}),ks.include({toGeoJSON:function(s){var c=!Re(this._latlngs),d=c&&!Re(this._latlngs[0]),f=Fo(this._latlngs,d?2:c?1:0,!0,s);return c||(f=[f]),io(this,{type:(d?"Multi":"")+"Polygon",coordinates:f})}}),Rs.include({toMultiPoint:function(s){var c=[];return this.eachLayer(function(d){c.push(d.toGeoJSON(s).geometry.coordinates)}),io(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(s){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===c)return this.toMultiPoint(s);var d="GeometryCollection"===c,f=[];return this.eachLayer(function(m){if(m.toGeoJSON){var v=m.toGeoJSON(s);if(d)f.push(v.geometry);else{var T=nl(v);"FeatureCollection"===T.type?f.push.apply(f,T.features):f.push(T)}}}),d?io(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});var Kh=rl,vn=Dr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,c,d){this._url=s,this._bounds=ne(c),C(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&To(this._image),this},bringToBack:function(){return this._map&&Mo(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ne(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,c=this._image=s?this._url:ct("img");Ke(c,"leaflet-image-layer"),this._zoomAnimated&&Ke(c,"leaflet-zoom-animated"),this.options.className&&Ke(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onload=V(this.fire,this,"load"),c.onerror=V(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(c.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=c.src:(c.src=this._url,c.alt=this.options.alt)},_animateZoom:function(s){var c=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;wi(this._image,d,c)},_reset:function(){var s=this._image,c=new Te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=c.getSize();qt(s,c.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){or(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),H0=vn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s="VIDEO"===this._url.tagName,c=this._image=s?this._url:ct("video");if(Ke(c,"leaflet-image-layer"),this._zoomAnimated&&Ke(c,"leaflet-zoom-animated"),this.options.className&&Ke(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onloadeddata=V(this.fire,this,"load"),s){for(var d=c.getElementsByTagName("source"),f=[],m=0;m<d.length;m++)f.push(d[m].src);this._url=d.length>0?f:[c.src]}else{k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var T=ct("source");T.src=this._url[v],c.appendChild(T)}}}});var j0=vn.extend({_initImage:function(){var s=this._image=this._url;Ke(s,"leaflet-image-layer"),this._zoomAnimated&&Ke(s,"leaflet-zoom-animated"),this.options.className&&Ke(s,this.options.className),s.onselectstart=A,s.onmousemove=A}});var _e=Dr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,c){s&&(s instanceof Y||k(s))?(this._latlng=Pe(s),C(this,c)):(C(this,s),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(s){return(s=arguments.length?s:this._source._map).hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&or(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&or(this._container,1),this.bringToFront(),this.options.interactive&&(Ke(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(or(this._container,0),this._removeTimeout=setTimeout(V(jt,void 0,this._container),200)):jt(this._container),this.options.interactive&&(Zt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Pe(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&To(this._container),this},bringToBack:function(){return this._map&&Mo(this._container),this},_prepareOpen:function(s){var c=this._source;if(!c._map)return!1;if(c instanceof Ii){c=null;var d=this._source._layers;for(var f in d)if(d[f]._map){c=d[f];break}if(!c)return!1;this._source=c}if(!s)if(c.getCenter)s=c.getCenter();else if(c.getLatLng)s=c.getLatLng();else{if(!c.getBounds)throw new Error("Unable to get source layer LatLng.");s=c.getBounds().getCenter()}return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,c="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof c)s.innerHTML=c;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),c=me(this.options.offset),d=this._getAnchor();this._zoomAnimated?qt(this._container,s.add(d)):c=c.add(s).add(d);var f=this._containerBottom=-c.y,m=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=f+"px",this._container.style.left=m+"px"}},_getAnchor:function(){return[0,0]}});at.include({_initOverlay:function(s,c,d,f){var m=c;return m instanceof s||(m=new s(f).setContent(c)),d&&m.setLatLng(d),m}}),Dr.include({_initOverlay:function(s,c,d,f){var m=d;return m instanceof s?(C(m,f),m._source=this):(m=c&&!f?c:new s(f,this)).setContent(d),m}});var ko=_e.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return!(s=arguments.length?s:this._source._map).hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,_e.prototype.openOn.call(this,s)},onAdd:function(s){_e.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kt||this._source.on("preclick",eo))},onRemove:function(s){_e.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kt||this._source.off("preclick",eo))},getEvents:function(){var s=_e.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",c=this._container=ct("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=ct("div",s+"-content-wrapper",c);if(this._contentNode=ct("div",s+"-content",d),to(c),nu(this._contentNode),Ge(c,"contextmenu",eo),this._tipContainer=ct("div",s+"-tip-container",c),this._tip=ct("div",s+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=ct("a",s+"-close-button",c);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',Ge(f,"click",function(m){hn(m),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,c=s.style;c.width="",c.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),c.width=d+1+"px",c.whiteSpace="",c.height="";var m=this.options.maxHeight,v="leaflet-popup-scrolled";m&&s.offsetHeight>m?(c.height=m+"px",Ke(s,v)):Zt(s,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();qt(this._container,c.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var s=this._map,c=parseInt(Is(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+c,f=this._containerWidth,m=new de(this._containerLeft,-d-this._containerBottom);m._add(Ei(this._container));var v=s.layerPointToContainerPoint(m),T=me(this.options.autoPanPadding),B=me(this.options.autoPanPaddingTopLeft||T),W=me(this.options.autoPanPaddingBottomRight||T),ie=s.getSize(),De=0,Be=0;v.x+f+W.x>ie.x&&(De=v.x+f-ie.x+W.x),v.x-De-B.x<0&&(De=v.x-B.x),v.y+d+W.y>ie.y&&(Be=v.y+d-ie.y+W.y),v.y-Be-B.y<0&&(Be=v.y-B.y),(De||Be)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([De,Be]))}},_getAnchor:function(){return me(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});at.mergeOptions({closePopupOnClick:!0}),at.include({openPopup:function(s,c,d){return this._initOverlay(ko,s,c,d).openOn(this),this},closePopup:function(s){return(s=arguments.length?s:this._popup)&&s.close(),this}}),Dr.include({bindPopup:function(s,c){return this._popup=this._initOverlay(ko,this._popup,s,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ii||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(this._popup&&this._map){wr(s);var c=s.layer||s.target;if(this._popup._source===c&&!(c instanceof Kt))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng));this._popup._source=c,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}});var Ls=_e.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){_e.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){_e.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=_e.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){this._contentNode=this._container=ct("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+M(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var c,d,f=this._map,m=this._container,v=f.latLngToContainerPoint(f.getCenter()),T=f.layerPointToContainerPoint(s),B=this.options.direction,W=m.offsetWidth,ie=m.offsetHeight,De=me(this.options.offset),Be=this._getAnchor();"top"===B?(c=W/2,d=ie):"bottom"===B?(c=W/2,d=0):"center"===B?(c=W/2,d=ie/2):"right"===B?(c=0,d=ie/2):"left"===B?(c=W,d=ie/2):T.x<v.x?(B="right",c=0,d=ie/2):(B="left",c=W+2*(De.x+Be.x),d=ie/2),s=s.subtract(me(c,d,!0)).add(De).add(Be),Zt(m,"leaflet-tooltip-right"),Zt(m,"leaflet-tooltip-left"),Zt(m,"leaflet-tooltip-top"),Zt(m,"leaflet-tooltip-bottom"),Ke(m,"leaflet-tooltip-"+B),qt(m,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&or(this._container,s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(c)},_getAnchor:function(){return me(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});at.include({openTooltip:function(s,c,d){return this._initOverlay(Ls,s,c,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Dr.include({bindTooltip:function(s,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ls,this._tooltip,s,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(s||!this._tooltipHandlersAdded){var c=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[c](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ii||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var c="function"==typeof s.getElement&&s.getElement();c&&(Ge(c,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Ge(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var c="function"==typeof s.getElement&&s.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;return void this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(s)})}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var d,f,c=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),f=this._map.containerPointToLayerPoint(d),c=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(c)}});var Qh=Os.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var c=s&&"DIV"===s.tagName?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(ja(c),c.appendChild(d.html)):c.innerHTML=!1!==d.html?d.html:"",d.bgPos){var f=me(d.bgPos);c.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});Os.Default=Fs;var il=Dr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){C(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),jt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(To(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Q(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof de?s:new de(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var v,c=this.getPane().children,d=-s(-1/0,1/0),f=0,m=c.length;f<m;f++)v=c[f].style.zIndex,c[f]!==this._container&&v&&(d=s(d,+v));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){or(this._container,this.options.opacity);var s=+new Date,c=!1,d=!1;for(var f in this._tiles){var m=this._tiles[f];if(m.current&&m.loaded){var v=Math.min(1,(s-m.loaded)/200);or(m.el,v),v<1?c=!0:(m.active?d=!0:this._onOpaqueTile(m),m.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),c&&(ue(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=ct("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,c=this.options.maxZoom;if(void 0!==s){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=c-Math.abs(s-d),this._onUpdateLevel(d)):(jt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var f=this._levels[s],m=this._map;return f||((f=this._levels[s]={}).el=ct("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=c,f.origin=m.project(m.unproject(m.getPixelOrigin()),s).round(),f.zoom=s,this._setZoomTransform(f,m.getCenter(),m.getZoom()),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var s,c,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom)return void this._removeAllTiles();for(s in this._tiles)(c=this._tiles[s]).retain=c.current;for(s in this._tiles)if((c=this._tiles[s]).current&&!c.active){var f=c.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var c in this._tiles)this._tiles[c].coords.z===s&&this._removeTile(c)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)jt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,c,d,f){var m=Math.floor(s/2),v=Math.floor(c/2),T=d-1,B=new de(+m,+v);B.z=+T;var W=this._tileCoordsToKey(B),ie=this._tiles[W];return ie&&ie.active?(ie.retain=!0,!0):(ie&&ie.loaded&&(ie.retain=!0),T>f&&this._retainParent(m,v,T,f))},_retainChildren:function(s,c,d,f){for(var m=2*s;m<2*s+2;m++)for(var v=2*c;v<2*c+2;v++){var T=new de(m,v);T.z=d+1;var B=this._tileCoordsToKey(T),W=this._tiles[B];W&&W.active?W.retain=!0:(W&&W.loaded&&(W.retain=!0),d+1<f&&this._retainChildren(m,v,d+1,f))}},_resetView:function(s){var c=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var c=this.options;return void 0!==c.minNativeZoom&&s<c.minNativeZoom?c.minNativeZoom:void 0!==c.maxNativeZoom&&c.maxNativeZoom<s?c.maxNativeZoom:s},_setView:function(s,c,d,f){var m=Math.round(c);m=void 0!==this.options.maxZoom&&m>this.options.maxZoom||void 0!==this.options.minZoom&&m<this.options.minZoom?void 0:this._clampZoom(m),(!f||this.options.updateWhenZooming&&m!==this._tileZoom)&&(this._tileZoom=m,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==m&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,c)},_setZoomTransforms:function(s,c){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,c)},_setZoomTransform:function(s,c,d){var f=this._map.getZoomScale(d,s.zoom),m=s.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(c,d)).round();Ce.any3d?wi(s.el,m,f):qt(s.el,m)},_resetGrid:function(){var s=this._map,c=s.options.crs,d=this._tileSize=this.getTileSize(),f=this._tileZoom,m=this._map.getPixelWorldBounds(this._tileZoom);m&&(this._globalTileRange=this._pxBoundsToTileRange(m)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,c.wrapLng[0]],f).x/d.x),Math.ceil(s.project([0,c.wrapLng[1]],f).x/d.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([c.wrapLat[0],0],f).y/d.x),Math.ceil(s.project([c.wrapLat[1],0],f).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var c=this._map,d=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),f=c.getZoomScale(d,this._tileZoom),m=c.project(s,this._tileZoom).floor(),v=c.getSize().divideBy(2*f);return new Te(m.subtract(v),m.add(v))},_update:function(s){var c=this._map;if(c){var d=this._clampZoom(c.getZoom());if(void 0===s&&(s=c.getCenter()),void 0!==this._tileZoom){var f=this._getTiledPixelBounds(s),m=this._pxBoundsToTileRange(f),v=m.getCenter(),T=[],B=this.options.keepBuffer,W=new Te(m.getBottomLeft().subtract([B,-B]),m.getTopRight().add([B,-B]));if(!(isFinite(m.min.x)&&isFinite(m.min.y)&&isFinite(m.max.x)&&isFinite(m.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ie in this._tiles){var De=this._tiles[ie].coords;(De.z!==this._tileZoom||!W.contains(new de(De.x,De.y)))&&(this._tiles[ie].current=!1)}if(Math.abs(d-this._tileZoom)>1)return void this._setView(s,d);for(var Be=m.min.y;Be<=m.max.y;Be++)for(var Je=m.min.x;Je<=m.max.x;Je++){var Sn=new de(Je,Be);if(Sn.z=this._tileZoom,this._isValidTile(Sn)){var fn=this._tiles[this._tileCoordsToKey(Sn)];fn?fn.current=!0:T.push(Sn)}}if(T.sort(function(Pt,Lo){return Pt.distanceTo(v)-Lo.distanceTo(v)}),0!==T.length){this._loading||(this._loading=!0,this.fire("loading"));var cr=document.createDocumentFragment();for(Je=0;Je<T.length;Je++)this._addTile(T[Je],cr);this._level.el.appendChild(cr)}}}},_isValidTile:function(s){var c=this._map.options.crs;if(!c.infinite){var d=this._globalTileRange;if(!c.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!c.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(s);return ne(this.options.bounds).overlaps(f)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var c=this._map,d=this.getTileSize(),f=s.scaleBy(d),m=f.add(d);return[c.unproject(f,s.z),c.unproject(m,s.z)]},_tileCoordsToBounds:function(s){var c=this._tileCoordsToNwSe(s),d=new re(c[0],c[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var c=s.split(":"),d=new de(+c[0],+c[1]);return d.z=+c[2],d},_removeTile:function(s){var c=this._tiles[s];c&&(jt(c.el),delete this._tiles[s],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ke(s,"leaflet-tile");var c=this.getTileSize();s.style.width=c.x+"px",s.style.height=c.y+"px",s.onselectstart=A,s.onmousemove=A,Ce.ielt9&&this.options.opacity<1&&or(s,this.options.opacity)},_addTile:function(s,c){var d=this._getTilePos(s),f=this._tileCoordsToKey(s),m=this.createTile(this._wrapCoords(s),V(this._tileReady,this,s));this._initTile(m),this.createTile.length<2&&se(V(this._tileReady,this,s,null,m)),qt(m,d),this._tiles[f]={el:m,coords:s,current:!0},c.appendChild(m),this.fire("tileloadstart",{tile:m,coords:s})},_tileReady:function(s,c,d){c&&this.fire("tileerror",{error:c,tile:d,coords:s});var f=this._tileCoordsToKey(s);(d=this._tiles[f])&&(d.loaded=+new Date,this._map._fadeAnimated?(or(d.el,0),ue(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),c||(Ke(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?se(this._pruneTiles,this):setTimeout(V(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var c=new de(this._wrapX?w(s.x,this._wrapX):s.x,this._wrapY?w(s.y,this._wrapY):s.y);return c.z=s.z,c},_pxBoundsToTileRange:function(s){var c=this.getTileSize();return new Te(s.min.unscaleBy(c).floor(),s.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});var Bs=il.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,c){this._url=s,(c=C(this,c)).detectRetina&&Ce.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),"string"==typeof c.subdomains&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,c){return this._url===s&&void 0===c&&(c=!0),this._url=s,c||this.redraw(),this},createTile:function(s,c){var d=document.createElement("img");return Ge(d,"load",V(this._tileOnLoad,this,c,d)),Ge(d,"error",V(this._tileOnError,this,c,d)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(d.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var c={r:Ce.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(c.y=d),c["-y"]=d}return j(this._url,x(c,this.options))},_tileOnLoad:function(s,c){Ce.ielt9?setTimeout(V(s,this,null,c),0):s(null,c)},_tileOnError:function(s,c,d){var f=this.options.errorTileUrl;f&&c.getAttribute("src")!==f&&(c.src=f),s(d,c)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return this.options.zoomReverse&&(s=this.options.maxZoom-s),s+this.options.zoomOffset},_getSubdomain:function(s){var c=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var s,c;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&((c=this._tiles[s].el).onload=A,c.onerror=A,!c.complete)){c.src=S;var d=this._tiles[s].coords;jt(c),delete this._tiles[s],this.fire("tileabort",{tile:c,coords:d})}},_removeTile:function(s){var c=this._tiles[s];if(c)return c.el.setAttribute("src",S),il.prototype._removeTile.call(this,s)},_tileReady:function(s,c,d){if(this._map&&(!d||d.getAttribute("src")!==S))return il.prototype._tileReady.call(this,s,c,d)}});function U0(s,c){return new Bs(s,c)}var z0=Bs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,c){this._url=s;var d=x({},this.defaultWmsParams);for(var f in c)f in this.options||(d[f]=c[f]);var m=(c=C(this,c)).detectRetina&&Ce.retina?2:1,v=this.getTileSize();d.width=v.x*m,d.height=v.y*m,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,Bs.prototype.onAdd.call(this,s)},getTileUrl:function(s){var c=this._tileCoordsToNwSe(s),d=this._crs,f=ee(d.project(c[0]),d.project(c[1])),m=f.min,v=f.max,T=(this._wmsVersion>=1.3&&this._crs===Ln?[m.y,m.x,v.y,v.x]:[m.x,m.y,v.x,v.y]).join(","),B=Bs.prototype.getTileUrl.call(this,s);return B+R(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(s,c){return x(this.wmsParams,s),c||this.redraw(),this}});Bs.WMS=z0,U0.wms=function Vs(s,c){return new z0(s,c)};var br=Dr.extend({options:{padding:.1},initialize:function(s){C(this,s),M(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,c){var d=this._map.getZoomScale(c,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),m=this._map.project(this._center,c),v=f.multiplyBy(-d).add(m).subtract(this._map._getNewPixelOrigin(s,c));Ce.any3d?wi(this._container,v,d):qt(this._container,v)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,c=this._map.getSize(),d=this._map.containerPointToLayerPoint(c.multiplyBy(-s)).round();this._bounds=new Te(d,d.add(c.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hs=br.extend({options:{tolerance:0},getEvents:function(){var s=br.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){br.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Ge(s,"mousemove",this._onMouseMove,this),Ge(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ge(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ue(this._redrawRequest),delete this._ctx,jt(this._container),wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var c in this._redrawBounds=null,this._layers)this._layers[c]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){br.prototype._update.call(this);var s=this._bounds,c=this._container,d=s.getSize(),f=Ce.retina?2:1;qt(c,s.min),c.width=f*d.x,c.height=f*d.y,c.style.width=d.x+"px",c.style.height=d.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){br.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[M(s)]=s;var c=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var c=s._order,d=c.next,f=c.prev;d?d.prev=f:this._drawLast=f,f?f.next=d:this._drawFirst=d,delete s._order,delete this._layers[M(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){var f,m,c=s.options.dashArray.split(/[, ]+/),d=[];for(m=0;m<c.length;m++){if(f=Number(c[m]),isNaN(f))return;d.push(f)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||se(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var c=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Te,this._redrawBounds.extend(s._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(s._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var c=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,c=this._redrawBounds;if(this._ctx.save(),c){var d=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)s=f.layer,(!c||s._pxBounds&&s._pxBounds.intersects(c))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,c){if(this._drawing){var d,f,m,v,T=s._parts,B=T.length,W=this._ctx;if(B){for(W.beginPath(),d=0;d<B;d++){for(f=0,m=T[d].length;f<m;f++)W[f?"lineTo":"moveTo"]((v=T[d][f]).x,v.y);c&&W.closePath()}this._fillStroke(W,s)}}},_updateCircle:function(s){if(this._drawing&&!s._empty()){var c=s._point,d=this._ctx,f=Math.max(Math.round(s._radius),1),m=(Math.max(Math.round(s._radiusY),1)||f)/f;1!==m&&(d.save(),d.scale(1,m)),d.beginPath(),d.arc(c.x,c.y/m,f,0,2*Math.PI,!1),1!==m&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,c){var d=c.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&0!==d.weight&&(s.setLineDash&&s.setLineDash(c.options&&c.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var d,f,c=this._map.mouseEventToLayerPoint(s),m=this._drawFirst;m;m=m.next)(d=m.layer).options.interactive&&d._containsPoint(c)&&("click"!==s.type&&"preclick"!==s.type||!this._map._draggableMoved(d))&&(f=d);this._fireEvent(!!f&&[f],s)},_onMouseMove:function(s){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var c=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,c)}},_handleMouseOut:function(s){var c=this._hoveredLayer;c&&(Zt(this._container,"leaflet-interactive"),this._fireEvent([c],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,c){if(!this._mouseHoverThrottled){for(var d,f,m=this._drawFirst;m;m=m.next)(d=m.layer).options.interactive&&d._containsPoint(c)&&(f=d);f!==this._hoveredLayer&&(this._handleMouseOut(s),f&&(Ke(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseover"),this._hoveredLayer=f)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(V(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,c,d){this._map._fireDOMEvent(c,d||c.type,s)},_bringToFront:function(s){var c=s._order;if(c){var d=c.next,f=c.prev;if(!d)return;d.prev=f,f?f.next=d:d&&(this._drawFirst=d),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(s)}},_bringToBack:function(s){var c=s._order;if(c){var d=c.next,f=c.prev;if(!f)return;f.next=d,d?d.prev=f:f&&(this._drawLast=f),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(s)}}});function Xh(s){return Ce.canvas?new Hs(s):null}var js=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),$0={_initContainer:function(){this._container=ct("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(br.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var c=s._container=js("shape");Ke(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",s._path=js("path"),c.appendChild(s._path),this._updateStyle(s),this._layers[M(s)]=s},_addPath:function(s){var c=s._container;this._container.appendChild(c),s.options.interactive&&s.addInteractiveTarget(c)},_removePath:function(s){var c=s._container;jt(c),s.removeInteractiveTarget(c),delete this._layers[M(s)]},_updateStyle:function(s){var c=s._stroke,d=s._fill,f=s.options,m=s._container;m.stroked=!!f.stroke,m.filled=!!f.fill,f.stroke?(c||(c=s._stroke=js("stroke")),m.appendChild(c),c.weight=f.weight+"px",c.color=f.color,c.opacity=f.opacity,c.dashStyle=f.dashArray?k(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):"",c.endcap=f.lineCap.replace("butt","flat"),c.joinstyle=f.lineJoin):c&&(m.removeChild(c),s._stroke=null),f.fill?(d||(d=s._fill=js("fill")),m.appendChild(d),d.color=f.fillColor||f.color,d.opacity=f.fillOpacity):d&&(m.removeChild(d),s._fill=null)},_updateCircle:function(s){var c=s._point.round(),d=Math.round(s._radius),f=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+c.x+","+c.y+" "+d+","+f+" 0,23592600")},_setPath:function(s,c){s._path.v=c},_bringToFront:function(s){To(s._container)},_bringToBack:function(s){Mo(s._container)}},Us=Ce.vml?js:cn,Hr=br.extend({_initContainer:function(){this._container=Us("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Us("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){jt(this._container),wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){br.prototype._update.call(this);var s=this._bounds,c=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,d.setAttribute("width",c.x),d.setAttribute("height",c.y)),qt(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(s){var c=s._path=Us("path");s.options.className&&Ke(c,s.options.className),s.options.interactive&&Ke(c,"leaflet-interactive"),this._updateStyle(s),this._layers[M(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){jt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[M(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var c=s._path,d=s.options;c&&(d.stroke?(c.setAttribute("stroke",d.color),c.setAttribute("stroke-opacity",d.opacity),c.setAttribute("stroke-width",d.weight),c.setAttribute("stroke-linecap",d.lineCap),c.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?c.setAttribute("stroke-dasharray",d.dashArray):c.removeAttribute("stroke-dasharray"),d.dashOffset?c.setAttribute("stroke-dashoffset",d.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),d.fill?(c.setAttribute("fill",d.fillColor||d.color),c.setAttribute("fill-opacity",d.fillOpacity),c.setAttribute("fill-rule",d.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(s,c){this._setPath(s,Qr(s._parts,c))},_updateCircle:function(s){var c=s._point,d=Math.max(Math.round(s._radius),1),m="a"+d+","+(Math.max(Math.round(s._radiusY),1)||d)+" 0 1,0 ",v=s._empty()?"M0 0":"M"+(c.x-d)+","+c.y+m+2*d+",0 "+m+2*-d+",0 ";this._setPath(s,v)},_setPath:function(s,c){s._path.setAttribute("d",c)},_bringToFront:function(s){To(s._path)},_bringToBack:function(s){Mo(s._path)}});function Jh(s){return Ce.svg||Ce.vml?new Hr(s):null}Ce.vml&&Hr.include($0),at.include({getRenderer:function(s){var c=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(s){if("overlayPane"===s||void 0===s)return!1;var c=this._paneRenderers[s];return void 0===c&&(c=this._createRenderer({pane:s}),this._paneRenderers[s]=c),c},_createRenderer:function(s){return this.options.preferCanvas&&Xh(s)||Jh(s)}});var ei=ks.extend({initialize:function(s,c){ks.prototype.initialize.call(this,this._boundsToLatLngs(s),c)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=ne(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});Hr.create=Us,Hr.pointsToPath=Qr,lr.geometryToLayer=tl,lr.coordsToLatLng=cu,lr.coordsToLatLngs=ro,lr.latLngToCoords=Oo,lr.latLngsToCoords=Fo,lr.getFeature=io,lr.asFeature=nl,at.mergeOptions({boxZoom:!0});var Me=Gn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),No(),$a(),this._startPoint=this._map.mouseEventToContainerPoint(s),Ge(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ct("div","leaflet-zoom-box",this._container),Ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var c=new Te(this._point,this._startPoint),d=c.getSize();qt(this._box,c.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(jt(this._box),Zt(this._container,"leaflet-crosshair")),Ts(),Wa(),wt(document,{contextmenu:wr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if((1===s.which||1===s.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(V(this._resetState,this),0);var c=new re(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(s){27===s.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});at.addInitHook("addHandler","boxZoom",Me),at.mergeOptions({doubleClickZoom:!0});var fu=Gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var c=this._map,d=c.getZoom(),f=c.options.zoomDelta,m=s.originalEvent.shiftKey?d-f:d+f;"center"===c.options.doubleClickZoom?c.setZoom(m):c.setZoomAround(s.containerPoint,m)}});at.addInitHook("addHandler","doubleClickZoom",fu),at.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var pe=Gn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new no(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Zt(this._map._container,"leaflet-grab"),Zt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ne(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var c=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(c),this._prunePositions(c)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,c){return s-(s-c)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var s=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;s.x<c.min.x&&(s.x=this._viscousLimit(s.x,c.min.x)),s.y<c.min.y&&(s.y=this._viscousLimit(s.y,c.min.y)),s.x>c.max.x&&(s.x=this._viscousLimit(s.x,c.max.x)),s.y>c.max.y&&(s.y=this._viscousLimit(s.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,c=Math.round(s/2),d=this._initialWorldOffset,f=this._draggable._newPos.x,m=(f-c+d)%s+c-d,v=(f+c+d)%s-c-d,T=Math.abs(m+d)<Math.abs(v+d)?m:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(s){var c=this._map,d=c.options,f=!d.inertia||s.noInertia||this._times.length<2;if(c.fire("dragend",s),f)c.fire("moveend");else{this._prunePositions(+new Date);var m=this._lastPos.subtract(this._positions[0]),T=d.easeLinearity,B=m.multiplyBy(T/((this._lastTime-this._times[0])/1e3)),W=B.distanceTo([0,0]),ie=Math.min(d.inertiaMaxSpeed,W),De=B.multiplyBy(ie/W),Be=ie/(d.inertiaDeceleration*T),Je=De.multiplyBy(-Be/2).round();Je.x||Je.y?(Je=c._limitOffset(Je,c.options.maxBounds),se(function(){c.panBy(Je,{duration:Be,easeLinearity:T,noMoveStart:!0,animate:!0})})):c.fire("moveend")}}});at.addInitHook("addHandler","dragging",pe),at.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zs=Gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Ge(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,c=document.documentElement,d=s.scrollTop||c.scrollTop,f=s.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(f,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var f,m,c=this._panKeys={},d=this.keyCodes;for(f=0,m=d.left.length;f<m;f++)c[d.left[f]]=[-1*s,0];for(f=0,m=d.right.length;f<m;f++)c[d.right[f]]=[s,0];for(f=0,m=d.down.length;f<m;f++)c[d.down[f]]=[0,s];for(f=0,m=d.up.length;f<m;f++)c[d.up[f]]=[0,-1*s]},_setZoomDelta:function(s){var f,m,c=this._zoomKeys={},d=this.keyCodes;for(f=0,m=d.zoomIn.length;f<m;f++)c[d.zoomIn[f]]=s;for(f=0,m=d.zoomOut.length;f<m;f++)c[d.zoomOut[f]]=-s},_addHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var f,c=s.keyCode,d=this._map;if(c in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(f=this._panKeys[c],s.shiftKey&&(f=me(f).multiplyBy(3)),d.options.maxBounds&&(f=d._limitOffset(me(f),d.options.maxBounds)),d.options.worldCopyJump){var m=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(f)));d.panTo(m)}else d.panBy(f)}else if(c in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[c]);else{if(27!==c||!d._popup||!d._popup.options.closeOnEscapeKey)return;d.closePopup()}wr(s)}}});at.addInitHook("addHandler","keyboard",zs),at.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ol=Gn.extend({addHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var c=jh(s),d=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var f=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(V(this._performZoom,this),f),wr(s)},_performZoom:function(){var s=this._map,c=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var m=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,v=d?Math.ceil(m/d)*d:m,T=s._limitZoom(c+(this._delta>0?v:-v))-c;this._delta=0,this._startTime=null,T&&("center"===s.options.scrollWheelZoom?s.setZoom(c+T):s.setZoomAround(this._lastMousePos,c+T))}});at.addInitHook("addHandler","scrollWheelZoom",ol);at.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var ef=Gn.extend({addHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),1===s.touches.length){var c=s.touches[0];this._startPos=this._newPos=new de(c.clientX,c.clientY),this._holdTimeout=setTimeout(V(function(){this._cancel(),this._isTapValid()&&(Ge(document,"touchend",hn),Ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),600),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){wt(document,"touchend",hn),wt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),wt(document,"touchend touchcancel contextmenu",this._cancel,this),wt(document,"touchmove",this._onMove,this)},_onMove:function(s){var c=s.touches[0];this._newPos=new de(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,c){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});d._simulated=!0,c.target.dispatchEvent(d)}});at.addInitHook("addHandler","tapHold",ef),at.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var tf=Gn.extend({addHooks:function(){Ke(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Zt(this._map._container,"leaflet-touch-zoom"),wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var c=this._map;if(s.touches&&2===s.touches.length&&!c._animatingZoom&&!this._zooming){var d=c.mouseEventToContainerPoint(s.touches[0]),f=c.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),"center"!==c.options.touchZoom&&(this._pinchStartLatLng=c.containerPointToLatLng(d.add(f)._divideBy(2))),this._startDist=d.distanceTo(f),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),hn(s)}},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var c=this._map,d=c.mouseEventToContainerPoint(s.touches[0]),f=c.mouseEventToContainerPoint(s.touches[1]),m=d.distanceTo(f)/this._startDist;if(this._zoom=c.getScaleZoom(m,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&m<1||this._zoom>c.getMaxZoom()&&m>1)&&(this._zoom=c._limitZoom(this._zoom)),"center"===c.options.touchZoom){if(this._center=this._startLatLng,1===m)return}else{var v=d._add(f)._divideBy(2)._subtract(this._centerPoint);if(1===m&&0===v.x&&0===v.y)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),ue(this._animRequest);var T=V(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=se(T,this,!0),hn(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,ue(this._animRequest),wt(document,"touchmove",this._onTouchMove,this),wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});at.addInitHook("addHandler","touchZoom",tf),at.BoxZoom=Me,at.DoubleClickZoom=fu,at.Drag=pe,at.Keyboard=zs,at.ScrollWheelZoom=ol,at.TapHold=ef,at.TouchZoom=tf,I.Bounds=Te,I.Browser=Ce,I.CRS=st,I.Canvas=Hs,I.Circle=qh,I.CircleMarker=Fe,I.Class=X,I.Control=Er,I.DivIcon=Qh,I.DivOverlay=_e,I.DomEvent=P0,I.DomUtil=N0,I.Draggable=no,I.Evented=ce,I.FeatureGroup=Ii,I.GeoJSON=lr,I.GridLayer=il,I.Handler=Gn,I.Icon=Os,I.ImageOverlay=vn,I.LatLng=Y,I.LatLngBounds=re,I.Layer=Dr,I.LayerGroup=Rs,I.LineUtil=L0,I.Map=at,I.Marker=el,I.Mixin=en,I.Path=Kt,I.Point=de,I.PolyUtil=Ya,I.Polygon=ks,I.Polyline=Ai,I.Popup=ko,I.PosAnimation=Uh,I.Projection=B0,I.Rectangle=ei,I.Renderer=br,I.SVG=Hr,I.SVGOverlay=j0,I.TileLayer=Bs,I.Tooltip=Ls,I.Transformation=mr,I.Util=be,I.VideoOverlay=H0,I.bind=V,I.bounds=ee,I.canvas=Xh,I.circle=function fw(s,c,d){return new qh(s,c,d)},I.circleMarker=function hw(s,c){return new Fe(s,c)},I.control=Nt,I.divIcon=function hu(s){return new Qh(s)},I.extend=x,I.featureGroup=function(s,c){return new Ii(s,c)},I.geoJSON=rl,I.geoJson=Kh,I.gridLayer=function gw(s){return new il(s)},I.icon=function uw(s){return new Os(s)},I.imageOverlay=function(s,c,d){return new vn(s,c,d)},I.latLng=Pe,I.latLngBounds=ne,I.layerGroup=function(s,c){return new Rs(s,c)},I.map=function R0(s,c){return new at(s,c)},I.marker=function dw(s,c){return new el(s,c)},I.point=me,I.polygon=function Zn(s,c){return new ks(s,c)},I.polyline=function Ie(s,c){return new Ai(s,c)},I.popup=function(s,c){return new ko(s,c)},I.rectangle=function W0(s,c){return new ei(s,c)},I.setOptions=C,I.stamp=M,I.svg=Jh,I.svgOverlay=function pw(s,c,d){return new j0(s,c,d)},I.tileLayer=U0,I.tooltip=function(s,c){return new Ls(s,c)},I.transformation=Yr,I.version="1.9.4",I.videoOverlay=function Et(s,c,d){return new H0(s,c,d)};var G0=window.L;I.noConflict=function(){return window.L=G0,this},window.L=I}(Ee)},480:()=>{}},we=>{we(we.s=242)}]);